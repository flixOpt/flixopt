<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Energy and Material Flow Optimization Framework"><link href=https://flixopt.github.io/flixopt/3.2.1/api-reference/commons/ rel=canonical><link href=../color_processing/ rel=prev><link href=../components/ rel=next><link rel=icon href=../../images/flixopt-icon.svg><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.22"><title>Commons - flixopt</title><link rel=stylesheet href=../../assets/stylesheets/main.84d31ad4.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><style>:root{--md-annotation-icon:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M17%2013h-4v4h-2v-4H7v-2h4V7h2v4h4m-5-9A10%2010%200%200%200%202%2012a10%2010%200%200%200%2010%2010%2010%2010%200%200%200%2010-10A10%2010%200%200%200%2012%202%22/%3E%3C/svg%3E');}</style><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Inter";--md-code-font:"Fira Code"}</style><link rel=stylesheet href=../../css/timeago.css><link rel=stylesheet href=../../assets/_mkdocstrings.css><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",""),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#flixopt.commons class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title=flixopt class="md-header__button md-logo" aria-label=flixopt data-md-component=logo> <img src=../../images/flixopt-icon.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> flixopt </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Commons </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=teal data-md-color-accent=cyan aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=teal data-md-color-accent=cyan aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/flixOpt/flixopt title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> flixOpt/flixopt </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../user-guide/ class=md-tabs__link> User Guide </a> </li> <li class=md-tabs__item> <a href=../../examples/ class=md-tabs__link> Examples </a> </li> <li class=md-tabs__item> <a href=../../contribute/ class=md-tabs__link> Contribute </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../ class=md-tabs__link> API Reference </a> </li> <li class=md-tabs__item> <a href=../../changelog/ class=md-tabs__link> Release Notes </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=flixopt class="md-nav__button md-logo" aria-label=flixopt data-md-component=logo> <img src=../../images/flixopt-icon.svg alt=logo> </a> flixopt </label> <div class=md-nav__source> <a href=https://github.com/flixOpt/flixopt title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> flixOpt/flixopt </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../user-guide/ class=md-nav__link> <span class=md-ellipsis> User Guide </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../examples/ class=md-nav__link> <span class=md-ellipsis> Examples </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../contribute/ class=md-nav__link> <span class=md-ellipsis> Contribute </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> API Reference </span> </a> <label class="md-nav__link " for=__nav_5 id=__nav_5_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> API Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../aggregation/ class=md-nav__link> <span class=md-ellipsis> Aggregation </span> </a> </li> <li class=md-nav__item> <a href=../calculation/ class=md-nav__link> <span class=md-ellipsis> Calculation </span> </a> </li> <li class=md-nav__item> <a href=../color_processing/ class=md-nav__link> <span class=md-ellipsis> Color processing </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Commons </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Commons </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#flixopt.commons-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#flixopt.commons.AggregationParameters class=md-nav__link> <span class=md-ellipsis> AggregationParameters </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.commons.AggregatedCalculation class=md-nav__link> <span class=md-ellipsis> AggregatedCalculation </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.commons.FullCalculation class=md-nav__link> <span class=md-ellipsis> FullCalculation </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.commons.SegmentedCalculation class=md-nav__link> <span class=md-ellipsis> SegmentedCalculation </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.commons.LinearConverter class=md-nav__link> <span class=md-ellipsis> LinearConverter </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.commons.Sink class=md-nav__link> <span class=md-ellipsis> Sink </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.commons.Source class=md-nav__link> <span class=md-ellipsis> Source </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.commons.SourceAndSink class=md-nav__link> <span class=md-ellipsis> SourceAndSink </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.commons.Storage class=md-nav__link> <span class=md-ellipsis> Storage </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.commons.Transmission class=md-nav__link> <span class=md-ellipsis> Transmission </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.commons.CONFIG class=md-nav__link> <span class=md-ellipsis> CONFIG </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.commons.TimeSeriesData class=md-nav__link> <span class=md-ellipsis> TimeSeriesData </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.commons.Effect class=md-nav__link> <span class=md-ellipsis> Effect </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.commons.Bus class=md-nav__link> <span class=md-ellipsis> Bus </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.commons.Flow class=md-nav__link> <span class=md-ellipsis> Flow </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.commons.FlowSystem class=md-nav__link> <span class=md-ellipsis> FlowSystem </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.commons.InvestParameters class=md-nav__link> <span class=md-ellipsis> InvestParameters </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.commons.OnOffParameters class=md-nav__link> <span class=md-ellipsis> OnOffParameters </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.commons.Piece class=md-nav__link> <span class=md-ellipsis> Piece </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.commons.Piecewise class=md-nav__link> <span class=md-ellipsis> Piecewise </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.commons.PiecewiseConversion class=md-nav__link> <span class=md-ellipsis> PiecewiseConversion </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.commons.PiecewiseEffects class=md-nav__link> <span class=md-ellipsis> PiecewiseEffects </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#flixopt.commons-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> <nav class=md-nav aria-label=Functions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#flixopt.commons.change_logging_level class=md-nav__link> <span class=md-ellipsis> change_logging_level </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../components/ class=md-nav__link> <span class=md-ellipsis> Components </span> </a> </li> <li class=md-nav__item> <a href=../config/ class=md-nav__link> <span class=md-ellipsis> Config </span> </a> </li> <li class=md-nav__item> <a href=../core/ class=md-nav__link> <span class=md-ellipsis> Core </span> </a> </li> <li class=md-nav__item> <a href=../effects/ class=md-nav__link> <span class=md-ellipsis> Effects </span> </a> </li> <li class=md-nav__item> <a href=../elements/ class=md-nav__link> <span class=md-ellipsis> Elements </span> </a> </li> <li class=md-nav__item> <a href=../features/ class=md-nav__link> <span class=md-ellipsis> Features </span> </a> </li> <li class=md-nav__item> <a href=../flow_system/ class=md-nav__link> <span class=md-ellipsis> Flow system </span> </a> </li> <li class=md-nav__item> <a href=../interface/ class=md-nav__link> <span class=md-ellipsis> Interface </span> </a> </li> <li class=md-nav__item> <a href=../io/ class=md-nav__link> <span class=md-ellipsis> Io </span> </a> </li> <li class=md-nav__item> <a href=../linear_converters/ class=md-nav__link> <span class=md-ellipsis> Linear converters </span> </a> </li> <li class=md-nav__item> <a href=../modeling/ class=md-nav__link> <span class=md-ellipsis> Modeling </span> </a> </li> <li class=md-nav__item> <a href=../network_app/ class=md-nav__link> <span class=md-ellipsis> Network app </span> </a> </li> <li class=md-nav__item> <a href=../plotting/ class=md-nav__link> <span class=md-ellipsis> Plotting </span> </a> </li> <li class=md-nav__item> <a href=../results/ class=md-nav__link> <span class=md-ellipsis> Results </span> </a> </li> <li class=md-nav__item> <a href=../solvers/ class=md-nav__link> <span class=md-ellipsis> Solvers </span> </a> </li> <li class=md-nav__item> <a href=../structure/ class=md-nav__link> <span class=md-ellipsis> Structure </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../changelog/ class=md-nav__link> <span class=md-ellipsis> Release Notes </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/flixOpt/flixopt/edit/master/docs/flixopt/commons.py title="Edit this page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg> </a> <a href=https://github.com/flixOpt/flixopt/raw/master/docs/flixopt/commons.py title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5"/></svg> </a> <div class="doc doc-object doc-module"> <h1 id=flixopt.commons class="doc doc-heading"> <span class="doc doc-object-name doc-module-name">flixopt.commons</span> <a href=#flixopt.commons class=headerlink title="Anchor link to this section">&para;</a></h1> <div class="doc doc-contents first"> <p>This module makes the commonly used classes and functions available in the flixopt framework.</p> <div class="doc doc-children"> <h2 id=flixopt.commons-classes>Classes<a href=#flixopt.commons-classes class=headerlink title="Anchor link to this section">&para;</a></h2> <div class="doc doc-object doc-class"> <h3 id=flixopt.commons.AggregationParameters class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">AggregationParameters</span> <a href=#flixopt.commons.AggregationParameters class=headerlink title="Anchor link to this section">&para;</a></h3> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>AggregationParameters</span><span class=p>(</span><span class=n>hours_per_period</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>nr_of_periods</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>fix_storage_flows</span><span class=p>:</span> <span class=nb>bool</span><span class=p>,</span> <span class=n>aggregate_data_and_fix_non_binary_vars</span><span class=p>:</span> <span class=nb>bool</span><span class=p>,</span> <span class=n>percentage_of_period_freedom</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>penalty_of_period_freedom</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>time_series_for_high_peaks</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=n>TimeSeriesData</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>time_series_for_low_peaks</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=n>TimeSeriesData</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Initializes aggregation parameters for time series data</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>hours_per_period</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#float>float</a></code> </td> <td> <div class=doc-md-description> <p>Duration of each period in hours.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>nr_of_periods</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Number of typical periods to use in the aggregation.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>fix_storage_flows</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>Whether to aggregate storage flows (load/unload); if other flows are fixed, fixing storage flows is usually not required.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>aggregate_data_and_fix_non_binary_vars</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>Whether to aggregate all time series data, which allows to fix all time series variables (like flow_rate), or only fix binary variables. If False non time_series data is changed!! If True, the mathematical Problem is simplified even further.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>percentage_of_period_freedom</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#float>float</a></code> </td> <td> <div class=doc-md-description> <p>Specifies the maximum percentage (0–100) of binary values within each period that can deviate as "free variables", chosen by the solver (default is 0). This allows binary variables to be 'partly equated' between aggregated periods.</p> </div> </td> <td> <code>0</code> </td> </tr> <tr class=doc-section-item> <td> <code>penalty_of_period_freedom</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#float>float</a></code> </td> <td> <div class=doc-md-description> <p>The penalty associated with each "free variable"; defaults to 0. Added to Penalty</p> </div> </td> <td> <code>0</code> </td> </tr> <tr class=doc-section-item> <td> <code>time_series_for_high_peaks</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">TimeSeriesData</span> (<code>flixopt.core.TimeSeriesData</code>)' href=../core/#flixopt.core.TimeSeriesData>TimeSeriesData</a>] | None</code> </td> <td> <div class=doc-md-description> <p>List of TimeSeriesData to use for explicitly selecting periods with high values.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>time_series_for_low_peaks</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">TimeSeriesData</span> (<code>flixopt.core.TimeSeriesData</code>)' href=../core/#flixopt.core.TimeSeriesData>TimeSeriesData</a>] | None</code> </td> <td> <div class=doc-md-description> <p>List of TimeSeriesData to use for explicitly selecting periods with low values.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <div class="doc doc-children"> <h4 id=flixopt.commons.AggregationParameters-functions>Functions<a href=#flixopt.commons.AggregationParameters-functions class=headerlink title="Anchor link to this section">&para;</a></h4> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=flixopt.commons.AggregatedCalculation class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">AggregatedCalculation</span> <a href=#flixopt.commons.AggregatedCalculation class=headerlink title="Anchor link to this section">&para;</a></h3> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>AggregatedCalculation</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>flow_system</span><span class=p>:</span> <span class=n>FlowSystem</span><span class=p>,</span> <span class=n>aggregation_parameters</span><span class=p>:</span> <span class=n>AggregationParameters</span><span class=p>,</span> <span class=n>components_to_clusterize</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=n>Component</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>active_timesteps</span><span class=p>:</span> <span class=n>Annotated</span><span class=p>[</span><span class=n>DatetimeIndex</span> <span class=o>|</span> <span class=kc>None</span><span class=p>,</span> <span class=s1>&#39;DEPRECATED: Use flow_system.sel(time=...) or flow_system.isel(time=...) instead&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>folder</span><span class=p>:</span> <span class=n>Path</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FullCalculation</span> (<code>flixopt.calculation.FullCalculation</code>)' href=../calculation/#flixopt.calculation.FullCalculation>FullCalculation</a></code></p> <p>AggregatedCalculation reduces computational complexity by clustering time series into typical periods.</p> <p>This calculation approach aggregates time series data using clustering techniques (tsam) to identify representative time periods, significantly reducing computation time while maintaining solution accuracy.</p> <details class=note open> <summary>Note</summary> <p>The quality of the solution depends on the choice of aggregation parameters. The optimal parameters depend on the specific problem and the characteristics of the time series data. For more information, refer to the <a href=https://tsam.readthedocs.io/en/latest/ >tsam documentation</a>.</p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>name</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>Name of the calculation</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>flow_system</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=../flow_system/#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>FlowSystem to be optimized</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>aggregation_parameters</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">AggregationParameters</span> (<code>flixopt.aggregation.AggregationParameters</code>)' href=../aggregation/#flixopt.aggregation.AggregationParameters>AggregationParameters</a></code> </td> <td> <div class=doc-md-description> <p>Parameters for aggregation. See AggregationParameters class documentation</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>components_to_clusterize</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Component</span> (<code>flixopt.elements.Component</code>)' href=../elements/#flixopt.elements.Component>Component</a>] | None</code> </td> <td> <div class=doc-md-description> <p>list of Components to perform aggregation on. If None, all components are aggregated. This equalizes variables in the components according to the typical periods computed in the aggregation</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>active_timesteps</code> </td> <td> <code><a class="autorefs autorefs-external" title="<code>typing.Annotated</code>" href=https://docs.python.org/3/library/typing.html#typing.Annotated>Annotated</a>[<a class="autorefs autorefs-external" title="<code>pandas.DatetimeIndex</code>" href=https://pandas.pydata.org/docs/reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex>DatetimeIndex</a> | None, &#39;DEPRECATED: Use flow_system.sel(time=...) or flow_system.isel(time=...) instead&#39;]</code> </td> <td> <div class=doc-md-description> <p>DatetimeIndex of timesteps to use for calculation. If None, all timesteps are used</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>folder</code> </td> <td> <code><a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a> | None</code> </td> <td> <div class=doc-md-description> <p>Folder where results should be saved. If None, current working directory is used</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Attributes:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code><span title=flixopt.commons.AggregatedCalculation.aggregation>aggregation</span></code></td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Aggregation</span> (<code>flixopt.aggregation.Aggregation</code>)' href=../aggregation/#flixopt.aggregation.Aggregation>Aggregation</a> | None</code> </td> <td> <div class=doc-md-description> <p>Contains the clustered time series data</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=flixopt.commons.AggregatedCalculation.aggregation_model>aggregation_model</span></code></td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">AggregationModel</span> (<code>flixopt.aggregation.AggregationModel</code>)' href=../aggregation/#flixopt.aggregation.AggregationModel>AggregationModel</a> | None</code> </td> <td> <div class=doc-md-description> <p>Contains Variables and Constraints that equalize clusters of the time series data</p> </div> </td> </tr> </tbody> </table> <div class="doc doc-children"> <h4 id=flixopt.commons.AggregatedCalculation-functions>Functions<a href=#flixopt.commons.AggregatedCalculation-functions class=headerlink title="Anchor link to this section">&para;</a></h4> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.AggregatedCalculation.fix_sizes class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">fix_sizes</span> <a href=#flixopt.commons.AggregatedCalculation.fix_sizes class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>fix_sizes</span><span class=p>(</span><span class=n>ds</span><span class=p>:</span> <span class=n>Dataset</span><span class=p>,</span> <span class=n>decimal_rounding</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=mi>5</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>FullCalculation</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Fix the sizes of the calculations to specified values.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ds</code> </td> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>The dataset that contains the variable names mapped to their sizes. If None, the dataset is loaded from the results.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>decimal_rounding</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a> | None</code> </td> <td> <div class=doc-md-description> <p>The number of decimal places to round the sizes to. If no rounding is applied, numerical errors might lead to infeasibility.</p> </div> </td> <td> <code>5</code> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.AggregatedCalculation.calculate_aggregation_weights class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">calculate_aggregation_weights</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.AggregatedCalculation.calculate_aggregation_weights class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>calculate_aggregation_weights</span><span class=p>(</span><span class=n>ds</span><span class=p>:</span> <span class=n>Dataset</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>float</span><span class=p>]</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Calculate weights for all datavars in the dataset. Weights are pulled from the attrs of the datavars.</p> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=flixopt.commons.FullCalculation class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">FullCalculation</span> <a href=#flixopt.commons.FullCalculation class=headerlink title="Anchor link to this section">&para;</a></h3> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>FullCalculation</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>flow_system</span><span class=p>:</span> <span class=n>FlowSystem</span><span class=p>,</span> <span class=n>active_timesteps</span><span class=p>:</span> <span class=n>Annotated</span><span class=p>[</span><span class=n>DatetimeIndex</span> <span class=o>|</span> <span class=kc>None</span><span class=p>,</span> <span class=s1>&#39;DEPRECATED: Use flow_system.sel(time=...) or flow_system.isel(time=...) instead&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>folder</span><span class=p>:</span> <span class=n>Path</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>normalize_weights</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Calculation</span> (<code>flixopt.calculation.Calculation</code>)' href=../calculation/#flixopt.calculation.Calculation>Calculation</a></code></p> <p>FullCalculation solves the complete optimization problem using all time steps.</p> <p>This is the most comprehensive calculation type that considers every time step in the optimization, providing the most accurate but computationally intensive solution.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>name</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>name of calculation</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>flow_system</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=../flow_system/#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>flow_system which should be calculated</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>folder</code> </td> <td> <code><a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a> | None</code> </td> <td> <div class=doc-md-description> <p>folder where results should be saved. If None, then the current working directory is used.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>normalize_weights</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>Whether to automatically normalize the weights (periods and scenarios) to sum up to 1 when solving.</p> </div> </td> <td> <code>True</code> </td> </tr> <tr class=doc-section-item> <td> <code>active_timesteps</code> </td> <td> <code><a class="autorefs autorefs-external" title="<code>typing.Annotated</code>" href=https://docs.python.org/3/library/typing.html#typing.Annotated>Annotated</a>[<a class="autorefs autorefs-external" title="<code>pandas.DatetimeIndex</code>" href=https://pandas.pydata.org/docs/reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex>DatetimeIndex</a> | None, &#39;DEPRECATED: Use flow_system.sel(time=...) or flow_system.isel(time=...) instead&#39;]</code> </td> <td> <div class=doc-md-description> <p>Deprecated. Use FlowSystem.sel(time=...) or FlowSystem.isel(time=...) instead.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <div class="doc doc-children"> <h4 id=flixopt.commons.FullCalculation-functions>Functions<a href=#flixopt.commons.FullCalculation-functions class=headerlink title="Anchor link to this section">&para;</a></h4> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.FullCalculation.fix_sizes class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">fix_sizes</span> <a href=#flixopt.commons.FullCalculation.fix_sizes class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>fix_sizes</span><span class=p>(</span><span class=n>ds</span><span class=p>:</span> <span class=n>Dataset</span><span class=p>,</span> <span class=n>decimal_rounding</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=mi>5</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>FullCalculation</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Fix the sizes of the calculations to specified values.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ds</code> </td> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>The dataset that contains the variable names mapped to their sizes. If None, the dataset is loaded from the results.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>decimal_rounding</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a> | None</code> </td> <td> <div class=doc-md-description> <p>The number of decimal places to round the sizes to. If no rounding is applied, numerical errors might lead to infeasibility.</p> </div> </td> <td> <code>5</code> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=flixopt.commons.SegmentedCalculation class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">SegmentedCalculation</span> <a href=#flixopt.commons.SegmentedCalculation class=headerlink title="Anchor link to this section">&para;</a></h3> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>SegmentedCalculation</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>flow_system</span><span class=p>:</span> <span class=n>FlowSystem</span><span class=p>,</span> <span class=n>timesteps_per_segment</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>overlap_timesteps</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>nr_of_previous_values</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>folder</span><span class=p>:</span> <span class=n>Path</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Calculation</span> (<code>flixopt.calculation.Calculation</code>)' href=../calculation/#flixopt.calculation.Calculation>Calculation</a></code></p> <p>Solve large optimization problems by dividing time horizon into (overlapping) segments.</p> <p>This class addresses memory and computational limitations of large-scale optimization problems by decomposing the time horizon into smaller overlapping segments that are solved sequentially. Each segment uses final values from the previous segment as initial conditions, ensuring dynamic continuity across the solution.</p> <details class=key-concepts open> <summary>Key Concepts</summary> <p><strong>Temporal Decomposition</strong>: Divides long time horizons into manageable segments <strong>Overlapping Windows</strong>: Segments share timesteps to improve storage dynamics <strong>Value Transfer</strong>: Final states of one segment become initial states of the next <strong>Sequential Solving</strong>: Each segment solved independently but with coupling</p> </details> <details class=limitations-and-constraints open> <summary>Limitations and Constraints</summary> <p><strong>Investment Parameters</strong>: InvestParameters are not supported in segmented calculations as investment decisions must be made for the entire time horizon, not per segment.</p> <p><strong>Global Constraints</strong>: Time-horizon-wide constraints (flow_hours_total_min/max, load_factor_min/max) may produce suboptimal results as they cannot be enforced globally across segments.</p> <p><strong>Storage Dynamics</strong>: While overlap helps, storage optimization may be suboptimal compared to full-horizon solutions due to limited foresight in each segment.</p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>name</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>Unique identifier for the calculation, used in result files and logging.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>flow_system</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=../flow_system/#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>The FlowSystem to optimize, containing all components, flows, and buses.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>timesteps_per_segment</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Number of timesteps in each segment (excluding overlap). Must be &gt; 2 to avoid internal side effects. Larger values provide better optimization at the cost of memory and computation time.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>overlap_timesteps</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Number of additional timesteps added to each segment. Improves storage optimization by providing lookahead. Higher values improve solution quality but increase computational cost.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>nr_of_previous_values</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Number of previous timestep values to transfer between segments for initialization. Typically 1 is sufficient.</p> </div> </td> <td> <code>1</code> </td> </tr> <tr class=doc-section-item> <td> <code>folder</code> </td> <td> <code><a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a> | None</code> </td> <td> <div class=doc-md-description> <p>Directory for saving results. Defaults to current working directory + 'results'.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <p>Annual optimization with monthly segments:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=c1># 8760 hours annual data with monthly segments (730 hours) and 48-hour overlap</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=n>segmented_calc</span> <span class=o>=</span> <span class=n>SegmentedCalculation</span><span class=p>(</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    <span class=n>name</span><span class=o>=</span><span class=s1>&#39;annual_energy_system&#39;</span><span class=p>,</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    <span class=n>flow_system</span><span class=o>=</span><span class=n>energy_system</span><span class=p>,</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    <span class=n>timesteps_per_segment</span><span class=o>=</span><span class=mi>730</span><span class=p>,</span>  <span class=c1># ~1 month</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>    <span class=n>overlap_timesteps</span><span class=o>=</span><span class=mi>48</span><span class=p>,</span>  <span class=c1># 2 days overlap</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>    <span class=n>folder</span><span class=o>=</span><span class=n>Path</span><span class=p>(</span><span class=s1>&#39;results/segmented&#39;</span><span class=p>),</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=p>)</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=n>segmented_calc</span><span class=o>.</span><span class=n>do_modeling_and_solve</span><span class=p>(</span><span class=n>solver</span><span class=o>=</span><span class=s1>&#39;gurobi&#39;</span><span class=p>)</span>
</span></code></pre></div> <p>Weekly optimization with daily overlap:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=c1># Weekly segments for detailed operational planning</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=n>weekly_calc</span> <span class=o>=</span> <span class=n>SegmentedCalculation</span><span class=p>(</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>    <span class=n>name</span><span class=o>=</span><span class=s1>&#39;weekly_operations&#39;</span><span class=p>,</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>    <span class=n>flow_system</span><span class=o>=</span><span class=n>industrial_system</span><span class=p>,</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>    <span class=n>timesteps_per_segment</span><span class=o>=</span><span class=mi>168</span><span class=p>,</span>  <span class=c1># 1 week (hourly data)</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>    <span class=n>overlap_timesteps</span><span class=o>=</span><span class=mi>24</span><span class=p>,</span>  <span class=c1># 1 day overlap</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a>    <span class=n>nr_of_previous_values</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=p>)</span>
</span></code></pre></div> <p>Large-scale system with minimal overlap:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=c1># Large system with minimal overlap for computational efficiency</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=n>large_calc</span> <span class=o>=</span> <span class=n>SegmentedCalculation</span><span class=p>(</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>    <span class=n>name</span><span class=o>=</span><span class=s1>&#39;large_scale_grid&#39;</span><span class=p>,</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>    <span class=n>flow_system</span><span class=o>=</span><span class=n>grid_system</span><span class=p>,</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>    <span class=n>timesteps_per_segment</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span>  <span class=c1># Shorter segments</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>    <span class=n>overlap_timesteps</span><span class=o>=</span><span class=mi>5</span><span class=p>,</span>  <span class=c1># Minimal overlap</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=p>)</span>
</span></code></pre></div> <details class=design-considerations open> <summary>Design Considerations</summary> <p><strong>Segment Size</strong>: Balance between solution quality and computational efficiency. Larger segments provide better optimization but require more memory and time.</p> <p><strong>Overlap Duration</strong>: More overlap improves storage dynamics and reduces end-effects but increases computational cost. Typically 5-10% of segment length.</p> <p><strong>Storage Systems</strong>: Systems with large storage components benefit from longer overlaps to capture charge/discharge cycles effectively.</p> <p><strong>Investment Decisions</strong>: Use FullCalculation for problems requiring investment optimization, as SegmentedCalculation cannot handle investment parameters.</p> </details> <details class=common-use-cases open> <summary>Common Use Cases</summary> <ul> <li><strong>Annual Planning</strong>: Long-term planning with seasonal variations</li> <li><strong>Large Networks</strong>: Spatially or temporally large energy systems</li> <li><strong>Memory-Limited Systems</strong>: When full optimization exceeds available memory</li> <li><strong>Operational Planning</strong>: Detailed short-term optimization with limited foresight</li> <li><strong>Sensitivity Analysis</strong>: Quick approximate solutions for parameter studies</li> </ul> </details> <details class=performance-tips open> <summary>Performance Tips</summary> <ul> <li>Start with FullCalculation and use this class if memory issues occur</li> <li>Use longer overlaps for systems with significant storage</li> <li>Monitor solution quality at segment boundaries for discontinuities</li> </ul> </details> <details class=warning open> <summary>Warning</summary> <p>The evaluation of the solution is a bit more complex than FullCalculation or AggregatedCalculation due to the overlapping individual solutions.</p> </details> <div class="doc doc-children"> <h4 id=flixopt.commons.SegmentedCalculation-attributes>Attributes<a href=#flixopt.commons.SegmentedCalculation-attributes class=headerlink title="Anchor link to this section">&para;</a></h4> <div class="doc doc-object doc-attribute"> <h5 id=flixopt.commons.SegmentedCalculation.start_values_of_segments class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">start_values_of_segments</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#flixopt.commons.SegmentedCalculation.start_values_of_segments class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>start_values_of_segments</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]]</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Gives an overview of the start values of all Segments</p> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=flixopt.commons.LinearConverter class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">LinearConverter</span> <a href=#flixopt.commons.LinearConverter class=headerlink title="Anchor link to this section">&para;</a></h3> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>LinearConverter</span><span class=p>(</span><span class=n>label</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>inputs</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=n>Flow</span><span class=p>],</span> <span class=n>outputs</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=n>Flow</span><span class=p>],</span> <span class=n>on_off_parameters</span><span class=p>:</span> <span class=n>OnOffParameters</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>conversion_factors</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>TemporalDataUser</span><span class=p>]]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>piecewise_conversion</span><span class=p>:</span> <span class=n>PiecewiseConversion</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>meta_data</span><span class=p>:</span> <span class=nb>dict</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Component</span> (<code>flixopt.elements.Component</code>)' href=../elements/#flixopt.elements.Component>Component</a></code></p> <p>Converts input-Flows into output-Flows via linear conversion factors.</p> <p>LinearConverter models equipment that transforms one or more input flows into one or more output flows through linear relationships. This includes heat exchangers, electrical converters, chemical reactors, and other equipment where the relationship between inputs and outputs can be expressed as linear equations.</p> <p>The component supports two modeling approaches: simple conversion factors for straightforward linear relationships, or piecewise conversion for complex non-linear behavior approximated through piecewise linear segments.</p> <details class=mathematical-formulation open> <summary>Mathematical Formulation</summary> <p>See the complete mathematical model in the documentation: <a href=../../user-guide/mathematical-notation/elements/LinearConverter/ >LinearConverter</a></p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>label</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>The label of the Element. Used to identify it in the FlowSystem.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>inputs</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Flow</span> (<code>flixopt.elements.Flow</code>)' href=../elements/#flixopt.elements.Flow>Flow</a>]</code> </td> <td> <div class=doc-md-description> <p>list of input Flows that feed into the converter.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>outputs</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Flow</span> (<code>flixopt.elements.Flow</code>)' href=../elements/#flixopt.elements.Flow>Flow</a>]</code> </td> <td> <div class=doc-md-description> <p>list of output Flows that are produced by the converter.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>on_off_parameters</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">OnOffParameters</span> (<code>flixopt.interface.OnOffParameters</code>)' href=../interface/#flixopt.interface.OnOffParameters>OnOffParameters</a> | None</code> </td> <td> <div class=doc-md-description> <p>Information about on and off state of LinearConverter. Component is On/Off if all connected Flows are On/Off. This induces an On-Variable (binary) in all Flows! If possible, use OnOffParameters in a single Flow instead to keep the number of binary variables low.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>conversion_factors</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">TemporalDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.TemporalDataUser</code>)' href=../core/#flixopt.core.TemporalDataUser>TemporalDataUser</a>]] | None</code> </td> <td> <div class=doc-md-description> <p>Linear relationships between flows expressed as a list of dictionaries. Each dictionary maps flow labels to their coefficients in one linear equation. The number of conversion factors must be less than the total number of flows to ensure degrees of freedom &gt; 0. Either 'conversion_factors' OR 'piecewise_conversion' can be used, but not both. For examples also look into the linear_converters.py file.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>piecewise_conversion</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">PiecewiseConversion</span> (<code>flixopt.interface.PiecewiseConversion</code>)' href=../interface/#flixopt.interface.PiecewiseConversion>PiecewiseConversion</a> | None</code> </td> <td> <div class=doc-md-description> <p>Define piecewise linear relationships between flow rates of different flows. Enables modeling of non-linear conversion behavior through linear approximation. Either 'conversion_factors' or 'piecewise_conversion' can be used, but not both.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>meta_data</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a> | None</code> </td> <td> <div class=doc-md-description> <p>Used to store additional information about the Element. Not used internally, but saved in results. Only use Python native types.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <p>Simple 1:1 heat exchanger with 95% efficiency:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>heat_exchanger</span> <span class=o>=</span> <span class=n>LinearConverter</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;primary_hx&#39;</span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    <span class=n>inputs</span><span class=o>=</span><span class=p>[</span><span class=n>hot_water_in</span><span class=p>],</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    <span class=n>outputs</span><span class=o>=</span><span class=p>[</span><span class=n>hot_water_out</span><span class=p>],</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    <span class=n>conversion_factors</span><span class=o>=</span><span class=p>[{</span><span class=s1>&#39;hot_water_in&#39;</span><span class=p>:</span> <span class=mf>0.95</span><span class=p>,</span> <span class=s1>&#39;hot_water_out&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>}],</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=p>)</span>
</span></code></pre></div> <p>Multi-input heat pump with COP=3:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=n>heat_pump</span> <span class=o>=</span> <span class=n>LinearConverter</span><span class=p>(</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;air_source_hp&#39;</span><span class=p>,</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>    <span class=n>inputs</span><span class=o>=</span><span class=p>[</span><span class=n>electricity_in</span><span class=p>],</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>    <span class=n>outputs</span><span class=o>=</span><span class=p>[</span><span class=n>heat_output</span><span class=p>],</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>    <span class=n>conversion_factors</span><span class=o>=</span><span class=p>[{</span><span class=s1>&#39;electricity_in&#39;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s1>&#39;heat_output&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>}],</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=p>)</span>
</span></code></pre></div> <p>Combined heat and power (CHP) unit with multiple outputs:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=n>chp_unit</span> <span class=o>=</span> <span class=n>LinearConverter</span><span class=p>(</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;gas_chp&#39;</span><span class=p>,</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>    <span class=n>inputs</span><span class=o>=</span><span class=p>[</span><span class=n>natural_gas</span><span class=p>],</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>    <span class=n>outputs</span><span class=o>=</span><span class=p>[</span><span class=n>electricity_out</span><span class=p>,</span> <span class=n>heat_out</span><span class=p>],</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>    <span class=n>conversion_factors</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>        <span class=p>{</span><span class=s1>&#39;natural_gas&#39;</span><span class=p>:</span> <span class=mf>0.35</span><span class=p>,</span> <span class=s1>&#39;electricity_out&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>},</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a>        <span class=p>{</span><span class=s1>&#39;natural_gas&#39;</span><span class=p>:</span> <span class=mf>0.45</span><span class=p>,</span> <span class=s1>&#39;heat_out&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>},</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a>    <span class=p>],</span>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a><span class=p>)</span>
</span></code></pre></div> <p>Electrolyzer with multiple conversion relationships:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=n>electrolyzer</span> <span class=o>=</span> <span class=n>LinearConverter</span><span class=p>(</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;pem_electrolyzer&#39;</span><span class=p>,</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>    <span class=n>inputs</span><span class=o>=</span><span class=p>[</span><span class=n>electricity_in</span><span class=p>,</span> <span class=n>water_in</span><span class=p>],</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>    <span class=n>outputs</span><span class=o>=</span><span class=p>[</span><span class=n>hydrogen_out</span><span class=p>,</span> <span class=n>oxygen_out</span><span class=p>],</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>    <span class=n>conversion_factors</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>        <span class=p>{</span><span class=s1>&#39;electricity_in&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;hydrogen_out&#39;</span><span class=p>:</span> <span class=mi>50</span><span class=p>},</span>  <span class=c1># 50 kWh/kg H2</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>        <span class=p>{</span><span class=s1>&#39;water_in&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;hydrogen_out&#39;</span><span class=p>:</span> <span class=mi>9</span><span class=p>},</span>  <span class=c1># 9 kg H2O/kg H2</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>        <span class=p>{</span><span class=s1>&#39;hydrogen_out&#39;</span><span class=p>:</span> <span class=mi>8</span><span class=p>,</span> <span class=s1>&#39;oxygen_out&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>},</span>  <span class=c1># Mass balance</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a>    <span class=p>],</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=p>)</span>
</span></code></pre></div> <p>Complex converter with piecewise efficiency:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=n>variable_efficiency_converter</span> <span class=o>=</span> <span class=n>LinearConverter</span><span class=p>(</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;variable_converter&#39;</span><span class=p>,</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>    <span class=n>inputs</span><span class=o>=</span><span class=p>[</span><span class=n>fuel_in</span><span class=p>],</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>    <span class=n>outputs</span><span class=o>=</span><span class=p>[</span><span class=n>power_out</span><span class=p>],</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>    <span class=n>piecewise_conversion</span><span class=o>=</span><span class=n>PiecewiseConversion</span><span class=p>(</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>        <span class=p>{</span>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a>            <span class=s1>&#39;fuel_in&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a>                <span class=p>[</span>
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a>                    <span class=n>Piece</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>10</span><span class=p>),</span>  <span class=c1># Low load operation</span>
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a>                    <span class=n>Piece</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>25</span><span class=p>),</span>  <span class=c1># High load operation</span>
</span><span id=__span-4-11><a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a>                <span class=p>]</span>
</span><span id=__span-4-12><a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a>            <span class=p>),</span>
</span><span id=__span-4-13><a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a>            <span class=s1>&#39;power_out&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-4-14><a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a>                <span class=p>[</span>
</span><span id=__span-4-15><a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a>                    <span class=n>Piece</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mf>3.5</span><span class=p>),</span>  <span class=c1># Lower efficiency at part load</span>
</span><span id=__span-4-16><a id=__codelineno-4-16 name=__codelineno-4-16 href=#__codelineno-4-16></a>                    <span class=n>Piece</span><span class=p>(</span><span class=mf>3.5</span><span class=p>,</span> <span class=mi>10</span><span class=p>),</span>  <span class=c1># Higher efficiency at full load</span>
</span><span id=__span-4-17><a id=__codelineno-4-17 name=__codelineno-4-17 href=#__codelineno-4-17></a>                <span class=p>]</span>
</span><span id=__span-4-18><a id=__codelineno-4-18 name=__codelineno-4-18 href=#__codelineno-4-18></a>            <span class=p>),</span>
</span><span id=__span-4-19><a id=__codelineno-4-19 name=__codelineno-4-19 href=#__codelineno-4-19></a>        <span class=p>}</span>
</span><span id=__span-4-20><a id=__codelineno-4-20 name=__codelineno-4-20 href=#__codelineno-4-20></a>    <span class=p>),</span>
</span><span id=__span-4-21><a id=__codelineno-4-21 name=__codelineno-4-21 href=#__codelineno-4-21></a><span class=p>)</span>
</span></code></pre></div> <details class=note open> <summary>Note</summary> <p>Conversion factors define linear relationships where the sum of (coefficient × flow_rate) equals zero for each equation: factor1×flow1 + factor2×flow2 + ... = 0 Conversion factors define linear relationships: <code>{flow1: a1, flow2: a2, ...}</code> yields <code>a1×flow_rate1 + a2×flow_rate2 + ... = 0</code>. Note: The input format may be unintuitive. For example, <code>{"electricity": 1, "H2": 50}</code> implies <code>1×electricity = 50×H2</code>, i.e., 50 units of electricity produce 1 unit of H2.</p> <p>The system must have fewer conversion factors than total flows (degrees of freedom &gt; 0) to avoid over-constraining the problem. For n total flows, use at most n-1 conversion factors.</p> <p>When using piecewise_conversion, the converter operates on one piece at a time, with binary variables determining which piece is active.</p> </details> <div class="doc doc-children"> <h4 id=flixopt.commons.LinearConverter-functions>Functions<a href=#flixopt.commons.LinearConverter-functions class=headerlink title="Anchor link to this section">&para;</a></h4> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.LinearConverter.to_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_dataset</span> <a href=#flixopt.commons.LinearConverter.to_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_dataset</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>Dataset</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Convert the object to an xarray Dataset representation. All DataArrays become dataset variables, everything else goes to attrs.</p> <p>Its recommended to only call this method on Interfaces with all numeric data stored as xr.DataArrays. Interfaces inside a FlowSystem are automatically converted this form after connecting and transforming the FlowSystem.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>xr.Dataset: Dataset containing all DataArrays with basic objects only in attributes</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails due to naming conflicts or invalid data</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.LinearConverter.to_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_netcdf</span> <a href=#flixopt.commons.LinearConverter.to_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>,</span> <span class=n>compression</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to save the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>compression</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Compression level (0-9)</p> </div> </td> <td> <code>0</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.LinearConverter.from_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_dataset</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.LinearConverter.from_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_dataset</span><span class=p>(</span><span class=n>ds</span><span class=p>:</span> <span class=n>Dataset</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create an instance from an xarray Dataset.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ds</code> </td> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>Dataset containing the object data</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If dataset format is invalid or class mismatch</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.LinearConverter.from_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_netcdf</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.LinearConverter.from_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Load an instance from a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be read</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If file format is invalid</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.LinearConverter.get_structure class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">get_structure</span> <a href=#flixopt.commons.LinearConverter.get_structure class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_structure</span><span class=p>(</span><span class=n>clean</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>stats</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Get object structure as a dictionary.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>clean</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, remove None and empty dicts and lists.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>stats</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, replace DataArray references with statistics</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a></code> </td> <td> <div class=doc-md-description> <p>Dictionary representation of the object structure</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.LinearConverter.to_json class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_json</span> <a href=#flixopt.commons.LinearConverter.to_json class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_json</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a JSON file. This is meant for documentation and comparison, not for reloading.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>The path to the JSON file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.LinearConverter.copy class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">copy</span> <a href=#flixopt.commons.LinearConverter.copy class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>copy</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create a copy of the Interface object.</p> <p>Uses the existing serialization infrastructure to ensure proper copying of all DataArrays and nested objects.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>A new instance of the same class with copied data.</p> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=flixopt.commons.Sink class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">Sink</span> <a href=#flixopt.commons.Sink class=headerlink title="Anchor link to this section">&para;</a></h3> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>Sink</span><span class=p>(</span><span class=n>label</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>inputs</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=n>Flow</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>meta_data</span><span class=p>:</span> <span class=nb>dict</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>prevent_simultaneous_flow_rates</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Component</span> (<code>flixopt.elements.Component</code>)' href=../elements/#flixopt.elements.Component>Component</a></code></p> <p>A Sink consumes energy or material flows from the system.</p> <p>Sinks represent demand points like electrical loads, heat demands, material consumption, or any system boundary where flows terminate. They provide unlimited consumption capability subject to flow constraints, demand patterns and effects.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>label</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>The label of the Element. Used to identify it in the FlowSystem.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>inputs</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Flow</span> (<code>flixopt.elements.Flow</code>)' href=../elements/#flixopt.elements.Flow>Flow</a>] | None</code> </td> <td> <div class=doc-md-description> <p>Input-flows into the sink. Can be single flow or list of flows for sinks consuming multiple commodities or services.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>meta_data</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a> | None</code> </td> <td> <div class=doc-md-description> <p>Used to store additional information about the Element. Not used internally but saved in results. Only use Python native types.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>prevent_simultaneous_flow_rates</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, only one input flow can be active at a time. Useful for modeling mutually exclusive consumption options. Default is False.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <p>Simple electrical demand:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>electrical_load</span> <span class=o>=</span> <span class=n>Sink</span><span class=p>(</span><span class=n>label</span><span class=o>=</span><span class=s1>&#39;building_load&#39;</span><span class=p>,</span> <span class=n>inputs</span><span class=o>=</span><span class=p>[</span><span class=n>electricity_demand_flow</span><span class=p>])</span>
</span></code></pre></div> <p>Heat demand with time-varying profile:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=n>heat_demand</span> <span class=o>=</span> <span class=n>Sink</span><span class=p>(</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;district_heating_load&#39;</span><span class=p>,</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>    <span class=n>inputs</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>        <span class=n>Flow</span><span class=p>(</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>            <span class=n>label</span><span class=o>=</span><span class=s1>&#39;heat_consumption&#39;</span><span class=p>,</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>            <span class=n>bus</span><span class=o>=</span><span class=n>heat_bus</span><span class=p>,</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a>            <span class=n>fixed_relative_profile</span><span class=o>=</span><span class=n>hourly_heat_profile</span><span class=p>,</span>  <span class=c1># Demand profile</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>            <span class=n>size</span><span class=o>=</span><span class=mi>2000</span><span class=p>,</span>  <span class=c1># Peak demand of 2000 kW</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a>        <span class=p>)</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a>    <span class=p>],</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=p>)</span>
</span></code></pre></div> <p>Multi-energy building with switching capabilities:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=n>flexible_building</span> <span class=o>=</span> <span class=n>Sink</span><span class=p>(</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;smart_building&#39;</span><span class=p>,</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>    <span class=n>inputs</span><span class=o>=</span><span class=p>[</span><span class=n>electricity_heating</span><span class=p>,</span> <span class=n>gas_heating</span><span class=p>,</span> <span class=n>heat_pump_heating</span><span class=p>],</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>    <span class=n>prevent_simultaneous_flow_rates</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>  <span class=c1># Can only use one heating mode</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=p>)</span>
</span></code></pre></div> <p>Industrial process with variable demand:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=n>factory_load</span> <span class=o>=</span> <span class=n>Sink</span><span class=p>(</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;manufacturing_plant&#39;</span><span class=p>,</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>    <span class=n>inputs</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>        <span class=n>Flow</span><span class=p>(</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>            <span class=n>label</span><span class=o>=</span><span class=s1>&#39;electricity_process&#39;</span><span class=p>,</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>            <span class=n>bus</span><span class=o>=</span><span class=n>electricity_bus</span><span class=p>,</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>            <span class=n>size</span><span class=o>=</span><span class=mi>5000</span><span class=p>,</span>  <span class=c1># Base electrical load</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>            <span class=n>effects_per_flow_hour</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;cost&#39;</span><span class=p>:</span> <span class=o>-</span><span class=mf>0.1</span><span class=p>},</span>  <span class=c1># Value of service (negative cost)</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a>        <span class=p>),</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a>        <span class=n>Flow</span><span class=p>(</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a>            <span class=n>label</span><span class=o>=</span><span class=s1>&#39;steam_process&#39;</span><span class=p>,</span>
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a>            <span class=n>bus</span><span class=o>=</span><span class=n>steam_bus</span><span class=p>,</span>
</span><span id=__span-3-13><a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a>            <span class=n>size</span><span class=o>=</span><span class=mi>3000</span><span class=p>,</span>  <span class=c1># Process steam demand</span>
</span><span id=__span-3-14><a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a>            <span class=n>fixed_relative_profile</span><span class=o>=</span><span class=n>production_schedule</span><span class=p>,</span>
</span><span id=__span-3-15><a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a>        <span class=p>),</span>
</span><span id=__span-3-16><a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a>    <span class=p>],</span>
</span><span id=__span-3-17><a id=__codelineno-3-17 name=__codelineno-3-17 href=#__codelineno-3-17></a><span class=p>)</span>
</span></code></pre></div> <details class=deprecated open> <summary>Deprecated</summary> <p>The deprecated <code>sink</code> kwarg is accepted for compatibility but will be removed in future releases.</p> </details> <p>Initialize a Sink (consumes flow from the system).</p> <p>Supports legacy <code>sink=</code> keyword for backward compatibility (deprecated): if <code>sink</code> is provided it is used as the single input flow and a DeprecationWarning is issued; specifying both <code>inputs</code> and <code>sink</code> raises ValueError.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>label</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>Unique element label.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>inputs</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Flow</span> (<code>flixopt.elements.Flow</code>)' href=../elements/#flixopt.elements.Flow>Flow</a>] | None</code> </td> <td> <div class=doc-md-description> <p>Input flows for the sink.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>meta_data</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a> | None</code> </td> <td> <div class=doc-md-description> <p>Arbitrary metadata attached to the element.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>prevent_simultaneous_flow_rates</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, prevents simultaneous nonzero flow rates across the element's inputs by wiring that restriction into the base Component setup.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <details class=note open> <summary>Note</summary> <p>The deprecated <code>sink</code> kwarg is accepted for compatibility but will be removed in future releases.</p> </details> <div class="doc doc-children"> <h4 id=flixopt.commons.Sink-functions>Functions<a href=#flixopt.commons.Sink-functions class=headerlink title="Anchor link to this section">&para;</a></h4> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Sink.to_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_dataset</span> <a href=#flixopt.commons.Sink.to_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_dataset</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>Dataset</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Convert the object to an xarray Dataset representation. All DataArrays become dataset variables, everything else goes to attrs.</p> <p>Its recommended to only call this method on Interfaces with all numeric data stored as xr.DataArrays. Interfaces inside a FlowSystem are automatically converted this form after connecting and transforming the FlowSystem.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>xr.Dataset: Dataset containing all DataArrays with basic objects only in attributes</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails due to naming conflicts or invalid data</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Sink.to_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_netcdf</span> <a href=#flixopt.commons.Sink.to_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>,</span> <span class=n>compression</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to save the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>compression</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Compression level (0-9)</p> </div> </td> <td> <code>0</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Sink.from_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_dataset</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.Sink.from_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_dataset</span><span class=p>(</span><span class=n>ds</span><span class=p>:</span> <span class=n>Dataset</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create an instance from an xarray Dataset.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ds</code> </td> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>Dataset containing the object data</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If dataset format is invalid or class mismatch</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Sink.from_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_netcdf</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.Sink.from_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Load an instance from a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be read</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If file format is invalid</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Sink.get_structure class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">get_structure</span> <a href=#flixopt.commons.Sink.get_structure class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_structure</span><span class=p>(</span><span class=n>clean</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>stats</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Get object structure as a dictionary.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>clean</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, remove None and empty dicts and lists.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>stats</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, replace DataArray references with statistics</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a></code> </td> <td> <div class=doc-md-description> <p>Dictionary representation of the object structure</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Sink.to_json class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_json</span> <a href=#flixopt.commons.Sink.to_json class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_json</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a JSON file. This is meant for documentation and comparison, not for reloading.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>The path to the JSON file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Sink.copy class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">copy</span> <a href=#flixopt.commons.Sink.copy class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>copy</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create a copy of the Interface object.</p> <p>Uses the existing serialization infrastructure to ensure proper copying of all DataArrays and nested objects.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>A new instance of the same class with copied data.</p> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=flixopt.commons.Source class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">Source</span> <a href=#flixopt.commons.Source class=headerlink title="Anchor link to this section">&para;</a></h3> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>Source</span><span class=p>(</span><span class=n>label</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>outputs</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=n>Flow</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>meta_data</span><span class=p>:</span> <span class=nb>dict</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>prevent_simultaneous_flow_rates</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Component</span> (<code>flixopt.elements.Component</code>)' href=../elements/#flixopt.elements.Component>Component</a></code></p> <p>A Source generates or provides energy or material flows into the system.</p> <p>Sources represent supply points like power plants, fuel suppliers, renewable energy sources, or any system boundary where flows originate. They provide unlimited supply capability subject to flow constraints, demand patterns and effects.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>label</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>The label of the Element. Used to identify it in the FlowSystem.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>outputs</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Flow</span> (<code>flixopt.elements.Flow</code>)' href=../elements/#flixopt.elements.Flow>Flow</a>] | None</code> </td> <td> <div class=doc-md-description> <p>Output-flows from the source. Can be single flow or list of flows for sources providing multiple commodities or services.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>meta_data</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a> | None</code> </td> <td> <div class=doc-md-description> <p>Used to store additional information about the Element. Not used internally but saved in results. Only use Python native types.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>prevent_simultaneous_flow_rates</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, only one output flow can be active at a time. Useful for modeling mutually exclusive supply options. Default is False.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <p>Simple electricity grid connection:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>grid_source</span> <span class=o>=</span> <span class=n>Source</span><span class=p>(</span><span class=n>label</span><span class=o>=</span><span class=s1>&#39;electrical_grid&#39;</span><span class=p>,</span> <span class=n>outputs</span><span class=o>=</span><span class=p>[</span><span class=n>grid_electricity_flow</span><span class=p>])</span>
</span></code></pre></div> <p>Natural gas supply with cost and capacity constraints:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=n>gas_supply</span> <span class=o>=</span> <span class=n>Source</span><span class=p>(</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;gas_network&#39;</span><span class=p>,</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>    <span class=n>outputs</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>        <span class=n>Flow</span><span class=p>(</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>            <span class=n>label</span><span class=o>=</span><span class=s1>&#39;natural_gas_flow&#39;</span><span class=p>,</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>            <span class=n>bus</span><span class=o>=</span><span class=n>gas_bus</span><span class=p>,</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a>            <span class=n>size</span><span class=o>=</span><span class=mi>1000</span><span class=p>,</span>  <span class=c1># Maximum 1000 kW supply capacity</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>            <span class=n>effects_per_flow_hour</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;cost&#39;</span><span class=p>:</span> <span class=mf>0.04</span><span class=p>},</span>  <span class=c1># €0.04/kWh gas cost</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a>        <span class=p>)</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a>    <span class=p>],</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=p>)</span>
</span></code></pre></div> <p>Multi-fuel power plant with switching constraints:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=n>multi_fuel_plant</span> <span class=o>=</span> <span class=n>Source</span><span class=p>(</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;flexible_generator&#39;</span><span class=p>,</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>    <span class=n>outputs</span><span class=o>=</span><span class=p>[</span><span class=n>coal_electricity</span><span class=p>,</span> <span class=n>gas_electricity</span><span class=p>,</span> <span class=n>biomass_electricity</span><span class=p>],</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>    <span class=n>prevent_simultaneous_flow_rates</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>  <span class=c1># Can only use one fuel at a time</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=p>)</span>
</span></code></pre></div> <p>Renewable energy source with investment optimization:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=n>solar_farm</span> <span class=o>=</span> <span class=n>Source</span><span class=p>(</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;solar_pv&#39;</span><span class=p>,</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>    <span class=n>outputs</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>        <span class=n>Flow</span><span class=p>(</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>            <span class=n>label</span><span class=o>=</span><span class=s1>&#39;solar_power&#39;</span><span class=p>,</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>            <span class=n>bus</span><span class=o>=</span><span class=n>electricity_bus</span><span class=p>,</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>            <span class=n>size</span><span class=o>=</span><span class=n>InvestParameters</span><span class=p>(</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>                <span class=n>minimum_size</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a>                <span class=n>maximum_size</span><span class=o>=</span><span class=mi>50000</span><span class=p>,</span>  <span class=c1># Up to 50 MW</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a>                <span class=n>specific_effects</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;cost&#39;</span><span class=p>:</span> <span class=mi>800</span><span class=p>},</span>  <span class=c1># €800/kW installed</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a>                <span class=n>fix_effects</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;cost&#39;</span><span class=p>:</span> <span class=mi>100000</span><span class=p>},</span>  <span class=c1># €100k development costs</span>
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a>            <span class=p>),</span>
</span><span id=__span-3-13><a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a>            <span class=n>fixed_relative_profile</span><span class=o>=</span><span class=n>solar_profile</span><span class=p>,</span>  <span class=c1># Hourly generation profile</span>
</span><span id=__span-3-14><a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a>        <span class=p>)</span>
</span><span id=__span-3-15><a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a>    <span class=p>],</span>
</span><span id=__span-3-16><a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a><span class=p>)</span>
</span></code></pre></div> <details class=deprecated open> <summary>Deprecated</summary> <p>The deprecated <code>source</code> kwarg is accepted for compatibility but will be removed in future releases.</p> </details> <div class="doc doc-children"> <h4 id=flixopt.commons.Source-functions>Functions<a href=#flixopt.commons.Source-functions class=headerlink title="Anchor link to this section">&para;</a></h4> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Source.to_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_dataset</span> <a href=#flixopt.commons.Source.to_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_dataset</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>Dataset</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Convert the object to an xarray Dataset representation. All DataArrays become dataset variables, everything else goes to attrs.</p> <p>Its recommended to only call this method on Interfaces with all numeric data stored as xr.DataArrays. Interfaces inside a FlowSystem are automatically converted this form after connecting and transforming the FlowSystem.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>xr.Dataset: Dataset containing all DataArrays with basic objects only in attributes</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails due to naming conflicts or invalid data</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Source.to_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_netcdf</span> <a href=#flixopt.commons.Source.to_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>,</span> <span class=n>compression</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to save the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>compression</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Compression level (0-9)</p> </div> </td> <td> <code>0</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Source.from_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_dataset</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.Source.from_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_dataset</span><span class=p>(</span><span class=n>ds</span><span class=p>:</span> <span class=n>Dataset</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create an instance from an xarray Dataset.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ds</code> </td> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>Dataset containing the object data</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If dataset format is invalid or class mismatch</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Source.from_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_netcdf</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.Source.from_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Load an instance from a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be read</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If file format is invalid</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Source.get_structure class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">get_structure</span> <a href=#flixopt.commons.Source.get_structure class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_structure</span><span class=p>(</span><span class=n>clean</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>stats</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Get object structure as a dictionary.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>clean</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, remove None and empty dicts and lists.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>stats</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, replace DataArray references with statistics</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a></code> </td> <td> <div class=doc-md-description> <p>Dictionary representation of the object structure</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Source.to_json class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_json</span> <a href=#flixopt.commons.Source.to_json class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_json</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a JSON file. This is meant for documentation and comparison, not for reloading.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>The path to the JSON file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Source.copy class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">copy</span> <a href=#flixopt.commons.Source.copy class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>copy</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create a copy of the Interface object.</p> <p>Uses the existing serialization infrastructure to ensure proper copying of all DataArrays and nested objects.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>A new instance of the same class with copied data.</p> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=flixopt.commons.SourceAndSink class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">SourceAndSink</span> <a href=#flixopt.commons.SourceAndSink class=headerlink title="Anchor link to this section">&para;</a></h3> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>SourceAndSink</span><span class=p>(</span><span class=n>label</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>inputs</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=n>Flow</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>outputs</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=n>Flow</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>prevent_simultaneous_flow_rates</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span> <span class=n>meta_data</span><span class=p>:</span> <span class=nb>dict</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Component</span> (<code>flixopt.elements.Component</code>)' href=../elements/#flixopt.elements.Component>Component</a></code></p> <p>A SourceAndSink combines both supply and demand capabilities in a single component.</p> <p>SourceAndSink components can both consume AND provide energy or material flows from and to the system, making them ideal for modeling markets, (simple) storage facilities, or bidirectional grid connections where buying and selling occur at the same location.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>label</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>The label of the Element. Used to identify it in the FlowSystem.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>inputs</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Flow</span> (<code>flixopt.elements.Flow</code>)' href=../elements/#flixopt.elements.Flow>Flow</a>] | None</code> </td> <td> <div class=doc-md-description> <p>Input-flows into the SourceAndSink representing consumption/demand side.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>outputs</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Flow</span> (<code>flixopt.elements.Flow</code>)' href=../elements/#flixopt.elements.Flow>Flow</a>] | None</code> </td> <td> <div class=doc-md-description> <p>Output-flows from the SourceAndSink representing supply/generation side.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>prevent_simultaneous_flow_rates</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, prevents simultaneous input and output flows. This enforces that the component operates either as a source OR sink at any given time, but not both simultaneously. Default is True.</p> </div> </td> <td> <code>True</code> </td> </tr> <tr class=doc-section-item> <td> <code>meta_data</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a> | None</code> </td> <td> <div class=doc-md-description> <p>Used to store additional information about the Element. Not used internally but saved in results. Only use Python native types.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <p>Electricity market connection (buy/sell to grid):</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>electricity_market</span> <span class=o>=</span> <span class=n>SourceAndSink</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;grid_connection&#39;</span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    <span class=n>inputs</span><span class=o>=</span><span class=p>[</span><span class=n>electricity_purchase</span><span class=p>],</span>  <span class=c1># Buy from grid</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    <span class=n>outputs</span><span class=o>=</span><span class=p>[</span><span class=n>electricity_sale</span><span class=p>],</span>  <span class=c1># Sell to grid</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    <span class=n>prevent_simultaneous_flow_rates</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>  <span class=c1># Can&#39;t buy and sell simultaneously</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=p>)</span>
</span></code></pre></div> <p>Natural gas storage facility:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=n>gas_storage_facility</span> <span class=o>=</span> <span class=n>SourceAndSink</span><span class=p>(</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;underground_gas_storage&#39;</span><span class=p>,</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>    <span class=n>inputs</span><span class=o>=</span><span class=p>[</span><span class=n>gas_injection_flow</span><span class=p>],</span>  <span class=c1># Inject gas into storage</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>    <span class=n>outputs</span><span class=o>=</span><span class=p>[</span><span class=n>gas_withdrawal_flow</span><span class=p>],</span>  <span class=c1># Withdraw gas from storage</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>    <span class=n>prevent_simultaneous_flow_rates</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>  <span class=c1># Injection or withdrawal, not both</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=p>)</span>
</span></code></pre></div> <p>District heating network connection:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=n>dh_connection</span> <span class=o>=</span> <span class=n>SourceAndSink</span><span class=p>(</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;district_heating_tie&#39;</span><span class=p>,</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>    <span class=n>inputs</span><span class=o>=</span><span class=p>[</span><span class=n>heat_purchase_flow</span><span class=p>],</span>  <span class=c1># Purchase heat from network</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>    <span class=n>outputs</span><span class=o>=</span><span class=p>[</span><span class=n>heat_sale_flow</span><span class=p>],</span>  <span class=c1># Sell excess heat to network</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>    <span class=n>prevent_simultaneous_flow_rates</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>  <span class=c1># May allow simultaneous flows</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=p>)</span>
</span></code></pre></div> <p>Industrial waste heat exchange:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=n>waste_heat_exchange</span> <span class=o>=</span> <span class=n>SourceAndSink</span><span class=p>(</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;industrial_heat_hub&#39;</span><span class=p>,</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>    <span class=n>inputs</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>        <span class=n>waste_heat_input_a</span><span class=p>,</span>  <span class=c1># Receive waste heat from process A</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>        <span class=n>waste_heat_input_b</span><span class=p>,</span>  <span class=c1># Receive waste heat from process B</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>    <span class=p>],</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>    <span class=n>outputs</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>        <span class=n>useful_heat_supply_c</span><span class=p>,</span>  <span class=c1># Supply heat to process C</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a>        <span class=n>useful_heat_supply_d</span><span class=p>,</span>  <span class=c1># Supply heat to process D</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a>    <span class=p>],</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a>    <span class=n>prevent_simultaneous_flow_rates</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>  <span class=c1># Multiple simultaneous flows allowed</span>
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a><span class=p>)</span>
</span></code></pre></div> <details class=note open> <summary>Note</summary> <p>When prevent_simultaneous_flow_rates is True, binary variables are created to ensure mutually exclusive operation between input and output flows, which increases computational complexity but reflects realistic market or storage operation constraints.</p> <p>SourceAndSink is particularly useful for modeling: - Energy markets with bidirectional trading - Storage facilities with injection/withdrawal operations - Grid tie points with import/export capabilities - Waste exchange networks with multiple participants</p> </details> <details class=deprecated open> <summary>Deprecated</summary> <p>The deprecated <code>sink</code> and <code>source</code> kwargs are accepted for compatibility but will be removed in future releases.</p> </details> <div class="doc doc-children"> <h4 id=flixopt.commons.SourceAndSink-functions>Functions<a href=#flixopt.commons.SourceAndSink-functions class=headerlink title="Anchor link to this section">&para;</a></h4> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.SourceAndSink.to_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_dataset</span> <a href=#flixopt.commons.SourceAndSink.to_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_dataset</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>Dataset</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Convert the object to an xarray Dataset representation. All DataArrays become dataset variables, everything else goes to attrs.</p> <p>Its recommended to only call this method on Interfaces with all numeric data stored as xr.DataArrays. Interfaces inside a FlowSystem are automatically converted this form after connecting and transforming the FlowSystem.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>xr.Dataset: Dataset containing all DataArrays with basic objects only in attributes</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails due to naming conflicts or invalid data</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.SourceAndSink.to_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_netcdf</span> <a href=#flixopt.commons.SourceAndSink.to_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>,</span> <span class=n>compression</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to save the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>compression</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Compression level (0-9)</p> </div> </td> <td> <code>0</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.SourceAndSink.from_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_dataset</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.SourceAndSink.from_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_dataset</span><span class=p>(</span><span class=n>ds</span><span class=p>:</span> <span class=n>Dataset</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create an instance from an xarray Dataset.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ds</code> </td> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>Dataset containing the object data</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If dataset format is invalid or class mismatch</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.SourceAndSink.from_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_netcdf</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.SourceAndSink.from_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Load an instance from a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be read</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If file format is invalid</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.SourceAndSink.get_structure class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">get_structure</span> <a href=#flixopt.commons.SourceAndSink.get_structure class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_structure</span><span class=p>(</span><span class=n>clean</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>stats</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Get object structure as a dictionary.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>clean</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, remove None and empty dicts and lists.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>stats</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, replace DataArray references with statistics</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a></code> </td> <td> <div class=doc-md-description> <p>Dictionary representation of the object structure</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.SourceAndSink.to_json class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_json</span> <a href=#flixopt.commons.SourceAndSink.to_json class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_json</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a JSON file. This is meant for documentation and comparison, not for reloading.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>The path to the JSON file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.SourceAndSink.copy class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">copy</span> <a href=#flixopt.commons.SourceAndSink.copy class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>copy</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create a copy of the Interface object.</p> <p>Uses the existing serialization infrastructure to ensure proper copying of all DataArrays and nested objects.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>A new instance of the same class with copied data.</p> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=flixopt.commons.Storage class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">Storage</span> <a href=#flixopt.commons.Storage class=headerlink title="Anchor link to this section">&para;</a></h3> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>Storage</span><span class=p>(</span><span class=n>label</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>charging</span><span class=p>:</span> <span class=n>Flow</span><span class=p>,</span> <span class=n>discharging</span><span class=p>:</span> <span class=n>Flow</span><span class=p>,</span> <span class=n>capacity_in_flow_hours</span><span class=p>:</span> <span class=n>PeriodicDataUser</span> <span class=o>|</span> <span class=n>InvestParameters</span><span class=p>,</span> <span class=n>relative_minimum_charge_state</span><span class=p>:</span> <span class=n>TemporalDataUser</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>relative_maximum_charge_state</span><span class=p>:</span> <span class=n>TemporalDataUser</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>initial_charge_state</span><span class=p>:</span> <span class=n>PeriodicDataUser</span> <span class=o>|</span> <span class=n>Literal</span><span class=p>[</span><span class=s1>&#39;lastValueOfSim&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>minimal_final_charge_state</span><span class=p>:</span> <span class=n>PeriodicDataUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>maximal_final_charge_state</span><span class=p>:</span> <span class=n>PeriodicDataUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>relative_minimum_final_charge_state</span><span class=p>:</span> <span class=n>PeriodicDataUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>relative_maximum_final_charge_state</span><span class=p>:</span> <span class=n>PeriodicDataUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>eta_charge</span><span class=p>:</span> <span class=n>TemporalDataUser</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>eta_discharge</span><span class=p>:</span> <span class=n>TemporalDataUser</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>relative_loss_per_hour</span><span class=p>:</span> <span class=n>TemporalDataUser</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>prevent_simultaneous_charge_and_discharge</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span> <span class=n>balanced</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>meta_data</span><span class=p>:</span> <span class=nb>dict</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Component</span> (<code>flixopt.elements.Component</code>)' href=../elements/#flixopt.elements.Component>Component</a></code></p> <p>A Storage models the temporary storage and release of energy or material.</p> <p>Storages have one incoming and one outgoing Flow, each with configurable efficiency factors. They maintain a charge state variable that represents the stored amount, bounded by capacity limits and evolving over time based on charging, discharging, and self-discharge losses.</p> <p>The storage model handles complex temporal dynamics including initial conditions, final state constraints, and time-varying parameters. It supports both fixed-size and investment-optimized storage systems with comprehensive techno-economic modeling.</p> <details class=mathematical-formulation open> <summary>Mathematical Formulation</summary> <p>See the complete mathematical model in the documentation: <a href=../../user-guide/mathematical-notation/elements/Storage/ >Storage</a></p> <ul> <li>Equation (1): Charge state bounds</li> <li>Equation (3): Storage balance (charge state evolution)</li> </ul> <p>Variable Mapping: - <code>capacity_in_flow_hours</code> → C (storage capacity) - <code>charge_state</code> → c(t_i) (state of charge at time t_i) - <code>relative_loss_per_hour</code> → ċ_rel,loss (self-discharge rate) - <code>eta_charge</code> → η_in (charging efficiency) - <code>eta_discharge</code> → η_out (discharging efficiency)</p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>label</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>Element identifier used in the FlowSystem.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>charging</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Flow</span> (<code>flixopt.elements.Flow</code>)' href=../elements/#flixopt.elements.Flow>Flow</a></code> </td> <td> <div class=doc-md-description> <p>Incoming flow for loading the storage.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>discharging</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Flow</span> (<code>flixopt.elements.Flow</code>)' href=../elements/#flixopt.elements.Flow>Flow</a></code> </td> <td> <div class=doc-md-description> <p>Outgoing flow for unloading the storage.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>capacity_in_flow_hours</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">PeriodicDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.PeriodicDataUser</code>)' href=../core/#flixopt.core.PeriodicDataUser>PeriodicDataUser</a> | <a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">InvestParameters</span> (<code>flixopt.interface.InvestParameters</code>)' href=../interface/#flixopt.interface.InvestParameters>InvestParameters</a></code> </td> <td> <div class=doc-md-description> <p>Storage capacity in flow-hours (kWh, m³, kg). Scalar for fixed size or InvestParameters for optimization.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>relative_minimum_charge_state</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">TemporalDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.TemporalDataUser</code>)' href=../core/#flixopt.core.TemporalDataUser>TemporalDataUser</a></code> </td> <td> <div class=doc-md-description> <p>Minimum charge state (0-1). Default: 0.</p> </div> </td> <td> <code>0</code> </td> </tr> <tr class=doc-section-item> <td> <code>relative_maximum_charge_state</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">TemporalDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.TemporalDataUser</code>)' href=../core/#flixopt.core.TemporalDataUser>TemporalDataUser</a></code> </td> <td> <div class=doc-md-description> <p>Maximum charge state (0-1). Default: 1.</p> </div> </td> <td> <code>1</code> </td> </tr> <tr class=doc-section-item> <td> <code>initial_charge_state</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">PeriodicDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.PeriodicDataUser</code>)' href=../core/#flixopt.core.PeriodicDataUser>PeriodicDataUser</a> | <a class="autorefs autorefs-external" title="<code>typing.Literal</code>" href=https://docs.python.org/3/library/typing.html#typing.Literal>Literal</a>[&#39;lastValueOfSim&#39;]</code> </td> <td> <div class=doc-md-description> <p>Charge at start. Numeric or 'lastValueOfSim'. Default: 0.</p> </div> </td> <td> <code>0</code> </td> </tr> <tr class=doc-section-item> <td> <code>minimal_final_charge_state</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">PeriodicDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.PeriodicDataUser</code>)' href=../core/#flixopt.core.PeriodicDataUser>PeriodicDataUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Minimum absolute charge required at end (optional).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>maximal_final_charge_state</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">PeriodicDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.PeriodicDataUser</code>)' href=../core/#flixopt.core.PeriodicDataUser>PeriodicDataUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Maximum absolute charge allowed at end (optional).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>relative_minimum_final_charge_state</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">PeriodicDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.PeriodicDataUser</code>)' href=../core/#flixopt.core.PeriodicDataUser>PeriodicDataUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Minimum relative charge at end. Defaults to last value of relative_minimum_charge_state.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>relative_maximum_final_charge_state</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">PeriodicDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.PeriodicDataUser</code>)' href=../core/#flixopt.core.PeriodicDataUser>PeriodicDataUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Maximum relative charge at end. Defaults to last value of relative_maximum_charge_state.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>eta_charge</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">TemporalDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.TemporalDataUser</code>)' href=../core/#flixopt.core.TemporalDataUser>TemporalDataUser</a></code> </td> <td> <div class=doc-md-description> <p>Charging efficiency (0-1). Default: 1.</p> </div> </td> <td> <code>1</code> </td> </tr> <tr class=doc-section-item> <td> <code>eta_discharge</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">TemporalDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.TemporalDataUser</code>)' href=../core/#flixopt.core.TemporalDataUser>TemporalDataUser</a></code> </td> <td> <div class=doc-md-description> <p>Discharging efficiency (0-1). Default: 1.</p> </div> </td> <td> <code>1</code> </td> </tr> <tr class=doc-section-item> <td> <code>relative_loss_per_hour</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">TemporalDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.TemporalDataUser</code>)' href=../core/#flixopt.core.TemporalDataUser>TemporalDataUser</a></code> </td> <td> <div class=doc-md-description> <p>Self-discharge per hour (0-0.1). Default: 0.</p> </div> </td> <td> <code>0</code> </td> </tr> <tr class=doc-section-item> <td> <code>prevent_simultaneous_charge_and_discharge</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>Prevent charging and discharging simultaneously. Adds binary variables. Default: True.</p> </div> </td> <td> <code>True</code> </td> </tr> <tr class=doc-section-item> <td> <code>meta_data</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a> | None</code> </td> <td> <div class=doc-md-description> <p>Additional information stored in results. Python native types only.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <p>Battery energy storage system:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>battery</span> <span class=o>=</span> <span class=n>Storage</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;lithium_battery&#39;</span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    <span class=n>charging</span><span class=o>=</span><span class=n>battery_charge_flow</span><span class=p>,</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    <span class=n>discharging</span><span class=o>=</span><span class=n>battery_discharge_flow</span><span class=p>,</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    <span class=n>capacity_in_flow_hours</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span>  <span class=c1># 100 kWh capacity</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>    <span class=n>eta_charge</span><span class=o>=</span><span class=mf>0.95</span><span class=p>,</span>  <span class=c1># 95% charging efficiency</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>    <span class=n>eta_discharge</span><span class=o>=</span><span class=mf>0.95</span><span class=p>,</span>  <span class=c1># 95% discharging efficiency</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>    <span class=n>relative_loss_per_hour</span><span class=o>=</span><span class=mf>0.001</span><span class=p>,</span>  <span class=c1># 0.1% loss per hour</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>    <span class=n>relative_minimum_charge_state</span><span class=o>=</span><span class=mf>0.1</span><span class=p>,</span>  <span class=c1># Never below 10% SOC</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>    <span class=n>relative_maximum_charge_state</span><span class=o>=</span><span class=mf>0.9</span><span class=p>,</span>  <span class=c1># Never above 90% SOC</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=p>)</span>
</span></code></pre></div> <p>Thermal storage with cycling constraints:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=n>thermal_storage</span> <span class=o>=</span> <span class=n>Storage</span><span class=p>(</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;hot_water_tank&#39;</span><span class=p>,</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>    <span class=n>charging</span><span class=o>=</span><span class=n>heat_input</span><span class=p>,</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>    <span class=n>discharging</span><span class=o>=</span><span class=n>heat_output</span><span class=p>,</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>    <span class=n>capacity_in_flow_hours</span><span class=o>=</span><span class=mi>500</span><span class=p>,</span>  <span class=c1># 500 kWh thermal capacity</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>    <span class=n>initial_charge_state</span><span class=o>=</span><span class=mi>250</span><span class=p>,</span>  <span class=c1># Start half full</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a>    <span class=c1># Impact of temperature on energy capacity</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>    <span class=n>relative_maximum_charge_state</span><span class=o>=</span><span class=n>water_temperature_spread</span> <span class=o>/</span> <span class=n>rated_temeprature_spread</span><span class=p>,</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a>    <span class=n>eta_charge</span><span class=o>=</span><span class=mf>0.90</span><span class=p>,</span>  <span class=c1># Heat exchanger losses</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a>    <span class=n>eta_discharge</span><span class=o>=</span><span class=mf>0.85</span><span class=p>,</span>  <span class=c1># Distribution losses</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a>    <span class=n>relative_loss_per_hour</span><span class=o>=</span><span class=mf>0.02</span><span class=p>,</span>  <span class=c1># 2% thermal loss per hour</span>
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a>    <span class=n>prevent_simultaneous_charge_and_discharge</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a><span class=p>)</span>
</span></code></pre></div> <p>Pumped hydro storage with investment optimization:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=n>pumped_hydro</span> <span class=o>=</span> <span class=n>Storage</span><span class=p>(</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;pumped_hydro&#39;</span><span class=p>,</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>    <span class=n>charging</span><span class=o>=</span><span class=n>pump_flow</span><span class=p>,</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>    <span class=n>discharging</span><span class=o>=</span><span class=n>turbine_flow</span><span class=p>,</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>    <span class=n>capacity_in_flow_hours</span><span class=o>=</span><span class=n>InvestParameters</span><span class=p>(</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>        <span class=n>minimum_size</span><span class=o>=</span><span class=mi>1000</span><span class=p>,</span>  <span class=c1># Minimum economic scale</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a>        <span class=n>maximum_size</span><span class=o>=</span><span class=mi>10000</span><span class=p>,</span>  <span class=c1># Site constraints</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a>        <span class=n>specific_effects</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;cost&#39;</span><span class=p>:</span> <span class=mi>150</span><span class=p>},</span>  <span class=c1># €150/MWh capacity</span>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>        <span class=n>fix_effects</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;cost&#39;</span><span class=p>:</span> <span class=mi>50_000_000</span><span class=p>},</span>  <span class=c1># €50M fixed costs</span>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a>    <span class=p>),</span>
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a>    <span class=n>eta_charge</span><span class=o>=</span><span class=mf>0.85</span><span class=p>,</span>  <span class=c1># Pumping efficiency</span>
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a>    <span class=n>eta_discharge</span><span class=o>=</span><span class=mf>0.90</span><span class=p>,</span>  <span class=c1># Turbine efficiency</span>
</span><span id=__span-2-13><a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a>    <span class=n>initial_charge_state</span><span class=o>=</span><span class=s1>&#39;lastValueOfSim&#39;</span><span class=p>,</span>  <span class=c1># Ensuring no deficit compared to start</span>
</span><span id=__span-2-14><a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a>    <span class=n>relative_loss_per_hour</span><span class=o>=</span><span class=mf>0.0001</span><span class=p>,</span>  <span class=c1># Minimal evaporation</span>
</span><span id=__span-2-15><a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a><span class=p>)</span>
</span></code></pre></div> <p>Material storage with inventory management:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=n>fuel_storage</span> <span class=o>=</span> <span class=n>Storage</span><span class=p>(</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;natural_gas_storage&#39;</span><span class=p>,</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>    <span class=n>charging</span><span class=o>=</span><span class=n>gas_injection</span><span class=p>,</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>    <span class=n>discharging</span><span class=o>=</span><span class=n>gas_withdrawal</span><span class=p>,</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>    <span class=n>capacity_in_flow_hours</span><span class=o>=</span><span class=mi>10000</span><span class=p>,</span>  <span class=c1># 10,000 m³ storage volume</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>    <span class=n>initial_charge_state</span><span class=o>=</span><span class=mi>3000</span><span class=p>,</span>  <span class=c1># Start with 3,000 m³</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>    <span class=n>minimal_final_charge_state</span><span class=o>=</span><span class=mi>1000</span><span class=p>,</span>  <span class=c1># Strategic reserve</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>    <span class=n>maximal_final_charge_state</span><span class=o>=</span><span class=mi>9000</span><span class=p>,</span>  <span class=c1># Prevent overflow</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a>    <span class=n>eta_charge</span><span class=o>=</span><span class=mf>0.98</span><span class=p>,</span>  <span class=c1># Compression losses</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a>    <span class=n>eta_discharge</span><span class=o>=</span><span class=mf>0.95</span><span class=p>,</span>  <span class=c1># Pressure reduction losses</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a>    <span class=n>relative_loss_per_hour</span><span class=o>=</span><span class=mf>0.0005</span><span class=p>,</span>  <span class=c1># 0.05% leakage per hour</span>
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a>    <span class=n>prevent_simultaneous_charge_and_discharge</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>  <span class=c1># Allow flow-through</span>
</span><span id=__span-3-13><a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a><span class=p>)</span>
</span></code></pre></div> <details class=note open> <summary>Note</summary> <p><strong>Mathematical formulation</strong>: See <a href=../../user-guide/mathematical-notation/elements/Storage/ >Storage</a> for charge state evolution equations and balance constraints.</p> <p><strong>Efficiency parameters</strong> (eta_charge, eta_discharge) are dimensionless (0-1 range). The relative_loss_per_hour represents exponential decay per hour.</p> <p><strong>Binary variables</strong>: When prevent_simultaneous_charge_and_discharge is True, binary variables enforce mutual exclusivity, increasing solution time but preventing unrealistic simultaneous charging and discharging.</p> <p><strong>Units</strong>: Flow rates and charge states are related by the concept of 'flow hours' (=flow_rate * time). With flow rates in kW, the charge state is therefore (usually) kWh. With flow rates in m3/h, the charge state is therefore in m3.</p> </details> <div class="doc doc-children"> <h4 id=flixopt.commons.Storage-functions>Functions<a href=#flixopt.commons.Storage-functions class=headerlink title="Anchor link to this section">&para;</a></h4> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Storage.to_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_dataset</span> <a href=#flixopt.commons.Storage.to_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_dataset</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>Dataset</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Convert the object to an xarray Dataset representation. All DataArrays become dataset variables, everything else goes to attrs.</p> <p>Its recommended to only call this method on Interfaces with all numeric data stored as xr.DataArrays. Interfaces inside a FlowSystem are automatically converted this form after connecting and transforming the FlowSystem.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>xr.Dataset: Dataset containing all DataArrays with basic objects only in attributes</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails due to naming conflicts or invalid data</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Storage.to_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_netcdf</span> <a href=#flixopt.commons.Storage.to_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>,</span> <span class=n>compression</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to save the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>compression</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Compression level (0-9)</p> </div> </td> <td> <code>0</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Storage.from_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_dataset</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.Storage.from_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_dataset</span><span class=p>(</span><span class=n>ds</span><span class=p>:</span> <span class=n>Dataset</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create an instance from an xarray Dataset.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ds</code> </td> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>Dataset containing the object data</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If dataset format is invalid or class mismatch</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Storage.from_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_netcdf</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.Storage.from_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Load an instance from a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be read</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If file format is invalid</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Storage.get_structure class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">get_structure</span> <a href=#flixopt.commons.Storage.get_structure class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_structure</span><span class=p>(</span><span class=n>clean</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>stats</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Get object structure as a dictionary.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>clean</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, remove None and empty dicts and lists.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>stats</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, replace DataArray references with statistics</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a></code> </td> <td> <div class=doc-md-description> <p>Dictionary representation of the object structure</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Storage.to_json class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_json</span> <a href=#flixopt.commons.Storage.to_json class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_json</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a JSON file. This is meant for documentation and comparison, not for reloading.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>The path to the JSON file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Storage.copy class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">copy</span> <a href=#flixopt.commons.Storage.copy class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>copy</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create a copy of the Interface object.</p> <p>Uses the existing serialization infrastructure to ensure proper copying of all DataArrays and nested objects.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>A new instance of the same class with copied data.</p> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=flixopt.commons.Transmission class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">Transmission</span> <a href=#flixopt.commons.Transmission class=headerlink title="Anchor link to this section">&para;</a></h3> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>Transmission</span><span class=p>(</span><span class=n>label</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>in1</span><span class=p>:</span> <span class=n>Flow</span><span class=p>,</span> <span class=n>out1</span><span class=p>:</span> <span class=n>Flow</span><span class=p>,</span> <span class=n>in2</span><span class=p>:</span> <span class=n>Flow</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>out2</span><span class=p>:</span> <span class=n>Flow</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>relative_losses</span><span class=p>:</span> <span class=n>TemporalDataUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>absolute_losses</span><span class=p>:</span> <span class=n>TemporalDataUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>on_off_parameters</span><span class=p>:</span> <span class=n>OnOffParameters</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>prevent_simultaneous_flows_in_both_directions</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span> <span class=n>balanced</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>meta_data</span><span class=p>:</span> <span class=nb>dict</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Component</span> (<code>flixopt.elements.Component</code>)' href=../elements/#flixopt.elements.Component>Component</a></code></p> <p>Models transmission infrastructure that transports flows between two locations with losses.</p> <p>Transmission components represent physical infrastructure like pipes, cables, transmission lines, or conveyor systems that transport energy or materials between two points. They can model both unidirectional and bidirectional flow with configurable loss mechanisms and operational constraints.</p> <p>The component supports complex transmission scenarios including relative losses (proportional to flow), absolute losses (fixed when active), and bidirectional operation with flow direction constraints.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>label</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>The label of the Element. Used to identify it in the FlowSystem.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>in1</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Flow</span> (<code>flixopt.elements.Flow</code>)' href=../elements/#flixopt.elements.Flow>Flow</a></code> </td> <td> <div class=doc-md-description> <p>The primary inflow (side A). Pass InvestParameters here for capacity optimization.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>out1</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Flow</span> (<code>flixopt.elements.Flow</code>)' href=../elements/#flixopt.elements.Flow>Flow</a></code> </td> <td> <div class=doc-md-description> <p>The primary outflow (side B).</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>in2</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Flow</span> (<code>flixopt.elements.Flow</code>)' href=../elements/#flixopt.elements.Flow>Flow</a> | None</code> </td> <td> <div class=doc-md-description> <p>Optional secondary inflow (side B) for bidirectional operation. If in1 has InvestParameters, in2 will automatically have matching capacity.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>out2</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Flow</span> (<code>flixopt.elements.Flow</code>)' href=../elements/#flixopt.elements.Flow>Flow</a> | None</code> </td> <td> <div class=doc-md-description> <p>Optional secondary outflow (side A) for bidirectional operation.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>relative_losses</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">TemporalDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.TemporalDataUser</code>)' href=../core/#flixopt.core.TemporalDataUser>TemporalDataUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Proportional losses as fraction of throughput (e.g., 0.02 for 2% loss). Applied as: output = input × (1 - relative_losses)</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>absolute_losses</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">TemporalDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.TemporalDataUser</code>)' href=../core/#flixopt.core.TemporalDataUser>TemporalDataUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Fixed losses that occur when transmission is active. Automatically creates binary variables for on/off states.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>on_off_parameters</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">OnOffParameters</span> (<code>flixopt.interface.OnOffParameters</code>)' href=../interface/#flixopt.interface.OnOffParameters>OnOffParameters</a></code> </td> <td> <div class=doc-md-description> <p>Parameters defining binary operation constraints and costs.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>prevent_simultaneous_flows_in_both_directions</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, prevents simultaneous flow in both directions. Increases binary variables but reflects physical reality for most transmission systems. Default is True.</p> </div> </td> <td> <code>True</code> </td> </tr> <tr class=doc-section-item> <td> <code>balanced</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>Whether to equate the size of the in1 and in2 Flow. Needs InvestParameters in both Flows.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>meta_data</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a> | None</code> </td> <td> <div class=doc-md-description> <p>Used to store additional information. Not used internally but saved in results. Only use Python native types.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <p>Simple electrical transmission line:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>power_line</span> <span class=o>=</span> <span class=n>Transmission</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;110kv_line&#39;</span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    <span class=n>in1</span><span class=o>=</span><span class=n>substation_a_out</span><span class=p>,</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    <span class=n>out1</span><span class=o>=</span><span class=n>substation_b_in</span><span class=p>,</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    <span class=n>relative_losses</span><span class=o>=</span><span class=mf>0.03</span><span class=p>,</span>  <span class=c1># 3% line losses</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=p>)</span>
</span></code></pre></div> <p>Bidirectional natural gas pipeline:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=n>gas_pipeline</span> <span class=o>=</span> <span class=n>Transmission</span><span class=p>(</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;interstate_pipeline&#39;</span><span class=p>,</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>    <span class=n>in1</span><span class=o>=</span><span class=n>compressor_station_a</span><span class=p>,</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>    <span class=n>out1</span><span class=o>=</span><span class=n>distribution_hub_b</span><span class=p>,</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>    <span class=n>in2</span><span class=o>=</span><span class=n>compressor_station_b</span><span class=p>,</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>    <span class=n>out2</span><span class=o>=</span><span class=n>distribution_hub_a</span><span class=p>,</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a>    <span class=n>relative_losses</span><span class=o>=</span><span class=mf>0.005</span><span class=p>,</span>  <span class=c1># 0.5% friction losses</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>    <span class=n>absolute_losses</span><span class=o>=</span><span class=mi>50</span><span class=p>,</span>  <span class=c1># 50 kW compressor power when active</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a>    <span class=n>prevent_simultaneous_flows_in_both_directions</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=p>)</span>
</span></code></pre></div> <p>District heating network with investment optimization:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=n>heating_network</span> <span class=o>=</span> <span class=n>Transmission</span><span class=p>(</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;dh_main_line&#39;</span><span class=p>,</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>    <span class=n>in1</span><span class=o>=</span><span class=n>Flow</span><span class=p>(</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>        <span class=n>label</span><span class=o>=</span><span class=s1>&#39;heat_supply&#39;</span><span class=p>,</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>        <span class=n>bus</span><span class=o>=</span><span class=n>central_plant_bus</span><span class=p>,</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>        <span class=n>size</span><span class=o>=</span><span class=n>InvestParameters</span><span class=p>(</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a>            <span class=n>minimum_size</span><span class=o>=</span><span class=mi>1000</span><span class=p>,</span>  <span class=c1># Minimum 1 MW capacity</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a>            <span class=n>maximum_size</span><span class=o>=</span><span class=mi>10000</span><span class=p>,</span>  <span class=c1># Maximum 10 MW capacity</span>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>            <span class=n>specific_effects</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;cost&#39;</span><span class=p>:</span> <span class=mi>200</span><span class=p>},</span>  <span class=c1># €200/kW capacity</span>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a>            <span class=n>fix_effects</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;cost&#39;</span><span class=p>:</span> <span class=mi>500000</span><span class=p>},</span>  <span class=c1># €500k fixed installation</span>
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a>        <span class=p>),</span>
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a>    <span class=p>),</span>
</span><span id=__span-2-13><a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a>    <span class=n>out1</span><span class=o>=</span><span class=n>district_heat_demand</span><span class=p>,</span>
</span><span id=__span-2-14><a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a>    <span class=n>relative_losses</span><span class=o>=</span><span class=mf>0.15</span><span class=p>,</span>  <span class=c1># 15% thermal losses in distribution</span>
</span><span id=__span-2-15><a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a><span class=p>)</span>
</span></code></pre></div> <p>Material conveyor with on/off operation:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=n>conveyor_belt</span> <span class=o>=</span> <span class=n>Transmission</span><span class=p>(</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;material_transport&#39;</span><span class=p>,</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>    <span class=n>in1</span><span class=o>=</span><span class=n>loading_station</span><span class=p>,</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>    <span class=n>out1</span><span class=o>=</span><span class=n>unloading_station</span><span class=p>,</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>    <span class=n>absolute_losses</span><span class=o>=</span><span class=mi>25</span><span class=p>,</span>  <span class=c1># 25 kW motor power when running</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>    <span class=n>on_off_parameters</span><span class=o>=</span><span class=n>OnOffParameters</span><span class=p>(</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>        <span class=n>effects_per_switch_on</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;maintenance&#39;</span><span class=p>:</span> <span class=mf>0.1</span><span class=p>},</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>        <span class=n>consecutive_on_hours_min</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span>  <span class=c1># Minimum 2-hour operation</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a>        <span class=n>switch_on_total_max</span><span class=o>=</span><span class=mi>10</span><span class=p>,</span>  <span class=c1># Maximum 10 starts per day</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a>    <span class=p>),</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a><span class=p>)</span>
</span></code></pre></div> <details class=note open> <summary>Note</summary> <p>The transmission equation balances flows with losses: output_flow = input_flow × (1 - relative_losses) - absolute_losses</p> <p>For bidirectional transmission, each direction has independent loss calculations.</p> <p>When using InvestParameters on in1, the capacity automatically applies to in2 to maintain consistent bidirectional capacity without additional investment variables.</p> <p>Absolute losses force the creation of binary on/off variables, which increases computational complexity but enables realistic modeling of equipment with standby power consumption.</p> </details> <div class="doc doc-children"> <h4 id=flixopt.commons.Transmission-functions>Functions<a href=#flixopt.commons.Transmission-functions class=headerlink title="Anchor link to this section">&para;</a></h4> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Transmission.to_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_dataset</span> <a href=#flixopt.commons.Transmission.to_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_dataset</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>Dataset</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Convert the object to an xarray Dataset representation. All DataArrays become dataset variables, everything else goes to attrs.</p> <p>Its recommended to only call this method on Interfaces with all numeric data stored as xr.DataArrays. Interfaces inside a FlowSystem are automatically converted this form after connecting and transforming the FlowSystem.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>xr.Dataset: Dataset containing all DataArrays with basic objects only in attributes</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails due to naming conflicts or invalid data</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Transmission.to_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_netcdf</span> <a href=#flixopt.commons.Transmission.to_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>,</span> <span class=n>compression</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to save the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>compression</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Compression level (0-9)</p> </div> </td> <td> <code>0</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Transmission.from_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_dataset</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.Transmission.from_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_dataset</span><span class=p>(</span><span class=n>ds</span><span class=p>:</span> <span class=n>Dataset</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create an instance from an xarray Dataset.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ds</code> </td> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>Dataset containing the object data</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If dataset format is invalid or class mismatch</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Transmission.from_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_netcdf</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.Transmission.from_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Load an instance from a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be read</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If file format is invalid</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Transmission.get_structure class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">get_structure</span> <a href=#flixopt.commons.Transmission.get_structure class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_structure</span><span class=p>(</span><span class=n>clean</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>stats</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Get object structure as a dictionary.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>clean</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, remove None and empty dicts and lists.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>stats</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, replace DataArray references with statistics</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a></code> </td> <td> <div class=doc-md-description> <p>Dictionary representation of the object structure</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Transmission.to_json class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_json</span> <a href=#flixopt.commons.Transmission.to_json class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_json</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a JSON file. This is meant for documentation and comparison, not for reloading.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>The path to the JSON file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Transmission.copy class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">copy</span> <a href=#flixopt.commons.Transmission.copy class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>copy</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create a copy of the Interface object.</p> <p>Uses the existing serialization infrastructure to ensure proper copying of all DataArrays and nested objects.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>A new instance of the same class with copied data.</p> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=flixopt.commons.CONFIG class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">CONFIG</span> <a href=#flixopt.commons.CONFIG class=headerlink title="Anchor link to this section">&para;</a></h3> <div class="doc doc-contents "> <p>Configuration for flixopt library.</p> <p>Always call <code>CONFIG.apply()</code> after changes.</p> <p><span class=doc-section-title>Attributes:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Logging</span> (<code>flixopt.commons.CONFIG.Logging</code>)' href=#flixopt.commons.CONFIG.Logging>Logging</a></code></td> <td> </td> <td> <div class=doc-md-description> <p>Logging configuration.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Modeling</span> (<code>flixopt.commons.CONFIG.Modeling</code>)' href=#flixopt.commons.CONFIG.Modeling>Modeling</a></code></td> <td> </td> <td> <div class=doc-md-description> <p>Optimization modeling parameters.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=flixopt.commons.CONFIG.config_name>config_name</span></code></td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>Configuration name.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>CONFIG</span><span class=o>.</span><span class=n>Logging</span><span class=o>.</span><span class=n>console</span> <span class=o>=</span> <span class=kc>True</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=n>CONFIG</span><span class=o>.</span><span class=n>Logging</span><span class=o>.</span><span class=n>level</span> <span class=o>=</span> <span class=s1>&#39;DEBUG&#39;</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=n>CONFIG</span><span class=o>.</span><span class=n>apply</span><span class=p>()</span>
</span></code></pre></div> <p>Load from YAML file:</p> <div class="language-yaml highlight"><span class=filename>YAML</span><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=nt>logging</span><span class=p>:</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=w>  </span><span class=nt>level</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">DEBUG</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=w>  </span><span class=nt>console</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=w>  </span><span class=nt>file</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">app.log</span>
</span></code></pre></div> <div class="doc doc-children"> <h4 id=flixopt.commons.CONFIG-classes>Classes<a href=#flixopt.commons.CONFIG-classes class=headerlink title="Anchor link to this section">&para;</a></h4> <div class="doc doc-object doc-class"> <h5 id=flixopt.commons.CONFIG.Logging class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">Logging</span> <a href=#flixopt.commons.CONFIG.Logging class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="doc doc-contents "> <p>Logging configuration.</p> <p>Silent by default. Enable via <code>console=True</code> or <code>file='path'</code>.</p> <p><span class=doc-section-title>Attributes:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code><span title=flixopt.commons.CONFIG.Logging.level>level</span></code></td> <td> <code><a class="autorefs autorefs-external" title="<code>typing.Literal</code>" href=https://docs.python.org/3/library/typing.html#typing.Literal>Literal</a>[&#39;DEBUG&#39;, &#39;INFO&#39;, &#39;WARNING&#39;, &#39;ERROR&#39;, &#39;CRITICAL&#39;]</code> </td> <td> <div class=doc-md-description> <p>Logging level.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=flixopt.commons.CONFIG.Logging.file>file</span></code></td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | None</code> </td> <td> <div class=doc-md-description> <p>Log file path for file logging.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=flixopt.commons.CONFIG.Logging.console>console</span></code></td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a> | <a class="autorefs autorefs-external" title="<code>typing.Literal</code>" href=https://docs.python.org/3/library/typing.html#typing.Literal>Literal</a>[&#39;stdout&#39;, &#39;stderr&#39;]</code> </td> <td> <div class=doc-md-description> <p>Enable console output.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=flixopt.commons.CONFIG.Logging.rich>rich</span></code></td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>Use Rich library for enhanced output.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=flixopt.commons.CONFIG.Logging.max_file_size>max_file_size</span></code></td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Max file size before rotation.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=flixopt.commons.CONFIG.Logging.backup_count>backup_count</span></code></td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Number of backup files to keep.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=flixopt.commons.CONFIG.Logging.date_format>date_format</span></code></td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>Date/time format string.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=flixopt.commons.CONFIG.Logging.format>format</span></code></td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>Log message format string.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=flixopt.commons.CONFIG.Logging.console_width>console_width</span></code></td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Console width for Rich handler.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=flixopt.commons.CONFIG.Logging.show_path>show_path</span></code></td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>Show file paths in messages.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=flixopt.commons.CONFIG.Logging.show_logger_name>show_logger_name</span></code></td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>Show logger name in messages.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Colors</span> (<code>flixopt.commons.CONFIG.Logging.Colors</code>)' href=#flixopt.commons.CONFIG.Logging.Colors>Colors</a></code></td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>ANSI color codes for log levels.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=c1># File logging with rotation</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=n>CONFIG</span><span class=o>.</span><span class=n>Logging</span><span class=o>.</span><span class=n>file</span> <span class=o>=</span> <span class=s1>&#39;app.log&#39;</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=n>CONFIG</span><span class=o>.</span><span class=n>Logging</span><span class=o>.</span><span class=n>max_file_size</span> <span class=o>=</span> <span class=mi>5_242_880</span>  <span class=c1># 5MB</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=n>CONFIG</span><span class=o>.</span><span class=n>apply</span><span class=p>()</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=c1># Rich handler with stdout</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=n>CONFIG</span><span class=o>.</span><span class=n>Logging</span><span class=o>.</span><span class=n>console</span> <span class=o>=</span> <span class=kc>True</span>  <span class=c1># or &#39;stdout&#39;</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=n>CONFIG</span><span class=o>.</span><span class=n>Logging</span><span class=o>.</span><span class=n>rich</span> <span class=o>=</span> <span class=kc>True</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=n>CONFIG</span><span class=o>.</span><span class=n>apply</span><span class=p>()</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=c1># Console output to stderr</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=n>CONFIG</span><span class=o>.</span><span class=n>Logging</span><span class=o>.</span><span class=n>console</span> <span class=o>=</span> <span class=s1>&#39;stderr&#39;</span>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a><span class=n>CONFIG</span><span class=o>.</span><span class=n>apply</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-children"> <h6 id=flixopt.commons.CONFIG.Logging-classes>Classes<a href=#flixopt.commons.CONFIG.Logging-classes class=headerlink title="Anchor link to this section">&para;</a></h6> <div class="doc doc-object doc-class"> <h7 id=flixopt.commons.CONFIG.Logging.Colors class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">Colors</span> <a href=#flixopt.commons.CONFIG.Logging.Colors class=headerlink title="Anchor link to this section">&para;</a></h7> <div class="doc doc-contents "> <p>ANSI color codes for log levels.</p> <p><span class=doc-section-title>Attributes:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code><span title=flixopt.commons.CONFIG.Logging.Colors.DEBUG>DEBUG</span></code></td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>ANSI color for DEBUG level.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=flixopt.commons.CONFIG.Logging.Colors.INFO>INFO</span></code></td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>ANSI color for INFO level.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=flixopt.commons.CONFIG.Logging.Colors.WARNING>WARNING</span></code></td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>ANSI color for WARNING level.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=flixopt.commons.CONFIG.Logging.Colors.ERROR>ERROR</span></code></td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>ANSI color for ERROR level.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=flixopt.commons.CONFIG.Logging.Colors.CRITICAL>CRITICAL</span></code></td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>ANSI color for CRITICAL level.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>CONFIG</span><span class=o>.</span><span class=n>Logging</span><span class=o>.</span><span class=n>Colors</span><span class=o>.</span><span class=n>INFO</span> <span class=o>=</span> <span class=s1>&#39;</span><span class=se>\033</span><span class=s1>[32m&#39;</span>  <span class=c1># Green</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=n>CONFIG</span><span class=o>.</span><span class=n>Logging</span><span class=o>.</span><span class=n>Colors</span><span class=o>.</span><span class=n>ERROR</span> <span class=o>=</span> <span class=s1>&#39;</span><span class=se>\033</span><span class=s1>[1m</span><span class=se>\033</span><span class=s1>[31m&#39;</span>  <span class=c1># Bold red</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=n>CONFIG</span><span class=o>.</span><span class=n>apply</span><span class=p>()</span>
</span></code></pre></div> <details class=common-ansi-codes open> <summary>Common ANSI codes</summary> <ul> <li>'\033[30m' - Black</li> <li>'\033[31m' - Red</li> <li>'\033[32m' - Green</li> <li>'\033[33m' - Yellow</li> <li>'\033[34m' - Blue</li> <li>'\033[35m' - Magenta</li> <li>'\033[36m' - Cyan</li> <li>'\033[37m' - White</li> <li>'\033[90m' - Bright Black/Gray</li> <li>'\033[0m' - Reset to default</li> <li>'\033[1m\033[3Xm' - Bold (replace X with color code 0-7)</li> <li>'\033[2m\033[3Xm' - Dim (replace X with color code 0-7)</li> </ul> </details> <div class="doc doc-children"> </div> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h5 id=flixopt.commons.CONFIG.Modeling class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">Modeling</span> <a href=#flixopt.commons.CONFIG.Modeling class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="doc doc-contents "> <p>Optimization modeling parameters.</p> <p><span class=doc-section-title>Attributes:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code><span title=flixopt.commons.CONFIG.Modeling.big>big</span></code></td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Large number for big-M constraints.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=flixopt.commons.CONFIG.Modeling.epsilon>epsilon</span></code></td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#float>float</a></code> </td> <td> <div class=doc-md-description> <p>Tolerance for numerical comparisons.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=flixopt.commons.CONFIG.Modeling.big_binary_bound>big_binary_bound</span></code></td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Upper bound for binary constraints.</p> </div> </td> </tr> </tbody> </table> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-class"> <h5 id=flixopt.commons.CONFIG.Plotting class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">Plotting</span> <a href=#flixopt.commons.CONFIG.Plotting class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="doc doc-contents "> <p>Plotting configuration.</p> <p>Configure backends via environment variables: - Matplotlib: Set <code>MPLBACKEND</code> environment variable (e.g., 'Agg', 'TkAgg') - Plotly: Set <code>PLOTLY_RENDERER</code> or use <code>plotly.io.renderers.default</code></p> <p><span class=doc-section-title>Attributes:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code><span title=flixopt.commons.CONFIG.Plotting.default_show>default_show</span></code></td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>Default value for the <code>show</code> parameter in plot methods.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=flixopt.commons.CONFIG.Plotting.default_engine>default_engine</span></code></td> <td> <code><a class="autorefs autorefs-external" title="<code>typing.Literal</code>" href=https://docs.python.org/3/library/typing.html#typing.Literal>Literal</a>[&#39;plotly&#39;, &#39;matplotlib&#39;]</code> </td> <td> <div class=doc-md-description> <p>Default plotting engine.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=flixopt.commons.CONFIG.Plotting.default_dpi>default_dpi</span></code></td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Default DPI for saved plots.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=flixopt.commons.CONFIG.Plotting.default_facet_cols>default_facet_cols</span></code></td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Default number of columns for faceted plots.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=flixopt.commons.CONFIG.Plotting.default_sequential_colorscale>default_sequential_colorscale</span></code></td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>Default colorscale for heatmaps and continuous data.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=flixopt.commons.CONFIG.Plotting.default_qualitative_colorscale>default_qualitative_colorscale</span></code></td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>Default colormap for categorical plots (bar/line/area charts).</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=c1># Set consistent theming</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=n>CONFIG</span><span class=o>.</span><span class=n>Plotting</span><span class=o>.</span><span class=n>plotly_template</span> <span class=o>=</span> <span class=s1>&#39;plotly_dark&#39;</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=n>CONFIG</span><span class=o>.</span><span class=n>apply</span><span class=p>()</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=c1># Configure default export and color settings</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=n>CONFIG</span><span class=o>.</span><span class=n>Plotting</span><span class=o>.</span><span class=n>default_dpi</span> <span class=o>=</span> <span class=mi>600</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=n>CONFIG</span><span class=o>.</span><span class=n>Plotting</span><span class=o>.</span><span class=n>default_sequential_colorscale</span> <span class=o>=</span> <span class=s1>&#39;plasma&#39;</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=n>CONFIG</span><span class=o>.</span><span class=n>Plotting</span><span class=o>.</span><span class=n>default_qualitative_colorscale</span> <span class=o>=</span> <span class=s1>&#39;Dark24&#39;</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=n>CONFIG</span><span class=o>.</span><span class=n>apply</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-children"> </div> </div> </div> <h4 id=flixopt.commons.CONFIG-functions>Functions<a href=#flixopt.commons.CONFIG-functions class=headerlink title="Anchor link to this section">&para;</a></h4> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.CONFIG.reset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">reset</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.CONFIG.reset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>reset</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Reset all configuration values to defaults.</p> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.CONFIG.apply class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">apply</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.CONFIG.apply class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>apply</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Apply current configuration to logging system.</p> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.CONFIG.load_from_file class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">load_from_file</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.CONFIG.load_from_file class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>load_from_file</span><span class=p>(</span><span class=n>config_file</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Load configuration from YAML file and apply it.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config_file</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to the YAML configuration file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#FileNotFoundError>FileNotFoundError</a></code> </td> <td> <div class=doc-md-description> <p>If the config file does not exist.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.CONFIG.to_dict class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_dict</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.CONFIG.to_dict class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_dict</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Convert the configuration class into a dictionary for JSON serialization.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a></code> </td> <td> <div class=doc-md-description> <p>Dictionary representation of the current configuration.</p> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=flixopt.commons.TimeSeriesData class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">TimeSeriesData</span> <a href=#flixopt.commons.TimeSeriesData class=headerlink title="Anchor link to this section">&para;</a></h3> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>TimeSeriesData</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span> <span class=n>aggregation_group</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>aggregation_weight</span><span class=p>:</span> <span class=nb>float</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>agg_group</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>agg_weight</span><span class=p>:</span> <span class=nb>float</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=xarray.DataArray>DataArray</span></code></p> <p>Minimal TimeSeriesData that inherits from xr.DataArray with aggregation metadata.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>*args</code> </td> <td> <code><a class="autorefs autorefs-external" title="<code>typing.Any</code>" href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a></code> </td> <td> <div class=doc-md-description> <p>Arguments passed to DataArray</p> </div> </td> <td> <code>()</code> </td> </tr> <tr class=doc-section-item> <td> <code>aggregation_group</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | None</code> </td> <td> <div class=doc-md-description> <p>Aggregation group name</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>aggregation_weight</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#float>float</a> | None</code> </td> <td> <div class=doc-md-description> <p>Aggregation weight (0-1)</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>agg_group</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | None</code> </td> <td> <div class=doc-md-description> <p>Deprecated, use aggregation_group instead</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>agg_weight</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#float>float</a> | None</code> </td> <td> <div class=doc-md-description> <p>Deprecated, use aggregation_weight instead</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>**kwargs</code> </td> <td> <code><a class="autorefs autorefs-external" title="<code>typing.Any</code>" href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a></code> </td> <td> <div class=doc-md-description> <p>Additional arguments passed to DataArray</p> </div> </td> <td> <code>{}</code> </td> </tr> </tbody> </table> <div class="doc doc-children"> <h4 id=flixopt.commons.TimeSeriesData-functions>Functions<a href=#flixopt.commons.TimeSeriesData-functions class=headerlink title="Anchor link to this section">&para;</a></h4> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.TimeSeriesData.fit_to_coords class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">fit_to_coords</span> <a href=#flixopt.commons.TimeSeriesData.fit_to_coords class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>fit_to_coords</span><span class=p>(</span><span class=n>coords</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Index</span><span class=p>],</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>TimeSeriesData</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Fit the data to the given coordinates. Returns a new TimeSeriesData object if the current coords are different.</p> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.TimeSeriesData.from_dataarray class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_dataarray</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.TimeSeriesData.from_dataarray class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_dataarray</span><span class=p>(</span><span class=n>da</span><span class=p>:</span> <span class=n>DataArray</span><span class=p>,</span> <span class=n>aggregation_group</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>aggregation_weight</span><span class=p>:</span> <span class=nb>float</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create TimeSeriesData from DataArray, extracting metadata from attrs.</p> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.TimeSeriesData.is_timeseries_data class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">is_timeseries_data</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.TimeSeriesData.is_timeseries_data class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>is_timeseries_data</span><span class=p>(</span><span class=n>obj</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Check if an object is TimeSeriesData.</p> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=flixopt.commons.Effect class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">Effect</span> <a href=#flixopt.commons.Effect class=headerlink title="Anchor link to this section">&para;</a></h3> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>Effect</span><span class=p>(</span><span class=n>label</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>unit</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>description</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>meta_data</span><span class=p>:</span> <span class=nb>dict</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>is_standard</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>is_objective</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>share_from_temporal</span><span class=p>:</span> <span class=n>TemporalEffectsUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>share_from_periodic</span><span class=p>:</span> <span class=n>PeriodicEffectsUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>minimum_temporal</span><span class=p>:</span> <span class=n>PeriodicEffectsUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>maximum_temporal</span><span class=p>:</span> <span class=n>PeriodicEffectsUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>minimum_periodic</span><span class=p>:</span> <span class=n>PeriodicEffectsUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>maximum_periodic</span><span class=p>:</span> <span class=n>PeriodicEffectsUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>minimum_per_hour</span><span class=p>:</span> <span class=n>TemporalDataUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>maximum_per_hour</span><span class=p>:</span> <span class=n>TemporalDataUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>minimum_total</span><span class=p>:</span> <span class=n>Scalar</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>maximum_total</span><span class=p>:</span> <span class=n>Scalar</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Element</span> (<code>flixopt.structure.Element</code>)' href=../structure/#flixopt.structure.Element>Element</a></code></p> <p>Represents system-wide impacts like costs, emissions, resource consumption, or other effects.</p> <p>Effects capture the broader impacts of system operation and investment decisions beyond the primary energy/material flows. Each Effect accumulates contributions from Components, Flows, and other system elements. One Effect is typically chosen as the optimization objective, while others can serve as constraints or tracking metrics.</p> <p>Effects support comprehensive modeling including operational and investment contributions, cross-effect relationships (e.g., carbon pricing), and flexible constraint formulation.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>label</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>The label of the Element. Used to identify it in the FlowSystem.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>unit</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>The unit of the effect (e.g., '€', 'kg_CO2', 'kWh_primary', 'm²'). This is informative only and does not affect optimization calculations.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>description</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>Descriptive name explaining what this effect represents.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>is_standard</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, this is a standard effect allowing direct value input without effect dictionaries. Used for simplified effect specification (and less boilerplate code).</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>is_objective</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, this effect serves as the optimization objective function. Only one effect can be marked as objective per optimization.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>share_from_temporal</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">TemporalEffectsUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.effects.TemporalEffectsUser</code>)' href=../effects/#flixopt.effects.TemporalEffectsUser>TemporalEffectsUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Temporal cross-effect contributions. Maps temporal contributions from other effects to this effect</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>share_from_periodic</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">PeriodicEffectsUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.effects.PeriodicEffectsUser</code>)' href=../effects/#flixopt.effects.PeriodicEffectsUser>PeriodicEffectsUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Periodic cross-effect contributions. Maps periodic contributions from other effects to this effect.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>minimum_temporal</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">PeriodicEffectsUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.effects.PeriodicEffectsUser</code>)' href=../effects/#flixopt.effects.PeriodicEffectsUser>PeriodicEffectsUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Minimum allowed total contribution across all timesteps.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>maximum_temporal</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">PeriodicEffectsUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.effects.PeriodicEffectsUser</code>)' href=../effects/#flixopt.effects.PeriodicEffectsUser>PeriodicEffectsUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Maximum allowed total contribution across all timesteps.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>minimum_per_hour</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">TemporalDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.TemporalDataUser</code>)' href=../core/#flixopt.core.TemporalDataUser>TemporalDataUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Minimum allowed contribution per hour.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>maximum_per_hour</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">TemporalDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.TemporalDataUser</code>)' href=../core/#flixopt.core.TemporalDataUser>TemporalDataUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Maximum allowed contribution per hour.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>minimum_periodic</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">PeriodicEffectsUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.effects.PeriodicEffectsUser</code>)' href=../effects/#flixopt.effects.PeriodicEffectsUser>PeriodicEffectsUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Minimum allowed total periodic contribution.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>maximum_periodic</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">PeriodicEffectsUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.effects.PeriodicEffectsUser</code>)' href=../effects/#flixopt.effects.PeriodicEffectsUser>PeriodicEffectsUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Maximum allowed total periodic contribution.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>minimum_total</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Scalar</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.Scalar</code>)' href=../core/#flixopt.core.Scalar>Scalar</a> | None</code> </td> <td> <div class=doc-md-description> <p>Minimum allowed total effect (temporal + periodic combined).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>maximum_total</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Scalar</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.Scalar</code>)' href=../core/#flixopt.core.Scalar>Scalar</a> | None</code> </td> <td> <div class=doc-md-description> <p>Maximum allowed total effect (temporal + periodic combined).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>meta_data</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a> | None</code> </td> <td> <div class=doc-md-description> <p>Used to store additional information. Not used internally but saved in results. Only use Python native types.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><strong>Deprecated Parameters</strong> (for backwards compatibility): minimum_operation: Use <code>minimum_temporal</code> instead. maximum_operation: Use <code>maximum_temporal</code> instead. minimum_invest: Use <code>minimum_periodic</code> instead. maximum_invest: Use <code>maximum_periodic</code> instead. minimum_operation_per_hour: Use <code>minimum_per_hour</code> instead. maximum_operation_per_hour: Use <code>maximum_per_hour</code> instead.</p> <p><span class=doc-section-title>Examples:</span></p> <p>Basic cost objective:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>cost_effect</span> <span class=o>=</span> <span class=n>Effect</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;system_costs&#39;</span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    <span class=n>unit</span><span class=o>=</span><span class=s1>&#39;€&#39;</span><span class=p>,</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    <span class=n>description</span><span class=o>=</span><span class=s1>&#39;Total system costs&#39;</span><span class=p>,</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    <span class=n>is_objective</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=p>)</span>
</span></code></pre></div> <p>CO2 emissions:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=n>co2_effect</span> <span class=o>=</span> <span class=n>Effect</span><span class=p>(</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;CO2&#39;</span><span class=p>,</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>    <span class=n>unit</span><span class=o>=</span><span class=s1>&#39;kg_CO2&#39;</span><span class=p>,</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>    <span class=n>description</span><span class=o>=</span><span class=s1>&#39;Carbon dioxide emissions&#39;</span><span class=p>,</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>    <span class=n>maximum_total</span><span class=o>=</span><span class=mi>1_000_000</span><span class=p>,</span>  <span class=c1># 1000 t CO2 annual limit</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=p>)</span>
</span></code></pre></div> <p>Land use constraint:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=n>land_use</span> <span class=o>=</span> <span class=n>Effect</span><span class=p>(</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;land_usage&#39;</span><span class=p>,</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>    <span class=n>unit</span><span class=o>=</span><span class=s1>&#39;m²&#39;</span><span class=p>,</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>    <span class=n>description</span><span class=o>=</span><span class=s1>&#39;Land area requirement&#39;</span><span class=p>,</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>    <span class=n>maximum_total</span><span class=o>=</span><span class=mi>50_000</span><span class=p>,</span>  <span class=c1># Maximum 5 hectares available</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=p>)</span>
</span></code></pre></div> <p>Primary energy tracking:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=n>primary_energy</span> <span class=o>=</span> <span class=n>Effect</span><span class=p>(</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;primary_energy&#39;</span><span class=p>,</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>    <span class=n>unit</span><span class=o>=</span><span class=s1>&#39;kWh_primary&#39;</span><span class=p>,</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>    <span class=n>description</span><span class=o>=</span><span class=s1>&#39;Primary energy consumption&#39;</span><span class=p>,</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=p>)</span>
</span></code></pre></div> <p>Cost objective with carbon and primary energy pricing:</p> <div class="language-text highlight"><span class=filename>Text Only</span><pre><span></span><code>```python
cost_effect = Effect(
    label=&#39;system_costs&#39;,
    unit=&#39;€&#39;,
    description=&#39;Total system costs&#39;,
    is_objective=True,
    share_from_temporal={
        &#39;primary_energy&#39;: 0.08,  # 0.08 €/kWh_primary
        &#39;CO2&#39;: 0.2,  # Carbon pricing: 0.2 €/kg_CO2 into costs if used on a cost effect
    },
)
```

Water consumption with tiered constraints:

```python
water_usage = Effect(
    label=&#39;water_consumption&#39;,
    unit=&#39;m³&#39;,
    description=&#39;Industrial water usage&#39;,
    minimum_per_hour=10,  # Minimum 10 m³/h for process stability
    maximum_per_hour=500,  # Maximum 500 m³/h capacity limit
    maximum_total=100_000,  # Annual permit limit: 100,000 m³
)
```
</code></pre></div> <details class=note open> <summary>Note</summary> <p>Effect bounds can be None to indicate no constraint in that direction.</p> <p>Cross-effect relationships enable sophisticated modeling like carbon pricing, resource valuation, or multi-criteria optimization with weighted objectives.</p> <p>The unit field is purely informational - ensure dimensional consistency across all contributions to each effect manually.</p> <p>Effects are accumulated as: - Total = Σ(temporal contributions) + Σ(periodic contributions)</p> </details> <div class="doc doc-children"> <h4 id=flixopt.commons.Effect-attributes>Attributes<a href=#flixopt.commons.Effect-attributes class=headerlink title="Anchor link to this section">&para;</a></h4> <div class="doc doc-object doc-attribute"> <h5 id=flixopt.commons.Effect.minimum_operation class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">minimum_operation</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> <small class="doc doc-label doc-label-writable"><code>writable</code></small> </span> <a href=#flixopt.commons.Effect.minimum_operation class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>minimum_operation</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>DEPRECATED: Use 'minimum_temporal' property instead.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 id=flixopt.commons.Effect.maximum_operation class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">maximum_operation</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> <small class="doc doc-label doc-label-writable"><code>writable</code></small> </span> <a href=#flixopt.commons.Effect.maximum_operation class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>maximum_operation</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>DEPRECATED: Use 'maximum_temporal' property instead.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 id=flixopt.commons.Effect.minimum_invest class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">minimum_invest</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> <small class="doc doc-label doc-label-writable"><code>writable</code></small> </span> <a href=#flixopt.commons.Effect.minimum_invest class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>minimum_invest</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>DEPRECATED: Use 'minimum_periodic' property instead.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 id=flixopt.commons.Effect.maximum_invest class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">maximum_invest</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> <small class="doc doc-label doc-label-writable"><code>writable</code></small> </span> <a href=#flixopt.commons.Effect.maximum_invest class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>maximum_invest</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>DEPRECATED: Use 'maximum_periodic' property instead.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 id=flixopt.commons.Effect.minimum_operation_per_hour class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">minimum_operation_per_hour</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> <small class="doc doc-label doc-label-writable"><code>writable</code></small> </span> <a href=#flixopt.commons.Effect.minimum_operation_per_hour class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>minimum_operation_per_hour</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>DEPRECATED: Use 'minimum_per_hour' property instead.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 id=flixopt.commons.Effect.maximum_operation_per_hour class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">maximum_operation_per_hour</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> <small class="doc doc-label doc-label-writable"><code>writable</code></small> </span> <a href=#flixopt.commons.Effect.maximum_operation_per_hour class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>maximum_operation_per_hour</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>DEPRECATED: Use 'maximum_per_hour' property instead.</p> </div> </div> <h4 id=flixopt.commons.Effect-functions>Functions<a href=#flixopt.commons.Effect-functions class=headerlink title="Anchor link to this section">&para;</a></h4> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Effect.to_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_dataset</span> <a href=#flixopt.commons.Effect.to_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_dataset</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>Dataset</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Convert the object to an xarray Dataset representation. All DataArrays become dataset variables, everything else goes to attrs.</p> <p>Its recommended to only call this method on Interfaces with all numeric data stored as xr.DataArrays. Interfaces inside a FlowSystem are automatically converted this form after connecting and transforming the FlowSystem.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>xr.Dataset: Dataset containing all DataArrays with basic objects only in attributes</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails due to naming conflicts or invalid data</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Effect.to_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_netcdf</span> <a href=#flixopt.commons.Effect.to_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>,</span> <span class=n>compression</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to save the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>compression</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Compression level (0-9)</p> </div> </td> <td> <code>0</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Effect.from_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_dataset</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.Effect.from_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_dataset</span><span class=p>(</span><span class=n>ds</span><span class=p>:</span> <span class=n>Dataset</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create an instance from an xarray Dataset.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ds</code> </td> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>Dataset containing the object data</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If dataset format is invalid or class mismatch</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Effect.from_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_netcdf</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.Effect.from_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Load an instance from a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be read</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If file format is invalid</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Effect.get_structure class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">get_structure</span> <a href=#flixopt.commons.Effect.get_structure class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_structure</span><span class=p>(</span><span class=n>clean</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>stats</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Get object structure as a dictionary.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>clean</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, remove None and empty dicts and lists.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>stats</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, replace DataArray references with statistics</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a></code> </td> <td> <div class=doc-md-description> <p>Dictionary representation of the object structure</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Effect.to_json class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_json</span> <a href=#flixopt.commons.Effect.to_json class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_json</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a JSON file. This is meant for documentation and comparison, not for reloading.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>The path to the JSON file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Effect.copy class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">copy</span> <a href=#flixopt.commons.Effect.copy class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>copy</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create a copy of the Interface object.</p> <p>Uses the existing serialization infrastructure to ensure proper copying of all DataArrays and nested objects.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>A new instance of the same class with copied data.</p> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=flixopt.commons.Bus class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">Bus</span> <a href=#flixopt.commons.Bus class=headerlink title="Anchor link to this section">&para;</a></h3> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>Bus</span><span class=p>(</span><span class=n>label</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>excess_penalty_per_flow_hour</span><span class=p>:</span> <span class=n>TemporalDataUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=mf>100000.0</span><span class=p>,</span> <span class=n>meta_data</span><span class=p>:</span> <span class=nb>dict</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Element</span> (<code>flixopt.structure.Element</code>)' href=../structure/#flixopt.structure.Element>Element</a></code></p> <p>Buses represent nodal balances between flow rates, serving as connection points.</p> <p>A Bus enforces energy or material balance constraints where the sum of all incoming flows must equal the sum of all outgoing flows at each time step. Buses represent physical or logical connection points for energy carriers (electricity, heat, gas) or material flows between different Components.</p> <details class=mathematical-formulation open> <summary>Mathematical Formulation</summary> <p>See the complete mathematical model in the documentation: <a href=../../user-guide/mathematical-notation/elements/Bus/ >Bus</a></p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>label</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>The label of the Element. Used to identify it in the FlowSystem.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>excess_penalty_per_flow_hour</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">TemporalDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.TemporalDataUser</code>)' href=../core/#flixopt.core.TemporalDataUser>TemporalDataUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Penalty costs for bus balance violations. When None, no excess/deficit is allowed (hard constraint). When set to a value &gt; 0, allows bus imbalances at penalty cost. Default is 1e5 (high penalty).</p> </div> </td> <td> <code>100000.0</code> </td> </tr> <tr class=doc-section-item> <td> <code>meta_data</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a> | None</code> </td> <td> <div class=doc-md-description> <p>Used to store additional information. Not used internally but saved in results. Only use Python native types.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <p>Electrical bus with strict balance:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>electricity_bus</span> <span class=o>=</span> <span class=n>Bus</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;main_electrical_bus&#39;</span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    <span class=n>excess_penalty_per_flow_hour</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>  <span class=c1># No imbalance allowed</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=p>)</span>
</span></code></pre></div> <p>Heat network with penalty for imbalances:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=n>heat_network</span> <span class=o>=</span> <span class=n>Bus</span><span class=p>(</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;district_heating_network&#39;</span><span class=p>,</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>    <span class=n>excess_penalty_per_flow_hour</span><span class=o>=</span><span class=mi>1000</span><span class=p>,</span>  <span class=c1># €1000/MWh penalty for imbalance</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=p>)</span>
</span></code></pre></div> <p>Material flow with time-varying penalties:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=n>material_hub</span> <span class=o>=</span> <span class=n>Bus</span><span class=p>(</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;material_processing_hub&#39;</span><span class=p>,</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>    <span class=n>excess_penalty_per_flow_hour</span><span class=o>=</span><span class=n>waste_disposal_costs</span><span class=p>,</span>  <span class=c1># Time series</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=p>)</span>
</span></code></pre></div> <details class=note open> <summary>Note</summary> <p>The bus balance equation enforced is: Σ(inflows) = Σ(outflows) + excess - deficit</p> <p>When excess_penalty_per_flow_hour is None, excess and deficit are forced to zero. When a penalty cost is specified, the optimization can choose to violate the balance if economically beneficial, paying the penalty. The penalty is added to the objective directly.</p> <p>Empty <code>inputs</code> and <code>outputs</code> lists are initialized and populated automatically by the FlowSystem during system setup.</p> </details> <div class="doc doc-children"> <h4 id=flixopt.commons.Bus-functions>Functions<a href=#flixopt.commons.Bus-functions class=headerlink title="Anchor link to this section">&para;</a></h4> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Bus.to_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_dataset</span> <a href=#flixopt.commons.Bus.to_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_dataset</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>Dataset</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Convert the object to an xarray Dataset representation. All DataArrays become dataset variables, everything else goes to attrs.</p> <p>Its recommended to only call this method on Interfaces with all numeric data stored as xr.DataArrays. Interfaces inside a FlowSystem are automatically converted this form after connecting and transforming the FlowSystem.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>xr.Dataset: Dataset containing all DataArrays with basic objects only in attributes</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails due to naming conflicts or invalid data</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Bus.to_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_netcdf</span> <a href=#flixopt.commons.Bus.to_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>,</span> <span class=n>compression</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to save the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>compression</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Compression level (0-9)</p> </div> </td> <td> <code>0</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Bus.from_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_dataset</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.Bus.from_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_dataset</span><span class=p>(</span><span class=n>ds</span><span class=p>:</span> <span class=n>Dataset</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create an instance from an xarray Dataset.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ds</code> </td> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>Dataset containing the object data</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If dataset format is invalid or class mismatch</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Bus.from_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_netcdf</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.Bus.from_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Load an instance from a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be read</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If file format is invalid</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Bus.get_structure class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">get_structure</span> <a href=#flixopt.commons.Bus.get_structure class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_structure</span><span class=p>(</span><span class=n>clean</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>stats</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Get object structure as a dictionary.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>clean</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, remove None and empty dicts and lists.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>stats</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, replace DataArray references with statistics</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a></code> </td> <td> <div class=doc-md-description> <p>Dictionary representation of the object structure</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Bus.to_json class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_json</span> <a href=#flixopt.commons.Bus.to_json class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_json</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a JSON file. This is meant for documentation and comparison, not for reloading.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>The path to the JSON file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Bus.copy class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">copy</span> <a href=#flixopt.commons.Bus.copy class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>copy</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create a copy of the Interface object.</p> <p>Uses the existing serialization infrastructure to ensure proper copying of all DataArrays and nested objects.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>A new instance of the same class with copied data.</p> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=flixopt.commons.Flow class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">Flow</span> <a href=#flixopt.commons.Flow class=headerlink title="Anchor link to this section">&para;</a></h3> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>Flow</span><span class=p>(</span><span class=n>label</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>bus</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>size</span><span class=p>:</span> <span class=n>Scalar</span> <span class=o>|</span> <span class=n>InvestParameters</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>fixed_relative_profile</span><span class=p>:</span> <span class=n>TemporalDataUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>relative_minimum</span><span class=p>:</span> <span class=n>TemporalDataUser</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>relative_maximum</span><span class=p>:</span> <span class=n>TemporalDataUser</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>effects_per_flow_hour</span><span class=p>:</span> <span class=n>TemporalEffectsUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>on_off_parameters</span><span class=p>:</span> <span class=n>OnOffParameters</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>flow_hours_total_max</span><span class=p>:</span> <span class=n>Scalar</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>flow_hours_total_min</span><span class=p>:</span> <span class=n>Scalar</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>load_factor_min</span><span class=p>:</span> <span class=n>Scalar</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>load_factor_max</span><span class=p>:</span> <span class=n>Scalar</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>previous_flow_rate</span><span class=p>:</span> <span class=n>Scalar</span> <span class=o>|</span> <span class=nb>list</span><span class=p>[</span><span class=n>Scalar</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>meta_data</span><span class=p>:</span> <span class=nb>dict</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Element</span> (<code>flixopt.structure.Element</code>)' href=../structure/#flixopt.structure.Element>Element</a></code></p> <p>Define a directed flow of energy or material between bus and component.</p> <p>A Flow represents the transfer of energy (electricity, heat, fuel) or material between a Bus and a Component in a specific direction. The flow rate is the primary optimization variable, with constraints and costs defined through various parameters. Flows can have fixed or variable sizes, operational constraints, and complex on/off behavior.</p> <details class=key-concepts open> <summary>Key Concepts</summary> <p><strong>Flow Rate</strong>: The instantaneous rate of energy/material transfer (optimization variable) [kW, m³/h, kg/h] <strong>Flow Hours</strong>: Amount of energy/material transferred per timestep. [kWh, m³, kg] <strong>Flow Size</strong>: The maximum capacity or nominal rating of the flow [kW, m³/h, kg/h] <strong>Relative Bounds</strong>: Flow rate limits expressed as fractions of flow size</p> </details> <details class=integration-with-parameter-classes open> <summary>Integration with Parameter Classes</summary> <ul> <li><strong>InvestParameters</strong>: Used for <code>size</code> when flow Size is an investment decision</li> <li><strong>OnOffParameters</strong>: Used for <code>on_off_parameters</code> when flow has discrete states</li> </ul> </details> <details class=mathematical-formulation open> <summary>Mathematical Formulation</summary> <p>See the complete mathematical model in the documentation: <a href=../../user-guide/mathematical-notation/elements/Flow/ >Flow</a></p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>label</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>Unique flow identifier within its component.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>bus</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>Bus label this flow connects to.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>size</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Scalar</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.Scalar</code>)' href=../core/#flixopt.core.Scalar>Scalar</a> | <a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">InvestParameters</span> (<code>flixopt.interface.InvestParameters</code>)' href=../interface/#flixopt.interface.InvestParameters>InvestParameters</a></code> </td> <td> <div class=doc-md-description> <p>Flow capacity. Scalar, InvestParameters, or None (uses CONFIG.Modeling.big).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>relative_minimum</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">TemporalDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.TemporalDataUser</code>)' href=../core/#flixopt.core.TemporalDataUser>TemporalDataUser</a></code> </td> <td> <div class=doc-md-description> <p>Minimum flow rate as fraction of size (0-1). Default: 0.</p> </div> </td> <td> <code>0</code> </td> </tr> <tr class=doc-section-item> <td> <code>relative_maximum</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">TemporalDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.TemporalDataUser</code>)' href=../core/#flixopt.core.TemporalDataUser>TemporalDataUser</a></code> </td> <td> <div class=doc-md-description> <p>Maximum flow rate as fraction of size. Default: 1.</p> </div> </td> <td> <code>1</code> </td> </tr> <tr class=doc-section-item> <td> <code>load_factor_min</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Scalar</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.Scalar</code>)' href=../core/#flixopt.core.Scalar>Scalar</a> | None</code> </td> <td> <div class=doc-md-description> <p>Minimum average utilization (0-1). Default: 0.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>load_factor_max</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Scalar</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.Scalar</code>)' href=../core/#flixopt.core.Scalar>Scalar</a> | None</code> </td> <td> <div class=doc-md-description> <p>Maximum average utilization (0-1). Default: 1.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>effects_per_flow_hour</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">TemporalEffectsUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.effects.TemporalEffectsUser</code>)' href=../effects/#flixopt.effects.TemporalEffectsUser>TemporalEffectsUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Operational costs/impacts per flow-hour. Dict mapping effect names to values (e.g., {'cost': 45, 'CO2': 0.8}).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>on_off_parameters</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">OnOffParameters</span> (<code>flixopt.interface.OnOffParameters</code>)' href=../interface/#flixopt.interface.OnOffParameters>OnOffParameters</a> | None</code> </td> <td> <div class=doc-md-description> <p>Binary operation constraints (OnOffParameters). Default: None.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>flow_hours_total_max</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Scalar</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.Scalar</code>)' href=../core/#flixopt.core.Scalar>Scalar</a> | None</code> </td> <td> <div class=doc-md-description> <p>Maximum cumulative flow-hours. Alternative to load_factor_max.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>flow_hours_total_min</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Scalar</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.Scalar</code>)' href=../core/#flixopt.core.Scalar>Scalar</a> | None</code> </td> <td> <div class=doc-md-description> <p>Minimum cumulative flow-hours. Alternative to load_factor_min.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>fixed_relative_profile</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">TemporalDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.TemporalDataUser</code>)' href=../core/#flixopt.core.TemporalDataUser>TemporalDataUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Predetermined pattern as fraction of size. Flow rate = size × fixed_relative_profile(t).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>previous_flow_rate</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Scalar</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.Scalar</code>)' href=../core/#flixopt.core.Scalar>Scalar</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Scalar</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.Scalar</code>)' href=../core/#flixopt.core.Scalar>Scalar</a>] | None</code> </td> <td> <div class=doc-md-description> <p>Initial flow state for on/off dynamics. Default: None (off).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>meta_data</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a> | None</code> </td> <td> <div class=doc-md-description> <p>Additional info stored in results. Python native types only.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <p>Basic power flow with fixed capacity:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>generator_output</span> <span class=o>=</span> <span class=n>Flow</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;electricity_out&#39;</span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    <span class=n>bus</span><span class=o>=</span><span class=s1>&#39;electricity_grid&#39;</span><span class=p>,</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    <span class=n>size</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span>  <span class=c1># 100 MW capacity</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    <span class=n>relative_minimum</span><span class=o>=</span><span class=mf>0.4</span><span class=p>,</span>  <span class=c1># Cannot operate below 40 MW</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>    <span class=n>effects_per_flow_hour</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;fuel_cost&#39;</span><span class=p>:</span> <span class=mi>45</span><span class=p>,</span> <span class=s1>&#39;co2_emissions&#39;</span><span class=p>:</span> <span class=mf>0.8</span><span class=p>},</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=p>)</span>
</span></code></pre></div> <p>Investment decision for battery capacity:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=n>battery_flow</span> <span class=o>=</span> <span class=n>Flow</span><span class=p>(</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;electricity_storage&#39;</span><span class=p>,</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>    <span class=n>bus</span><span class=o>=</span><span class=s1>&#39;electricity_grid&#39;</span><span class=p>,</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>    <span class=n>size</span><span class=o>=</span><span class=n>InvestParameters</span><span class=p>(</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>        <span class=n>minimum_size</span><span class=o>=</span><span class=mi>10</span><span class=p>,</span>  <span class=c1># Minimum 10 MWh</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>        <span class=n>maximum_size</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span>  <span class=c1># Maximum 100 MWh</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a>        <span class=n>specific_effects</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;cost&#39;</span><span class=p>:</span> <span class=mi>150_000</span><span class=p>},</span>  <span class=c1># €150k/MWh annualized</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>    <span class=p>),</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=p>)</span>
</span></code></pre></div> <p>Heat pump with startup costs and minimum run times:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=n>heat_pump</span> <span class=o>=</span> <span class=n>Flow</span><span class=p>(</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;heat_output&#39;</span><span class=p>,</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>    <span class=n>bus</span><span class=o>=</span><span class=s1>&#39;heating_network&#39;</span><span class=p>,</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>    <span class=n>size</span><span class=o>=</span><span class=mi>50</span><span class=p>,</span>  <span class=c1># 50 kW thermal</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>    <span class=n>relative_minimum</span><span class=o>=</span><span class=mf>0.3</span><span class=p>,</span>  <span class=c1># Minimum 15 kW output when on</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>    <span class=n>effects_per_flow_hour</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;electricity_cost&#39;</span><span class=p>:</span> <span class=mi>25</span><span class=p>,</span> <span class=s1>&#39;maintenance&#39;</span><span class=p>:</span> <span class=mi>2</span><span class=p>},</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a>    <span class=n>on_off_parameters</span><span class=o>=</span><span class=n>OnOffParameters</span><span class=p>(</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a>        <span class=n>effects_per_switch_on</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;startup_cost&#39;</span><span class=p>:</span> <span class=mi>100</span><span class=p>,</span> <span class=s1>&#39;wear&#39;</span><span class=p>:</span> <span class=mf>0.1</span><span class=p>},</span>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>        <span class=n>consecutive_on_hours_min</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span>  <span class=c1># Must run at least 2 hours</span>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a>        <span class=n>consecutive_off_hours_min</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>  <span class=c1># Must stay off at least 1 hour</span>
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a>        <span class=n>switch_on_total_max</span><span class=o>=</span><span class=mi>200</span><span class=p>,</span>  <span class=c1># Maximum 200 starts per period</span>
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a>    <span class=p>),</span>
</span><span id=__span-2-13><a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a><span class=p>)</span>
</span></code></pre></div> <p>Fixed renewable generation profile:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=n>solar_generation</span> <span class=o>=</span> <span class=n>Flow</span><span class=p>(</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;solar_power&#39;</span><span class=p>,</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>    <span class=n>bus</span><span class=o>=</span><span class=s1>&#39;electricity_grid&#39;</span><span class=p>,</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>    <span class=n>size</span><span class=o>=</span><span class=mi>25</span><span class=p>,</span>  <span class=c1># 25 MW installed capacity</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>    <span class=n>fixed_relative_profile</span><span class=o>=</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>0</span><span class=p>,</span> <span class=mf>0.1</span><span class=p>,</span> <span class=mf>0.4</span><span class=p>,</span> <span class=mf>0.8</span><span class=p>,</span> <span class=mf>0.9</span><span class=p>,</span> <span class=mf>0.7</span><span class=p>,</span> <span class=mf>0.3</span><span class=p>,</span> <span class=mf>0.1</span><span class=p>,</span> <span class=mi>0</span><span class=p>]),</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>    <span class=n>effects_per_flow_hour</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;maintenance_costs&#39;</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span>  <span class=c1># €5/MWh maintenance</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=p>)</span>
</span></code></pre></div> <p>Industrial process with annual utilization limits:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=n>production_line</span> <span class=o>=</span> <span class=n>Flow</span><span class=p>(</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>    <span class=n>label</span><span class=o>=</span><span class=s1>&#39;product_output&#39;</span><span class=p>,</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>    <span class=n>bus</span><span class=o>=</span><span class=s1>&#39;product_market&#39;</span><span class=p>,</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>    <span class=n>size</span><span class=o>=</span><span class=mi>1000</span><span class=p>,</span>  <span class=c1># 1000 units/hour capacity</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>    <span class=n>load_factor_min</span><span class=o>=</span><span class=mf>0.6</span><span class=p>,</span>  <span class=c1># Must achieve 60% annual utilization</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>    <span class=n>load_factor_max</span><span class=o>=</span><span class=mf>0.85</span><span class=p>,</span>  <span class=c1># Cannot exceed 85% for maintenance</span>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a>    <span class=n>effects_per_flow_hour</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;variable_cost&#39;</span><span class=p>:</span> <span class=mi>12</span><span class=p>,</span> <span class=s1>&#39;quality_control&#39;</span><span class=p>:</span> <span class=mf>0.5</span><span class=p>},</span>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a><span class=p>)</span>
</span></code></pre></div> <details class=design-considerations open> <summary>Design Considerations</summary> <p><strong>Size vs Load Factors</strong>: Use <code>flow_hours_total_min/max</code> for absolute limits, <code>load_factor_min/max</code> for utilization-based constraints.</p> <p><strong>Relative Bounds</strong>: Set <code>relative_minimum &gt; 0</code> only when equipment cannot operate below that level. Use <code>on_off_parameters</code> for discrete on/off behavior.</p> <p><strong>Fixed Profiles</strong>: Use <code>fixed_relative_profile</code> for known exact patterns, <code>relative_maximum</code> for upper bounds on optimization variables.</p> </details> <details class=notes open> <summary>Notes</summary> <ul> <li>Default size (CONFIG.Modeling.big) is used when size=None</li> <li>list inputs for previous_flow_rate are converted to NumPy arrays</li> <li>Flow direction is determined by component input/output designation</li> </ul> </details> <details class=deprecated open> <summary>Deprecated</summary> <p>Passing Bus objects to <code>bus</code> parameter. Use bus label strings instead.</p> </details> <div class="doc doc-children"> <h4 id=flixopt.commons.Flow-functions>Functions<a href=#flixopt.commons.Flow-functions class=headerlink title="Anchor link to this section">&para;</a></h4> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Flow.to_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_dataset</span> <a href=#flixopt.commons.Flow.to_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_dataset</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>Dataset</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Convert the object to an xarray Dataset representation. All DataArrays become dataset variables, everything else goes to attrs.</p> <p>Its recommended to only call this method on Interfaces with all numeric data stored as xr.DataArrays. Interfaces inside a FlowSystem are automatically converted this form after connecting and transforming the FlowSystem.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>xr.Dataset: Dataset containing all DataArrays with basic objects only in attributes</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails due to naming conflicts or invalid data</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Flow.to_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_netcdf</span> <a href=#flixopt.commons.Flow.to_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>,</span> <span class=n>compression</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to save the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>compression</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Compression level (0-9)</p> </div> </td> <td> <code>0</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Flow.from_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_dataset</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.Flow.from_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_dataset</span><span class=p>(</span><span class=n>ds</span><span class=p>:</span> <span class=n>Dataset</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create an instance from an xarray Dataset.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ds</code> </td> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>Dataset containing the object data</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If dataset format is invalid or class mismatch</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Flow.from_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_netcdf</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.Flow.from_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Load an instance from a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be read</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If file format is invalid</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Flow.get_structure class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">get_structure</span> <a href=#flixopt.commons.Flow.get_structure class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_structure</span><span class=p>(</span><span class=n>clean</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>stats</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Get object structure as a dictionary.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>clean</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, remove None and empty dicts and lists.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>stats</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, replace DataArray references with statistics</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a></code> </td> <td> <div class=doc-md-description> <p>Dictionary representation of the object structure</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Flow.to_json class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_json</span> <a href=#flixopt.commons.Flow.to_json class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_json</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a JSON file. This is meant for documentation and comparison, not for reloading.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>The path to the JSON file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Flow.copy class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">copy</span> <a href=#flixopt.commons.Flow.copy class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>copy</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create a copy of the Interface object.</p> <p>Uses the existing serialization infrastructure to ensure proper copying of all DataArrays and nested objects.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>A new instance of the same class with copied data.</p> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=flixopt.commons.FlowSystem class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">FlowSystem</span> <a href=#flixopt.commons.FlowSystem class=headerlink title="Anchor link to this section">&para;</a></h3> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>FlowSystem</span><span class=p>(</span><span class=n>timesteps</span><span class=p>:</span> <span class=n>DatetimeIndex</span><span class=p>,</span> <span class=n>periods</span><span class=p>:</span> <span class=n>Index</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>scenarios</span><span class=p>:</span> <span class=n>Index</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>hours_of_last_timestep</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=nb>float</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>hours_of_previous_timesteps</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=nb>float</span> <span class=o>|</span> <span class=n>ndarray</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>weights</span><span class=p>:</span> <span class=n>PeriodicDataUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>scenario_independent_sizes</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>|</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span> <span class=n>scenario_independent_flow_rates</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>|</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code></p> <p>A FlowSystem organizes the high level Elements (Components, Buses &amp; Effects).</p> <p>This is the main container class that users work with to build and manage their System.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>timesteps</code> </td> <td> <code><a class="autorefs autorefs-external" title="<code>pandas.DatetimeIndex</code>" href=https://pandas.pydata.org/docs/reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex>DatetimeIndex</a></code> </td> <td> <div class=doc-md-description> <p>The timesteps of the model.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>periods</code> </td> <td> <code><a class="autorefs autorefs-external" title="<code>pandas.Index</code>" href=https://pandas.pydata.org/docs/reference/api/pandas.Index.html#pandas.Index>Index</a> | None</code> </td> <td> <div class=doc-md-description> <p>The periods of the model.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>scenarios</code> </td> <td> <code><a class="autorefs autorefs-external" title="<code>pandas.Index</code>" href=https://pandas.pydata.org/docs/reference/api/pandas.Index.html#pandas.Index>Index</a> | None</code> </td> <td> <div class=doc-md-description> <p>The scenarios of the model.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>hours_of_last_timestep</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#float>float</a> | None</code> </td> <td> <div class=doc-md-description> <p>The duration of the last time step. Uses the last time interval if not specified</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>hours_of_previous_timesteps</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#float>float</a> | <a class="autorefs autorefs-external" title="<code>numpy.ndarray</code>" href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray>ndarray</a> | None</code> </td> <td> <div class=doc-md-description> <p>The duration of previous timesteps. If None, the first time increment of time_series is used. This is needed to calculate previous durations (for example consecutive_on_hours). If you use an array, take care that its long enough to cover all previous values!</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>weights</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">PeriodicDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.PeriodicDataUser</code>)' href=../core/#flixopt.core.PeriodicDataUser>PeriodicDataUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>The weights of each period and scenario. If None, all scenarios have the same weight (normalized to 1). Its recommended to normalize the weights to sum up to 1.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>scenario_independent_sizes</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>]</code> </td> <td> <div class=doc-md-description> <p>Controls whether investment sizes are equalized across scenarios. - True: All sizes are shared/equalized across scenarios - False: All sizes are optimized separately per scenario - list[str]: Only specified components (by label_full) are equalized across scenarios</p> </div> </td> <td> <code>True</code> </td> </tr> <tr class=doc-section-item> <td> <code>scenario_independent_flow_rates</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>]</code> </td> <td> <div class=doc-md-description> <p>Controls whether flow rates are equalized across scenarios. - True: All flow rates are shared/equalized across scenarios - False: All flow rates are optimized separately per scenario - list[str]: Only specified flows (by label_full) are equalized across scenarios</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <details class=notes open> <summary>Notes</summary> <ul> <li>Creates an empty registry for components and buses, an empty EffectCollection, and a placeholder for a SystemModel.</li> <li>The instance starts disconnected (self._connected_and_transformed == False) and will be connected_and_transformed automatically when trying to solve a calculation.</li> </ul> </details> <div class="doc doc-children"> <h4 id=flixopt.commons.FlowSystem-attributes>Attributes<a href=#flixopt.commons.FlowSystem-attributes class=headerlink title="Anchor link to this section">&para;</a></h4> <div class="doc doc-object doc-attribute"> <h5 id=flixopt.commons.FlowSystem.scenario_independent_sizes class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">scenario_independent_sizes</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> <small class="doc doc-label doc-label-writable"><code>writable</code></small> </span> <a href=#flixopt.commons.FlowSystem.scenario_independent_sizes class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>scenario_independent_sizes</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>|</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Controls whether investment sizes are equalized across scenarios.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>]</code> </td> <td> <div class=doc-md-description> <p>bool or list[str]: Configuration for scenario-independent sizing</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-attribute"> <h5 id=flixopt.commons.FlowSystem.scenario_independent_flow_rates class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">scenario_independent_flow_rates</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> <small class="doc doc-label doc-label-writable"><code>writable</code></small> </span> <a href=#flixopt.commons.FlowSystem.scenario_independent_flow_rates class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>scenario_independent_flow_rates</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>|</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Controls whether flow rates are equalized across scenarios.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>]</code> </td> <td> <div class=doc-md-description> <p>bool or list[str]: Configuration for scenario-independent flow rates</p> </div> </td> </tr> </tbody> </table> </div> </div> <h4 id=flixopt.commons.FlowSystem-functions>Functions<a href=#flixopt.commons.FlowSystem-functions class=headerlink title="Anchor link to this section">&para;</a></h4> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.FlowSystem.transform_data class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">transform_data</span> <a href=#flixopt.commons.FlowSystem.transform_data class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>transform_data</span><span class=p>(</span><span class=n>flow_system</span><span class=p>:</span> <span class=n>FlowSystem</span><span class=p>,</span> <span class=n>name_prefix</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Transform the data of the interface to match the FlowSystem's dimensions.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>flow_system</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=../flow_system/#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>The FlowSystem containing timing and dimensional information</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>name_prefix</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>The prefix to use for the names of the variables. Defaults to '', which results in no prefix.</p> </div> </td> <td> <code>&#39;&#39;</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#NotImplementedError>NotImplementedError</a></code> </td> <td> <div class=doc-md-description> <p>Must be implemented by subclasses</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.FlowSystem.from_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_netcdf</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.FlowSystem.from_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Load an instance from a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be read</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If file format is invalid</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.FlowSystem.copy class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">copy</span> <a href=#flixopt.commons.FlowSystem.copy class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>copy</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create a copy of the Interface object.</p> <p>Uses the existing serialization infrastructure to ensure proper copying of all DataArrays and nested objects.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>A new instance of the same class with copied data.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.FlowSystem.calculate_hours_per_timestep class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">calculate_hours_per_timestep</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small> </span> <a href=#flixopt.commons.FlowSystem.calculate_hours_per_timestep class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>calculate_hours_per_timestep</span><span class=p>(</span><span class=n>timesteps_extra</span><span class=p>:</span> <span class=n>DatetimeIndex</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>DataArray</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Calculate duration of each timestep as a 1D DataArray.</p> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.FlowSystem.to_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_dataset</span> <a href=#flixopt.commons.FlowSystem.to_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_dataset</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>Dataset</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Convert the FlowSystem to an xarray Dataset. Ensures FlowSystem is connected before serialization.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>xr.Dataset: Dataset containing all DataArrays with structure in attributes</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.FlowSystem.from_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_dataset</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.FlowSystem.from_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_dataset</span><span class=p>(</span><span class=n>ds</span><span class=p>:</span> <span class=n>Dataset</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>FlowSystem</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create a FlowSystem from an xarray Dataset. Handles FlowSystem-specific reconstruction logic.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ds</code> </td> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>Dataset containing the FlowSystem data</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=../flow_system/#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>FlowSystem instance</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.FlowSystem.to_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_netcdf</span> <a href=#flixopt.commons.FlowSystem.to_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>,</span> <span class=n>compression</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the FlowSystem to a NetCDF file. Ensures FlowSystem is connected before saving.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>The path to the netCDF file.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>compression</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>The compression level to use when saving the file.</p> </div> </td> <td> <code>0</code> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.FlowSystem.get_structure class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">get_structure</span> <a href=#flixopt.commons.FlowSystem.get_structure class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_structure</span><span class=p>(</span><span class=n>clean</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>stats</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Get FlowSystem structure. Ensures FlowSystem is connected before getting structure.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>clean</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, remove None and empty dicts and lists.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>stats</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, replace DataArray references with statistics</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.FlowSystem.to_json class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_json</span> <a href=#flixopt.commons.FlowSystem.to_json class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_json</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the flow system to a JSON file. Ensures FlowSystem is connected before saving.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>The path to the JSON file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.FlowSystem.fit_to_model_coords class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">fit_to_model_coords</span> <a href=#flixopt.commons.FlowSystem.fit_to_model_coords class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>fit_to_model_coords</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>TemporalDataUser</span> <span class=o>|</span> <span class=n>PeriodicDataUser</span> <span class=o>|</span> <span class=kc>None</span><span class=p>,</span> <span class=n>dims</span><span class=p>:</span> <span class=n>Collection</span><span class=p>[</span><span class=n>FlowSystemDimensions</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>TemporalData</span> <span class=o>|</span> <span class=n>PeriodicData</span> <span class=o>|</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Fit data to model coordinate system (currently time, but extensible).</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>name</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>Name of the data</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>data</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">TemporalDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.TemporalDataUser</code>)' href=../core/#flixopt.core.TemporalDataUser>TemporalDataUser</a> | <a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">PeriodicDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.PeriodicDataUser</code>)' href=../core/#flixopt.core.PeriodicDataUser>PeriodicDataUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Data to fit to model coordinates</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>dims</code> </td> <td> <code><a class="autorefs autorefs-external" title="<code>collections.abc.Collection</code>" href=https://docs.python.org/3/library/collections.abc.html#collections.abc.Collection>Collection</a>[<a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">FlowSystemDimensions</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.FlowSystemDimensions</code>)' href=../core/#flixopt.core.FlowSystemDimensions>FlowSystemDimensions</a>] | None</code> </td> <td> <div class=doc-md-description> <p>Collection of dimension names to use for fitting. If None, all dimensions are used.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">TemporalData</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.TemporalData</code>)' href=../core/#flixopt.core.TemporalData>TemporalData</a> | <a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">PeriodicData</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.PeriodicData</code>)' href=../core/#flixopt.core.PeriodicData>PeriodicData</a> | None</code> </td> <td> <div class=doc-md-description> <p>xr.DataArray aligned to model coordinate system. If data is None, returns None.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.FlowSystem.fit_effects_to_model_coords class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">fit_effects_to_model_coords</span> <a href=#flixopt.commons.FlowSystem.fit_effects_to_model_coords class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>fit_effects_to_model_coords</span><span class=p>(</span><span class=n>label_prefix</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span><span class=p>,</span> <span class=n>effect_values</span><span class=p>:</span> <span class=n>TemporalEffectsUser</span> <span class=o>|</span> <span class=n>PeriodicEffectsUser</span> <span class=o>|</span> <span class=kc>None</span><span class=p>,</span> <span class=n>label_suffix</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>dims</span><span class=p>:</span> <span class=n>Collection</span><span class=p>[</span><span class=n>FlowSystemDimensions</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>delimiter</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>&#39;|&#39;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>TemporalEffects</span> <span class=o>|</span> <span class=n>PeriodicEffects</span> <span class=o>|</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Transform EffectValues from the user to Internal Datatypes aligned with model coordinates.</p> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.FlowSystem.connect_and_transform class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">connect_and_transform</span> <a href=#flixopt.commons.FlowSystem.connect_and_transform class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>connect_and_transform</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Transform data for all elements using the new simplified approach.</p> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.FlowSystem.add_elements class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">add_elements</span> <a href=#flixopt.commons.FlowSystem.add_elements class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>add_elements</span><span class=p>(</span><span class=o>*</span><span class=n>elements</span><span class=p>:</span> <span class=n>Element</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Add Components(Storages, Boilers, Heatpumps, ...), Buses or Effects to the FlowSystem</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>*elements</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Element</span> (<code>flixopt.structure.Element</code>)' href=../structure/#flixopt.structure.Element>Element</a></code> </td> <td> <div class=doc-md-description> <p>childs of Element like Boiler, HeatPump, Bus,... modeling Elements</p> </div> </td> <td> <code>()</code> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.FlowSystem.create_model class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">create_model</span> <a href=#flixopt.commons.FlowSystem.create_model class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>create_model</span><span class=p>(</span><span class=n>normalize_weights</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>FlowSystemModel</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create a linopy model from the FlowSystem.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>normalize_weights</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>Whether to automatically normalize the weights (periods and scenarios) to sum up to 1 when solving.</p> </div> </td> <td> <code>True</code> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.FlowSystem.plot_network class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">plot_network</span> <a href=#flixopt.commons.FlowSystem.plot_network class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>plot_network</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>|</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span> <span class=o>=</span> <span class=s1>&#39;flow_system.html&#39;</span><span class=p>,</span> <span class=n>controls</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>|</span> <span class=nb>list</span><span class=p>[</span><span class=n>Literal</span><span class=p>[</span><span class=s1>&#39;nodes&#39;</span><span class=p>,</span> <span class=s1>&#39;edges&#39;</span><span class=p>,</span> <span class=s1>&#39;layout&#39;</span><span class=p>,</span> <span class=s1>&#39;interaction&#39;</span><span class=p>,</span> <span class=s1>&#39;manipulation&#39;</span><span class=p>,</span> <span class=s1>&#39;physics&#39;</span><span class=p>,</span> <span class=s1>&#39;selection&#39;</span><span class=p>,</span> <span class=s1>&#39;renderer&#39;</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span> <span class=n>show</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>pyvis</span><span class=o>.</span><span class=n>network</span><span class=o>.</span><span class=n>Network</span> <span class=o>|</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Visualizes the network structure of a FlowSystem using PyVis, saving it as an interactive HTML file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to save the HTML visualization. - <code>False</code>: Visualization is created but not saved. - <code>str</code> or <code>Path</code>: Specifies file path (default: 'flow_system.html').</p> </div> </td> <td> <code>&#39;flow_system.html&#39;</code> </td> </tr> <tr class=doc-section-item> <td> <code>controls</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-external" title="<code>typing.Literal</code>" href=https://docs.python.org/3/library/typing.html#typing.Literal>Literal</a>[&#39;nodes&#39;, &#39;edges&#39;, &#39;layout&#39;, &#39;interaction&#39;, &#39;manipulation&#39;, &#39;physics&#39;, &#39;selection&#39;, &#39;renderer&#39;]]</code> </td> <td> <div class=doc-md-description> <p>UI controls to add to the visualization. - <code>True</code>: Enables all available controls. - <code>List</code>: Specify controls, e.g., ['nodes', 'layout']. - Options: 'nodes', 'edges', 'layout', 'interaction', 'manipulation', 'physics', 'selection', 'renderer'.</p> </div> </td> <td> <code>True</code> </td> </tr> <tr class=doc-section-item> <td> <code>show</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a> | None</code> </td> <td> <div class=doc-md-description> <p>Whether to open the visualization in the web browser.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p>Returns: - 'pyvis.network.Network' | None: The <code>Network</code> instance representing the visualization, or <code>None</code> if <code>pyvis</code> is not installed.</p> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><span class=filename>Python Console Session</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>plot_network</span><span class=p>()</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>plot_network</span><span class=p>(</span><span class=n>show</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>plot_network</span><span class=p>(</span><span class=n>path</span><span class=o>=</span><span class=s1>&#39;output/custom_network.html&#39;</span><span class=p>,</span> <span class=n>controls</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;nodes&#39;</span><span class=p>,</span> <span class=s1>&#39;layout&#39;</span><span class=p>])</span>
</span></code></pre></div> <p>Notes: - This function requires <code>pyvis</code>. If not installed, the function prints a warning and returns <code>None</code>. - Nodes are styled based on type (e.g., circles for buses, boxes for components) and annotated with node information.</p> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.FlowSystem.start_network_app class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">start_network_app</span> <a href=#flixopt.commons.FlowSystem.start_network_app class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>start_network_app</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Visualizes the network structure of a FlowSystem using Dash, Cytoscape, and networkx. Requires optional dependencies: dash, dash-cytoscape, dash-daq, networkx, flask, werkzeug.</p> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.FlowSystem.stop_network_app class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">stop_network_app</span> <a href=#flixopt.commons.FlowSystem.stop_network_app class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>stop_network_app</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Stop the network visualization server.</p> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.FlowSystem.sel class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">sel</span> <a href=#flixopt.commons.FlowSystem.sel class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>sel</span><span class=p>(</span><span class=n>time</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=nb>slice</span> <span class=o>|</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>|</span> <span class=n>Timestamp</span> <span class=o>|</span> <span class=n>DatetimeIndex</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>period</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=nb>slice</span> <span class=o>|</span> <span class=nb>list</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>|</span> <span class=n>Index</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>scenario</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=nb>slice</span> <span class=o>|</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>|</span> <span class=n>Index</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>FlowSystem</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Select a subset of the flowsystem by the time coordinate.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>time</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#slice>slice</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>] | <a class="autorefs autorefs-external" title="<code>pandas.Timestamp</code>" href=https://pandas.pydata.org/docs/reference/api/pandas.Timestamp.html#pandas.Timestamp>Timestamp</a> | <a class="autorefs autorefs-external" title="<code>pandas.DatetimeIndex</code>" href=https://pandas.pydata.org/docs/reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex>DatetimeIndex</a> | None</code> </td> <td> <div class=doc-md-description> <p>Time selection (e.g., slice('2023-01-01', '2023-12-31'), '2023-06-15', or list of times)</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#slice>slice</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a>] | <a class="autorefs autorefs-external" title="<code>pandas.Index</code>" href=https://pandas.pydata.org/docs/reference/api/pandas.Index.html#pandas.Index>Index</a> | None</code> </td> <td> <div class=doc-md-description> <p>Period selection (e.g., slice(2023, 2024), or list of periods)</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>scenario</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#slice>slice</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>] | <a class="autorefs autorefs-external" title="<code>pandas.Index</code>" href=https://pandas.pydata.org/docs/reference/api/pandas.Index.html#pandas.Index>Index</a> | None</code> </td> <td> <div class=doc-md-description> <p>Scenario selection (e.g., slice('scenario1', 'scenario2'), or list of scenarios)</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>FlowSystem</code></td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=../flow_system/#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>New FlowSystem with selected data</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.FlowSystem.isel class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">isel</span> <a href=#flixopt.commons.FlowSystem.isel class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>isel</span><span class=p>(</span><span class=n>time</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=nb>slice</span> <span class=o>|</span> <span class=nb>list</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>period</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=nb>slice</span> <span class=o>|</span> <span class=nb>list</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>scenario</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=nb>slice</span> <span class=o>|</span> <span class=nb>list</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>FlowSystem</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Select a subset of the flowsystem by integer indices.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>time</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#slice>slice</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a>] | None</code> </td> <td> <div class=doc-md-description> <p>Time selection by integer index (e.g., slice(0, 100), 50, or [0, 5, 10])</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#slice>slice</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a>] | None</code> </td> <td> <div class=doc-md-description> <p>Period selection by integer index (e.g., slice(0, 100), 50, or [0, 5, 10])</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>scenario</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#slice>slice</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a>] | None</code> </td> <td> <div class=doc-md-description> <p>Scenario selection by integer index (e.g., slice(0, 3), 50, or [0, 5, 10])</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>FlowSystem</code></td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=../flow_system/#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>New FlowSystem with selected data</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.FlowSystem.resample class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">resample</span> <a href=#flixopt.commons.FlowSystem.resample class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>resample</span><span class=p>(</span><span class=n>time</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>method</span><span class=p>:</span> <span class=n>Literal</span><span class=p>[</span><span class=s1>&#39;mean&#39;</span><span class=p>,</span> <span class=s1>&#39;sum&#39;</span><span class=p>,</span> <span class=s1>&#39;max&#39;</span><span class=p>,</span> <span class=s1>&#39;min&#39;</span><span class=p>,</span> <span class=s1>&#39;first&#39;</span><span class=p>,</span> <span class=s1>&#39;last&#39;</span><span class=p>,</span> <span class=s1>&#39;std&#39;</span><span class=p>,</span> <span class=s1>&#39;var&#39;</span><span class=p>,</span> <span class=s1>&#39;median&#39;</span><span class=p>,</span> <span class=s1>&#39;count&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;mean&#39;</span><span class=p>,</span> <span class=n>hours_of_last_timestep</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=nb>float</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>hours_of_previous_timesteps</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=nb>float</span> <span class=o>|</span> <span class=n>ndarray</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>FlowSystem</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create a resampled FlowSystem by resampling data along the time dimension (like xr.Dataset.resample()). Only resamples data variables that have a time dimension.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>time</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>Resampling frequency (e.g., '3h', '2D', '1M')</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>method</code> </td> <td> <code><a class="autorefs autorefs-external" title="<code>typing.Literal</code>" href=https://docs.python.org/3/library/typing.html#typing.Literal>Literal</a>[&#39;mean&#39;, &#39;sum&#39;, &#39;max&#39;, &#39;min&#39;, &#39;first&#39;, &#39;last&#39;, &#39;std&#39;, &#39;var&#39;, &#39;median&#39;, &#39;count&#39;]</code> </td> <td> <div class=doc-md-description> <p>Resampling method. Recommended: 'mean', 'first', 'last', 'max', 'min'</p> </div> </td> <td> <code>&#39;mean&#39;</code> </td> </tr> <tr class=doc-section-item> <td> <code>hours_of_last_timestep</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#float>float</a> | None</code> </td> <td> <div class=doc-md-description> <p>New duration of the last time step. Defaults to the last time interval of the new timesteps</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>hours_of_previous_timesteps</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#float>float</a> | <a class="autorefs autorefs-external" title="<code>numpy.ndarray</code>" href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray>ndarray</a> | None</code> </td> <td> <div class=doc-md-description> <p>New duration of the previous timestep. Defaults to the first time increment of the new timesteps</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>**kwargs</code> </td> <td> <code><a class="autorefs autorefs-external" title="<code>typing.Any</code>" href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a></code> </td> <td> <div class=doc-md-description> <p>Additional arguments passed to xarray.resample()</p> </div> </td> <td> <code>{}</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>FlowSystem</code></td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=../flow_system/#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>New resampled FlowSystem</p> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=flixopt.commons.InvestParameters class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">InvestParameters</span> <a href=#flixopt.commons.InvestParameters class=headerlink title="Anchor link to this section">&para;</a></h3> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>InvestParameters</span><span class=p>(</span><span class=n>fixed_size</span><span class=p>:</span> <span class=n>PeriodicDataUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>minimum_size</span><span class=p>:</span> <span class=n>PeriodicDataUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>maximum_size</span><span class=p>:</span> <span class=n>PeriodicDataUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>mandatory</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>effects_of_investment</span><span class=p>:</span> <span class=n>PeriodicEffectsUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>effects_of_investment_per_size</span><span class=p>:</span> <span class=n>PeriodicEffectsUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>effects_of_retirement</span><span class=p>:</span> <span class=n>PeriodicEffectsUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>piecewise_effects_of_investment</span><span class=p>:</span> <span class=n>PiecewiseEffects</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>linked_periods</span><span class=p>:</span> <span class=n>PeriodicDataUser</span> <span class=o>|</span> <span class=nb>tuple</span><span class=p>[</span><span class=nb>int</span><span class=p>,</span> <span class=nb>int</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code></p> <p>Define investment decision parameters with flexible sizing and effect modeling.</p> <p>This class models investment decisions in optimization problems, supporting both binary (invest/don't invest) and continuous sizing choices with comprehensive cost structures. It enables realistic representation of investment economics including fixed costs, scale effects, and divestment penalties.</p> <details class=investment-decision-types open> <summary>Investment Decision Types</summary> <p><strong>Binary Investments</strong>: Fixed size investments creating yes/no decisions (e.g., install a specific generator, build a particular facility)</p> <p><strong>Continuous Sizing</strong>: Variable size investments with minimum/maximum bounds (e.g., battery capacity from 10-1000 kWh, pipeline diameter optimization)</p> </details> <details class=cost-modeling-approaches open> <summary>Cost Modeling Approaches</summary> <ul> <li><strong>Fixed Effects</strong>: One-time costs independent of size (permits, connections)</li> <li><strong>Specific Effects</strong>: Linear costs proportional to size (€/kW, €/m²)</li> <li><strong>Piecewise Effects</strong>: Non-linear relationships (bulk discounts, learning curves)</li> <li><strong>Divestment Effects</strong>: Penalties for not investing (demolition, opportunity costs)</li> </ul> </details> <details class=mathematical-formulation open> <summary>Mathematical Formulation</summary> <p>See the complete mathematical model in the documentation: <a href=../../user-guide/mathematical-notation/features/InvestParameters/ >InvestParameters</a></p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>fixed_size</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">PeriodicDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.PeriodicDataUser</code>)' href=../core/#flixopt.core.PeriodicDataUser>PeriodicDataUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Creates binary decision at this exact size. None allows continuous sizing.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>minimum_size</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">PeriodicDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.PeriodicDataUser</code>)' href=../core/#flixopt.core.PeriodicDataUser>PeriodicDataUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Lower bound for continuous sizing. Default: CONFIG.Modeling.epsilon. Ignored if fixed_size is specified.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>maximum_size</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">PeriodicDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.PeriodicDataUser</code>)' href=../core/#flixopt.core.PeriodicDataUser>PeriodicDataUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Upper bound for continuous sizing. Default: CONFIG.Modeling.big. Ignored if fixed_size is specified.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>mandatory</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>Controls whether investment is required. When True, forces investment to occur (useful for mandatory upgrades or replacement decisions). When False (default), optimization can choose not to invest. With multiple periods, at least one period has to have an investment.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>effects_of_investment</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">PeriodicEffectsUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.effects.PeriodicEffectsUser</code>)' href=../effects/#flixopt.effects.PeriodicEffectsUser>PeriodicEffectsUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Fixed costs if investment is made, regardless of size. Dict: {'effect_name': value} (e.g., {'cost': 10000}).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>effects_of_investment_per_size</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">PeriodicEffectsUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.effects.PeriodicEffectsUser</code>)' href=../effects/#flixopt.effects.PeriodicEffectsUser>PeriodicEffectsUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Variable costs proportional to size (per-unit costs). Dict: {'effect_name': value/unit} (e.g., {'cost': 1200}).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>piecewise_effects_of_investment</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">PiecewiseEffects</span> (<code>flixopt.interface.PiecewiseEffects</code>)' href=../interface/#flixopt.interface.PiecewiseEffects>PiecewiseEffects</a> | None</code> </td> <td> <div class=doc-md-description> <p>Non-linear costs using PiecewiseEffects. Combinable with effects_of_investment and effects_of_investment_per_size.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>effects_of_retirement</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">PeriodicEffectsUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.effects.PeriodicEffectsUser</code>)' href=../effects/#flixopt.effects.PeriodicEffectsUser>PeriodicEffectsUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Costs incurred if NOT investing (demolition, penalties). Dict: {'effect_name': value}.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>linked_periods</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">PeriodicDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.PeriodicDataUser</code>)' href=../core/#flixopt.core.PeriodicDataUser>PeriodicDataUser</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#tuple>tuple</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a>, <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a>] | None</code> </td> <td> <div class=doc-md-description> <p>Describes which periods are linked. 1 means linked, 0 means size=0. None means no linked periods. For convenience, pass a tuple containing the first and last period (2025, 2039), linking them and those in between</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <details class=deprecated-args open> <summary>Deprecated Args</summary> <p>fix_effects: <strong>Deprecated</strong>. Use <code>effects_of_investment</code> instead. Will be removed in version 4.0. specific_effects: <strong>Deprecated</strong>. Use <code>effects_of_investment_per_size</code> instead. Will be removed in version 4.0. divest_effects: <strong>Deprecated</strong>. Use <code>effects_of_retirement</code> instead. Will be removed in version 4.0. piecewise_effects: <strong>Deprecated</strong>. Use <code>piecewise_effects_of_investment</code> instead. Will be removed in version 4.0. optional: DEPRECATED. Use <code>mandatory</code> instead. Opposite of <code>mandatory</code>. Will be removed in version 4.0.</p> </details> <details class=cost-annualization-requirements open> <summary>Cost Annualization Requirements</summary> <p>All cost values must be properly weighted to match the optimization model's time horizon. For long-term investments, the cost values should be annualized to the corresponding operation time (annuity).</p> <ul> <li>Use equivalent annual cost (capital cost / equipment lifetime)</li> <li>Apply appropriate discount rates for present value calculations</li> <li>Account for inflation, escalation, and financing costs</li> </ul> <p>Example: €1M equipment with 20-year life → €50k/year fixed cost</p> </details> <p><span class=doc-section-title>Examples:</span></p> <p>Simple binary investment (solar panels):</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>solar_investment</span> <span class=o>=</span> <span class=n>InvestParameters</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>fixed_size</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span>  <span class=c1># 100 kW system (binary decision)</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    <span class=n>mandatory</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>  <span class=c1># Investment is optional</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    <span class=n>effects_of_investment</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>        <span class=s1>&#39;cost&#39;</span><span class=p>:</span> <span class=mi>25000</span><span class=p>,</span>  <span class=c1># Installation and permitting costs</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>        <span class=s1>&#39;CO2&#39;</span><span class=p>:</span> <span class=o>-</span><span class=mi>50000</span><span class=p>,</span>  <span class=c1># Avoided emissions over lifetime</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>    <span class=p>},</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>    <span class=n>effects_of_investment_per_size</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>        <span class=s1>&#39;cost&#39;</span><span class=p>:</span> <span class=mi>1200</span><span class=p>,</span>  <span class=c1># €1200/kW for panels (annualized)</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>        <span class=s1>&#39;CO2&#39;</span><span class=p>:</span> <span class=o>-</span><span class=mi>800</span><span class=p>,</span>  <span class=c1># kg CO2 avoided per kW annually</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a>    <span class=p>},</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=p>)</span>
</span></code></pre></div> <p>Flexible sizing with economies of scale:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=n>battery_investment</span> <span class=o>=</span> <span class=n>InvestParameters</span><span class=p>(</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>    <span class=n>minimum_size</span><span class=o>=</span><span class=mi>10</span><span class=p>,</span>  <span class=c1># Minimum viable system size (kWh)</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>    <span class=n>maximum_size</span><span class=o>=</span><span class=mi>1000</span><span class=p>,</span>  <span class=c1># Maximum installable capacity</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>    <span class=n>mandatory</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>  <span class=c1># Investment is optional</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>    <span class=n>effects_of_investment</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>        <span class=s1>&#39;cost&#39;</span><span class=p>:</span> <span class=mi>5000</span><span class=p>,</span>  <span class=c1># Grid connection and control system</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a>        <span class=s1>&#39;installation_time&#39;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>  <span class=c1># Days for fixed components</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>    <span class=p>},</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a>    <span class=n>piecewise_effects_of_investment</span><span class=o>=</span><span class=n>PiecewiseEffects</span><span class=p>(</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a>        <span class=n>piecewise_origin</span><span class=o>=</span><span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a>            <span class=p>[</span>
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>100</span><span class=p>),</span>  <span class=c1># Small systems</span>
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>100</span><span class=p>,</span> <span class=mi>500</span><span class=p>),</span>  <span class=c1># Medium systems</span>
</span><span id=__span-1-14><a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>500</span><span class=p>,</span> <span class=mi>1000</span><span class=p>),</span>  <span class=c1># Large systems</span>
</span><span id=__span-1-15><a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a>            <span class=p>]</span>
</span><span id=__span-1-16><a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a>        <span class=p>),</span>
</span><span id=__span-1-17><a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a>        <span class=n>piecewise_shares</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-1-18><a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a>            <span class=s1>&#39;cost&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-1-19><a id=__codelineno-1-19 name=__codelineno-1-19 href=#__codelineno-1-19></a>                <span class=p>[</span>
</span><span id=__span-1-20><a id=__codelineno-1-20 name=__codelineno-1-20 href=#__codelineno-1-20></a>                    <span class=n>Piece</span><span class=p>(</span><span class=mi>800</span><span class=p>,</span> <span class=mi>750</span><span class=p>),</span>  <span class=c1># High cost/kWh for small systems</span>
</span><span id=__span-1-21><a id=__codelineno-1-21 name=__codelineno-1-21 href=#__codelineno-1-21></a>                    <span class=n>Piece</span><span class=p>(</span><span class=mi>750</span><span class=p>,</span> <span class=mi>600</span><span class=p>),</span>  <span class=c1># Medium cost/kWh</span>
</span><span id=__span-1-22><a id=__codelineno-1-22 name=__codelineno-1-22 href=#__codelineno-1-22></a>                    <span class=n>Piece</span><span class=p>(</span><span class=mi>600</span><span class=p>,</span> <span class=mi>500</span><span class=p>),</span>  <span class=c1># Bulk discount for large systems</span>
</span><span id=__span-1-23><a id=__codelineno-1-23 name=__codelineno-1-23 href=#__codelineno-1-23></a>                <span class=p>]</span>
</span><span id=__span-1-24><a id=__codelineno-1-24 name=__codelineno-1-24 href=#__codelineno-1-24></a>            <span class=p>)</span>
</span><span id=__span-1-25><a id=__codelineno-1-25 name=__codelineno-1-25 href=#__codelineno-1-25></a>        <span class=p>},</span>
</span><span id=__span-1-26><a id=__codelineno-1-26 name=__codelineno-1-26 href=#__codelineno-1-26></a>    <span class=p>),</span>
</span><span id=__span-1-27><a id=__codelineno-1-27 name=__codelineno-1-27 href=#__codelineno-1-27></a><span class=p>)</span>
</span></code></pre></div> <p>Mandatory replacement with retirement costs:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=n>boiler_replacement</span> <span class=o>=</span> <span class=n>InvestParameters</span><span class=p>(</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>    <span class=n>minimum_size</span><span class=o>=</span><span class=mi>50</span><span class=p>,</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>    <span class=n>maximum_size</span><span class=o>=</span><span class=mi>200</span><span class=p>,</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>    <span class=n>mandatory</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>  <span class=c1># Can choose not to replace</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>    <span class=n>effects_of_investment</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>        <span class=s1>&#39;cost&#39;</span><span class=p>:</span> <span class=mi>15000</span><span class=p>,</span>  <span class=c1># Installation costs</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a>        <span class=s1>&#39;disruption&#39;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span>  <span class=c1># Days of downtime</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a>    <span class=p>},</span>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>    <span class=n>effects_of_investment_per_size</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a>        <span class=s1>&#39;cost&#39;</span><span class=p>:</span> <span class=mi>400</span><span class=p>,</span>  <span class=c1># €400/kW capacity</span>
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a>        <span class=s1>&#39;maintenance&#39;</span><span class=p>:</span> <span class=mi>25</span><span class=p>,</span>  <span class=c1># Annual maintenance per kW</span>
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a>    <span class=p>},</span>
</span><span id=__span-2-13><a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a>    <span class=n>effects_of_retirement</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-2-14><a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a>        <span class=s1>&#39;cost&#39;</span><span class=p>:</span> <span class=mi>8000</span><span class=p>,</span>  <span class=c1># Demolition if not replaced</span>
</span><span id=__span-2-15><a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a>        <span class=s1>&#39;environmental&#39;</span><span class=p>:</span> <span class=mi>100</span><span class=p>,</span>  <span class=c1># Disposal fees</span>
</span><span id=__span-2-16><a id=__codelineno-2-16 name=__codelineno-2-16 href=#__codelineno-2-16></a>    <span class=p>},</span>
</span><span id=__span-2-17><a id=__codelineno-2-17 name=__codelineno-2-17 href=#__codelineno-2-17></a><span class=p>)</span>
</span></code></pre></div> <p>Multi-technology comparison:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=c1># Gas turbine option</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=n>gas_turbine</span> <span class=o>=</span> <span class=n>InvestParameters</span><span class=p>(</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>    <span class=n>fixed_size</span><span class=o>=</span><span class=mi>50</span><span class=p>,</span>  <span class=c1># MW</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>    <span class=n>effects_of_investment</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;cost&#39;</span><span class=p>:</span> <span class=mi>2500000</span><span class=p>,</span> <span class=s1>&#39;CO2&#39;</span><span class=p>:</span> <span class=mi>1250000</span><span class=p>},</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>    <span class=n>effects_of_investment_per_size</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;fuel_cost&#39;</span><span class=p>:</span> <span class=mi>45</span><span class=p>,</span> <span class=s1>&#39;maintenance&#39;</span><span class=p>:</span> <span class=mi>12</span><span class=p>},</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class=p>)</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=c1># Wind farm option</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=n>wind_farm</span> <span class=o>=</span> <span class=n>InvestParameters</span><span class=p>(</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a>    <span class=n>minimum_size</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a>    <span class=n>maximum_size</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span>
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a>    <span class=n>effects_of_investment</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;cost&#39;</span><span class=p>:</span> <span class=mi>1000000</span><span class=p>,</span> <span class=s1>&#39;CO2&#39;</span><span class=p>:</span> <span class=o>-</span><span class=mi>5000000</span><span class=p>},</span>
</span><span id=__span-3-13><a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a>    <span class=n>effects_of_investment_per_size</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;cost&#39;</span><span class=p>:</span> <span class=mi>1800000</span><span class=p>,</span> <span class=s1>&#39;land_use&#39;</span><span class=p>:</span> <span class=mf>0.5</span><span class=p>},</span>
</span><span id=__span-3-14><a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a><span class=p>)</span>
</span></code></pre></div> <p>Technology learning curve:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=n>hydrogen_electrolyzer</span> <span class=o>=</span> <span class=n>InvestParameters</span><span class=p>(</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>    <span class=n>minimum_size</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>    <span class=n>maximum_size</span><span class=o>=</span><span class=mi>50</span><span class=p>,</span>  <span class=c1># MW</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>    <span class=n>piecewise_effects_of_investment</span><span class=o>=</span><span class=n>PiecewiseEffects</span><span class=p>(</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>        <span class=n>piecewise_origin</span><span class=o>=</span><span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>            <span class=p>[</span>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>5</span><span class=p>),</span>  <span class=c1># Small scale: early adoption</span>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>20</span><span class=p>),</span>  <span class=c1># Medium scale: cost reduction</span>
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>20</span><span class=p>,</span> <span class=mi>50</span><span class=p>),</span>  <span class=c1># Large scale: mature technology</span>
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a>            <span class=p>]</span>
</span><span id=__span-4-11><a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a>        <span class=p>),</span>
</span><span id=__span-4-12><a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a>        <span class=n>piecewise_shares</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-4-13><a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a>            <span class=s1>&#39;capex&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-4-14><a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a>                <span class=p>[</span>
</span><span id=__span-4-15><a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a>                    <span class=n>Piece</span><span class=p>(</span><span class=mi>2000</span><span class=p>,</span> <span class=mi>1800</span><span class=p>),</span>  <span class=c1># Learning reduces costs</span>
</span><span id=__span-4-16><a id=__codelineno-4-16 name=__codelineno-4-16 href=#__codelineno-4-16></a>                    <span class=n>Piece</span><span class=p>(</span><span class=mi>1800</span><span class=p>,</span> <span class=mi>1400</span><span class=p>),</span>  <span class=c1># Continued cost reduction</span>
</span><span id=__span-4-17><a id=__codelineno-4-17 name=__codelineno-4-17 href=#__codelineno-4-17></a>                    <span class=n>Piece</span><span class=p>(</span><span class=mi>1400</span><span class=p>,</span> <span class=mi>1200</span><span class=p>),</span>  <span class=c1># Technology maturity</span>
</span><span id=__span-4-18><a id=__codelineno-4-18 name=__codelineno-4-18 href=#__codelineno-4-18></a>                <span class=p>]</span>
</span><span id=__span-4-19><a id=__codelineno-4-19 name=__codelineno-4-19 href=#__codelineno-4-19></a>            <span class=p>),</span>
</span><span id=__span-4-20><a id=__codelineno-4-20 name=__codelineno-4-20 href=#__codelineno-4-20></a>            <span class=s1>&#39;efficiency&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-4-21><a id=__codelineno-4-21 name=__codelineno-4-21 href=#__codelineno-4-21></a>                <span class=p>[</span>
</span><span id=__span-4-22><a id=__codelineno-4-22 name=__codelineno-4-22 href=#__codelineno-4-22></a>                    <span class=n>Piece</span><span class=p>(</span><span class=mi>65</span><span class=p>,</span> <span class=mi>68</span><span class=p>),</span>  <span class=c1># Improving efficiency</span>
</span><span id=__span-4-23><a id=__codelineno-4-23 name=__codelineno-4-23 href=#__codelineno-4-23></a>                    <span class=n>Piece</span><span class=p>(</span><span class=mi>68</span><span class=p>,</span> <span class=mi>72</span><span class=p>),</span>  <span class=c1># with scale and experience</span>
</span><span id=__span-4-24><a id=__codelineno-4-24 name=__codelineno-4-24 href=#__codelineno-4-24></a>                    <span class=n>Piece</span><span class=p>(</span><span class=mi>72</span><span class=p>,</span> <span class=mi>75</span><span class=p>),</span>  <span class=c1># Best efficiency at scale</span>
</span><span id=__span-4-25><a id=__codelineno-4-25 name=__codelineno-4-25 href=#__codelineno-4-25></a>                <span class=p>]</span>
</span><span id=__span-4-26><a id=__codelineno-4-26 name=__codelineno-4-26 href=#__codelineno-4-26></a>            <span class=p>),</span>
</span><span id=__span-4-27><a id=__codelineno-4-27 name=__codelineno-4-27 href=#__codelineno-4-27></a>        <span class=p>},</span>
</span><span id=__span-4-28><a id=__codelineno-4-28 name=__codelineno-4-28 href=#__codelineno-4-28></a>    <span class=p>),</span>
</span><span id=__span-4-29><a id=__codelineno-4-29 name=__codelineno-4-29 href=#__codelineno-4-29></a><span class=p>)</span>
</span></code></pre></div> <details class=common-use-cases open> <summary>Common Use Cases</summary> <ul> <li>Power generation: Plant sizing, technology selection, retrofit decisions</li> <li>Industrial equipment: Capacity expansion, efficiency upgrades, replacements</li> <li>Infrastructure: Network expansion, facility construction, system upgrades</li> <li>Energy storage: Battery sizing, pumped hydro, compressed air systems</li> <li>Transportation: Fleet expansion, charging infrastructure, modal shifts</li> <li>Buildings: HVAC systems, insulation upgrades, renewable integration</li> </ul> </details> <div class="doc doc-children"> <h4 id=flixopt.commons.InvestParameters-attributes>Attributes<a href=#flixopt.commons.InvestParameters-attributes class=headerlink title="Anchor link to this section">&para;</a></h4> <div class="doc doc-object doc-attribute"> <h5 id=flixopt.commons.InvestParameters.optional class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">optional</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> <small class="doc doc-label doc-label-writable"><code>writable</code></small> </span> <a href=#flixopt.commons.InvestParameters.optional class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>optional</span><span class=p>:</span> <span class=nb>bool</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>DEPRECATED: Use 'mandatory' property instead. Returns the opposite of 'mandatory'.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 id=flixopt.commons.InvestParameters.fix_effects class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">fix_effects</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#flixopt.commons.InvestParameters.fix_effects class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>fix_effects</span><span class=p>:</span> <span class=n>PeriodicEffectsUser</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Deprecated property. Use effects_of_investment instead.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 id=flixopt.commons.InvestParameters.specific_effects class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">specific_effects</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#flixopt.commons.InvestParameters.specific_effects class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>specific_effects</span><span class=p>:</span> <span class=n>PeriodicEffectsUser</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Deprecated property. Use effects_of_investment_per_size instead.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 id=flixopt.commons.InvestParameters.divest_effects class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">divest_effects</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#flixopt.commons.InvestParameters.divest_effects class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>divest_effects</span><span class=p>:</span> <span class=n>PeriodicEffectsUser</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Deprecated property. Use effects_of_retirement instead.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 id=flixopt.commons.InvestParameters.piecewise_effects class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">piecewise_effects</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#flixopt.commons.InvestParameters.piecewise_effects class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>piecewise_effects</span><span class=p>:</span> <span class=n>PiecewiseEffects</span> <span class=o>|</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Deprecated property. Use piecewise_effects_of_investment instead.</p> </div> </div> <h4 id=flixopt.commons.InvestParameters-functions>Functions<a href=#flixopt.commons.InvestParameters-functions class=headerlink title="Anchor link to this section">&para;</a></h4> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.InvestParameters.to_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_dataset</span> <a href=#flixopt.commons.InvestParameters.to_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_dataset</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>Dataset</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Convert the object to an xarray Dataset representation. All DataArrays become dataset variables, everything else goes to attrs.</p> <p>Its recommended to only call this method on Interfaces with all numeric data stored as xr.DataArrays. Interfaces inside a FlowSystem are automatically converted this form after connecting and transforming the FlowSystem.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>xr.Dataset: Dataset containing all DataArrays with basic objects only in attributes</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails due to naming conflicts or invalid data</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.InvestParameters.to_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_netcdf</span> <a href=#flixopt.commons.InvestParameters.to_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>,</span> <span class=n>compression</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to save the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>compression</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Compression level (0-9)</p> </div> </td> <td> <code>0</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.InvestParameters.from_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_dataset</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.InvestParameters.from_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_dataset</span><span class=p>(</span><span class=n>ds</span><span class=p>:</span> <span class=n>Dataset</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create an instance from an xarray Dataset.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ds</code> </td> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>Dataset containing the object data</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If dataset format is invalid or class mismatch</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.InvestParameters.from_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_netcdf</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.InvestParameters.from_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Load an instance from a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be read</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If file format is invalid</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.InvestParameters.get_structure class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">get_structure</span> <a href=#flixopt.commons.InvestParameters.get_structure class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_structure</span><span class=p>(</span><span class=n>clean</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>stats</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Get object structure as a dictionary.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>clean</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, remove None and empty dicts and lists.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>stats</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, replace DataArray references with statistics</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a></code> </td> <td> <div class=doc-md-description> <p>Dictionary representation of the object structure</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.InvestParameters.to_json class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_json</span> <a href=#flixopt.commons.InvestParameters.to_json class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_json</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a JSON file. This is meant for documentation and comparison, not for reloading.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>The path to the JSON file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.InvestParameters.copy class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">copy</span> <a href=#flixopt.commons.InvestParameters.copy class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>copy</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create a copy of the Interface object.</p> <p>Uses the existing serialization infrastructure to ensure proper copying of all DataArrays and nested objects.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>A new instance of the same class with copied data.</p> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=flixopt.commons.OnOffParameters class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">OnOffParameters</span> <a href=#flixopt.commons.OnOffParameters class=headerlink title="Anchor link to this section">&para;</a></h3> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>OnOffParameters</span><span class=p>(</span><span class=n>effects_per_switch_on</span><span class=p>:</span> <span class=n>TemporalEffectsUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>effects_per_running_hour</span><span class=p>:</span> <span class=n>TemporalEffectsUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>on_hours_total_min</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>on_hours_total_max</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>consecutive_on_hours_min</span><span class=p>:</span> <span class=n>TemporalDataUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>consecutive_on_hours_max</span><span class=p>:</span> <span class=n>TemporalDataUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>consecutive_off_hours_min</span><span class=p>:</span> <span class=n>TemporalDataUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>consecutive_off_hours_max</span><span class=p>:</span> <span class=n>TemporalDataUser</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>switch_on_total_max</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>force_switch_on</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code></p> <p>Define operational constraints and effects for binary on/off equipment behavior.</p> <p>This class models equipment that operates in discrete states (on/off) rather than continuous operation, capturing realistic operational constraints and associated costs. It handles complex equipment behavior including startup costs, minimum run times, cycling limitations, and maintenance scheduling requirements.</p> <details class=key-modeling-capabilities open> <summary>Key Modeling Capabilities</summary> <p><strong>Switching Costs</strong>: One-time costs for starting equipment (fuel, wear, labor) <strong>Runtime Constraints</strong>: Minimum and maximum continuous operation periods <strong>Cycling Limits</strong>: Maximum number of starts to prevent excessive wear <strong>Operating Hours</strong>: Total runtime limits and requirements over time horizon</p> </details> <details class=typical-equipment-applications open> <summary>Typical Equipment Applications</summary> <ul> <li><strong>Power Plants</strong>: Combined cycle units, steam turbines with startup costs</li> <li><strong>Industrial Processes</strong>: Batch reactors, furnaces with thermal cycling</li> <li><strong>HVAC Systems</strong>: Chillers, boilers with minimum run times</li> <li><strong>Backup Equipment</strong>: Emergency generators, standby systems</li> <li><strong>Process Equipment</strong>: Compressors, pumps with operational constraints</li> </ul> </details> <details class=mathematical-formulation open> <summary>Mathematical Formulation</summary> <p>See the complete mathematical model in the documentation: <a href=../../user-guide/mathematical-notation/features/OnOffParameters/ >OnOffParameters</a></p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>effects_per_switch_on</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">TemporalEffectsUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.effects.TemporalEffectsUser</code>)' href=../effects/#flixopt.effects.TemporalEffectsUser>TemporalEffectsUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Costs or impacts incurred for each transition from off state (var_on=0) to on state (var_on=1). Represents startup costs, wear and tear, or other switching impacts. Dictionary mapping effect names to values (e.g., {'cost': 500, 'maintenance_hours': 2}).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>effects_per_running_hour</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">TemporalEffectsUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.effects.TemporalEffectsUser</code>)' href=../effects/#flixopt.effects.TemporalEffectsUser>TemporalEffectsUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Ongoing costs or impacts while equipment operates in the on state. Includes fuel costs, labor, consumables, or emissions. Dictionary mapping effect names to hourly values (e.g., {'fuel_cost': 45}).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>on_hours_total_min</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a> | None</code> </td> <td> <div class=doc-md-description> <p>Minimum total operating hours across the entire time horizon. Ensures equipment meets minimum utilization requirements or contractual obligations (e.g., power purchase agreements, maintenance schedules).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>on_hours_total_max</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a> | None</code> </td> <td> <div class=doc-md-description> <p>Maximum total operating hours across the entire time horizon. Limits equipment usage due to maintenance schedules, fuel availability, environmental permits, or equipment lifetime constraints.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>consecutive_on_hours_min</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">TemporalDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.TemporalDataUser</code>)' href=../core/#flixopt.core.TemporalDataUser>TemporalDataUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Minimum continuous operating duration once started. Models minimum run times due to thermal constraints, process stability, or efficiency considerations. Can be time-varying to reflect different constraints across the planning horizon.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>consecutive_on_hours_max</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">TemporalDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.TemporalDataUser</code>)' href=../core/#flixopt.core.TemporalDataUser>TemporalDataUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Maximum continuous operating duration in one campaign. Models mandatory maintenance intervals, process batch sizes, or equipment thermal limits requiring periodic shutdowns.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>consecutive_off_hours_min</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">TemporalDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.TemporalDataUser</code>)' href=../core/#flixopt.core.TemporalDataUser>TemporalDataUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Minimum continuous shutdown duration between operations. Models cooling periods, maintenance requirements, or process constraints that prevent immediate restart after shutdown.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>consecutive_off_hours_max</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">TemporalDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.TemporalDataUser</code>)' href=../core/#flixopt.core.TemporalDataUser>TemporalDataUser</a> | None</code> </td> <td> <div class=doc-md-description> <p>Maximum continuous shutdown duration before mandatory restart. Models equipment preservation, process stability, or contractual requirements for minimum activity levels.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>switch_on_total_max</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a> | None</code> </td> <td> <div class=doc-md-description> <p>Maximum number of startup operations across the time horizon. Limits equipment cycling to reduce wear, maintenance costs, or comply with operational constraints (e.g., grid stability requirements).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>force_switch_on</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>When True, creates switch-on variables even without explicit switch_on_total_max constraint. Useful for tracking or reporting startup events without enforcing limits.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <details class=note open> <summary>Note</summary> <p><strong>Time Series Boundary Handling</strong>: The final time period constraints for consecutive_on_hours_min/max and consecutive_off_hours_min/max are not enforced, allowing the optimization to end with ongoing campaigns that may be shorter than the specified minimums or longer than maximums.</p> </details> <p><span class=doc-section-title>Examples:</span></p> <p>Combined cycle power plant with startup costs and minimum run time:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>power_plant_operation</span> <span class=o>=</span> <span class=n>OnOffParameters</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>effects_per_switch_on</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>        <span class=s1>&#39;startup_cost&#39;</span><span class=p>:</span> <span class=mi>25000</span><span class=p>,</span>  <span class=c1># €25,000 per startup</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>        <span class=s1>&#39;startup_fuel&#39;</span><span class=p>:</span> <span class=mi>150</span><span class=p>,</span>  <span class=c1># GJ natural gas for startup</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>        <span class=s1>&#39;startup_time&#39;</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span>  <span class=c1># Hours to reach full output</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>        <span class=s1>&#39;maintenance_impact&#39;</span><span class=p>:</span> <span class=mf>0.1</span><span class=p>,</span>  <span class=c1># Fractional life consumption</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>    <span class=p>},</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>    <span class=n>effects_per_running_hour</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>        <span class=s1>&#39;fixed_om&#39;</span><span class=p>:</span> <span class=mi>125</span><span class=p>,</span>  <span class=c1># Fixed O&amp;M costs while running</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>        <span class=s1>&#39;auxiliary_power&#39;</span><span class=p>:</span> <span class=mf>2.5</span><span class=p>,</span>  <span class=c1># MW parasitic loads</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a>    <span class=p>},</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a>    <span class=n>consecutive_on_hours_min</span><span class=o>=</span><span class=mi>8</span><span class=p>,</span>  <span class=c1># Minimum 8-hour run once started</span>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a>    <span class=n>consecutive_off_hours_min</span><span class=o>=</span><span class=mi>4</span><span class=p>,</span>  <span class=c1># Minimum 4-hour cooling period</span>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a>    <span class=n>on_hours_total_max</span><span class=o>=</span><span class=mi>6000</span><span class=p>,</span>  <span class=c1># Annual operating limit</span>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a><span class=p>)</span>
</span></code></pre></div> <p>Industrial batch process with cycling limits:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=n>batch_reactor</span> <span class=o>=</span> <span class=n>OnOffParameters</span><span class=p>(</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>    <span class=n>effects_per_switch_on</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>        <span class=s1>&#39;setup_cost&#39;</span><span class=p>:</span> <span class=mi>1500</span><span class=p>,</span>  <span class=c1># Labor and materials for startup</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>        <span class=s1>&#39;catalyst_consumption&#39;</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span>  <span class=c1># kg catalyst per batch</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>        <span class=s1>&#39;cleaning_chemicals&#39;</span><span class=p>:</span> <span class=mi>200</span><span class=p>,</span>  <span class=c1># L cleaning solution</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>    <span class=p>},</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a>    <span class=n>effects_per_running_hour</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>        <span class=s1>&#39;steam&#39;</span><span class=p>:</span> <span class=mf>2.5</span><span class=p>,</span>  <span class=c1># t/h process steam</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a>        <span class=s1>&#39;electricity&#39;</span><span class=p>:</span> <span class=mi>150</span><span class=p>,</span>  <span class=c1># kWh electrical load</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a>        <span class=s1>&#39;cooling_water&#39;</span><span class=p>:</span> <span class=mi>50</span><span class=p>,</span>  <span class=c1># m³/h cooling water</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a>    <span class=p>},</span>
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a>    <span class=n>consecutive_on_hours_min</span><span class=o>=</span><span class=mi>12</span><span class=p>,</span>  <span class=c1># Minimum batch size (12 hours)</span>
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a>    <span class=n>consecutive_on_hours_max</span><span class=o>=</span><span class=mi>24</span><span class=p>,</span>  <span class=c1># Maximum batch size (24 hours)</span>
</span><span id=__span-1-14><a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a>    <span class=n>consecutive_off_hours_min</span><span class=o>=</span><span class=mi>6</span><span class=p>,</span>  <span class=c1># Cleaning and setup time</span>
</span><span id=__span-1-15><a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a>    <span class=n>switch_on_total_max</span><span class=o>=</span><span class=mi>200</span><span class=p>,</span>  <span class=c1># Maximum 200 batches per period</span>
</span><span id=__span-1-16><a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a>    <span class=n>on_hours_total_max</span><span class=o>=</span><span class=mi>4000</span><span class=p>,</span>  <span class=c1># Maximum production time</span>
</span><span id=__span-1-17><a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a><span class=p>)</span>
</span></code></pre></div> <p>HVAC system with thermostat control and maintenance:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=n>hvac_operation</span> <span class=o>=</span> <span class=n>OnOffParameters</span><span class=p>(</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>    <span class=n>effects_per_switch_on</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>        <span class=s1>&#39;compressor_wear&#39;</span><span class=p>:</span> <span class=mf>0.5</span><span class=p>,</span>  <span class=c1># Hours of compressor life per start</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>        <span class=s1>&#39;inrush_current&#39;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>  <span class=c1># kW peak demand on startup</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>    <span class=p>},</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>    <span class=n>effects_per_running_hour</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a>        <span class=s1>&#39;electricity&#39;</span><span class=p>:</span> <span class=mi>25</span><span class=p>,</span>  <span class=c1># kW electrical consumption</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a>        <span class=s1>&#39;maintenance&#39;</span><span class=p>:</span> <span class=mf>0.12</span><span class=p>,</span>  <span class=c1># €/hour maintenance reserve</span>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>    <span class=p>},</span>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a>    <span class=n>consecutive_on_hours_min</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>  <span class=c1># Minimum 1-hour run to avoid cycling</span>
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a>    <span class=n>consecutive_off_hours_min</span><span class=o>=</span><span class=mf>0.5</span><span class=p>,</span>  <span class=c1># 30-minute minimum off time</span>
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a>    <span class=n>switch_on_total_max</span><span class=o>=</span><span class=mi>2000</span><span class=p>,</span>  <span class=c1># Limit cycling for compressor life</span>
</span><span id=__span-2-13><a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a>    <span class=n>on_hours_total_min</span><span class=o>=</span><span class=mi>2000</span><span class=p>,</span>  <span class=c1># Minimum operation for humidity control</span>
</span><span id=__span-2-14><a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a>    <span class=n>on_hours_total_max</span><span class=o>=</span><span class=mi>5000</span><span class=p>,</span>  <span class=c1># Maximum operation for energy budget</span>
</span><span id=__span-2-15><a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a><span class=p>)</span>
</span></code></pre></div> <p>Backup generator with testing and maintenance requirements:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=n>backup_generator</span> <span class=o>=</span> <span class=n>OnOffParameters</span><span class=p>(</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>    <span class=n>effects_per_switch_on</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>        <span class=s1>&#39;fuel_priming&#39;</span><span class=p>:</span> <span class=mi>50</span><span class=p>,</span>  <span class=c1># L diesel for system priming</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>        <span class=s1>&#39;wear_factor&#39;</span><span class=p>:</span> <span class=mf>1.0</span><span class=p>,</span>  <span class=c1># Start cycles impact on maintenance</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>        <span class=s1>&#39;testing_labor&#39;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>  <span class=c1># Hours technician time per test</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>    <span class=p>},</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>    <span class=n>effects_per_running_hour</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>        <span class=s1>&#39;fuel_consumption&#39;</span><span class=p>:</span> <span class=mi>180</span><span class=p>,</span>  <span class=c1># L/h diesel consumption</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a>        <span class=s1>&#39;emissions_permit&#39;</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>  <span class=c1># € emissions allowance cost</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a>        <span class=s1>&#39;noise_penalty&#39;</span><span class=p>:</span> <span class=mi>25</span><span class=p>,</span>  <span class=c1># € noise compliance cost</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a>    <span class=p>},</span>
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a>    <span class=n>consecutive_on_hours_min</span><span class=o>=</span><span class=mf>0.5</span><span class=p>,</span>  <span class=c1># Minimum test duration (30 min)</span>
</span><span id=__span-3-13><a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a>    <span class=n>consecutive_off_hours_max</span><span class=o>=</span><span class=mi>720</span><span class=p>,</span>  <span class=c1># Maximum 30 days between tests</span>
</span><span id=__span-3-14><a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a>    <span class=n>switch_on_total_max</span><span class=o>=</span><span class=mi>52</span><span class=p>,</span>  <span class=c1># Weekly testing limit</span>
</span><span id=__span-3-15><a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a>    <span class=n>on_hours_total_min</span><span class=o>=</span><span class=mi>26</span><span class=p>,</span>  <span class=c1># Minimum annual testing (0.5h × 52)</span>
</span><span id=__span-3-16><a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a>    <span class=n>on_hours_total_max</span><span class=o>=</span><span class=mi>200</span><span class=p>,</span>  <span class=c1># Maximum runtime (emergencies + tests)</span>
</span><span id=__span-3-17><a id=__codelineno-3-17 name=__codelineno-3-17 href=#__codelineno-3-17></a><span class=p>)</span>
</span></code></pre></div> <p>Peak shaving battery with cycling degradation:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=n>battery_cycling</span> <span class=o>=</span> <span class=n>OnOffParameters</span><span class=p>(</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>    <span class=n>effects_per_switch_on</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>        <span class=s1>&#39;cycle_degradation&#39;</span><span class=p>:</span> <span class=mf>0.01</span><span class=p>,</span>  <span class=c1># % capacity loss per cycle</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>        <span class=s1>&#39;inverter_startup&#39;</span><span class=p>:</span> <span class=mf>0.5</span><span class=p>,</span>  <span class=c1># kWh losses during startup</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>    <span class=p>},</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>    <span class=n>effects_per_running_hour</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a>        <span class=s1>&#39;standby_losses&#39;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>  <span class=c1># kW standby consumption</span>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a>        <span class=s1>&#39;cooling&#39;</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span>  <span class=c1># kW thermal management</span>
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a>        <span class=s1>&#39;inverter_losses&#39;</span><span class=p>:</span> <span class=mi>8</span><span class=p>,</span>  <span class=c1># kW conversion losses</span>
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a>    <span class=p>},</span>
</span><span id=__span-4-11><a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a>    <span class=n>consecutive_on_hours_min</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>  <span class=c1># Minimum discharge duration</span>
</span><span id=__span-4-12><a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a>    <span class=n>consecutive_on_hours_max</span><span class=o>=</span><span class=mi>4</span><span class=p>,</span>  <span class=c1># Maximum continuous discharge</span>
</span><span id=__span-4-13><a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a>    <span class=n>consecutive_off_hours_min</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>  <span class=c1># Minimum rest between cycles</span>
</span><span id=__span-4-14><a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a>    <span class=n>switch_on_total_max</span><span class=o>=</span><span class=mi>365</span><span class=p>,</span>  <span class=c1># Daily cycling limit</span>
</span><span id=__span-4-15><a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a>    <span class=n>force_switch_on</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>  <span class=c1># Track all cycling events</span>
</span><span id=__span-4-16><a id=__codelineno-4-16 name=__codelineno-4-16 href=#__codelineno-4-16></a><span class=p>)</span>
</span></code></pre></div> <details class=common-use-cases open> <summary>Common Use Cases</summary> <ul> <li>Power generation: Thermal plant cycling, renewable curtailment, grid services</li> <li>Industrial processes: Batch production, maintenance scheduling, equipment rotation</li> <li>Buildings: HVAC control, lighting systems, elevator operations</li> <li>Transportation: Fleet management, charging infrastructure, maintenance windows</li> <li>Storage systems: Battery cycling, pumped hydro, compressed air systems</li> <li>Emergency equipment: Backup generators, safety systems, emergency lighting</li> </ul> </details> <div class="doc doc-children"> <h4 id=flixopt.commons.OnOffParameters-attributes>Attributes<a href=#flixopt.commons.OnOffParameters-attributes class=headerlink title="Anchor link to this section">&para;</a></h4> <div class="doc doc-object doc-attribute"> <h5 id=flixopt.commons.OnOffParameters.use_off class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">use_off</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#flixopt.commons.OnOffParameters.use_off class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>use_off</span><span class=p>:</span> <span class=nb>bool</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Proxy: whether OFF variable is required</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 id=flixopt.commons.OnOffParameters.use_consecutive_on_hours class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">use_consecutive_on_hours</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#flixopt.commons.OnOffParameters.use_consecutive_on_hours class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>use_consecutive_on_hours</span><span class=p>:</span> <span class=nb>bool</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Determines whether a Variable for consecutive on hours is needed or not</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 id=flixopt.commons.OnOffParameters.use_consecutive_off_hours class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">use_consecutive_off_hours</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#flixopt.commons.OnOffParameters.use_consecutive_off_hours class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>use_consecutive_off_hours</span><span class=p>:</span> <span class=nb>bool</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Determines whether a Variable for consecutive off hours is needed or not</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 id=flixopt.commons.OnOffParameters.use_switch_on class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">use_switch_on</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#flixopt.commons.OnOffParameters.use_switch_on class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>use_switch_on</span><span class=p>:</span> <span class=nb>bool</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Determines whether a variable for switch_on is needed or not</p> </div> </div> <h4 id=flixopt.commons.OnOffParameters-functions>Functions<a href=#flixopt.commons.OnOffParameters-functions class=headerlink title="Anchor link to this section">&para;</a></h4> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.OnOffParameters.to_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_dataset</span> <a href=#flixopt.commons.OnOffParameters.to_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_dataset</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>Dataset</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Convert the object to an xarray Dataset representation. All DataArrays become dataset variables, everything else goes to attrs.</p> <p>Its recommended to only call this method on Interfaces with all numeric data stored as xr.DataArrays. Interfaces inside a FlowSystem are automatically converted this form after connecting and transforming the FlowSystem.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>xr.Dataset: Dataset containing all DataArrays with basic objects only in attributes</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails due to naming conflicts or invalid data</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.OnOffParameters.to_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_netcdf</span> <a href=#flixopt.commons.OnOffParameters.to_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>,</span> <span class=n>compression</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to save the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>compression</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Compression level (0-9)</p> </div> </td> <td> <code>0</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.OnOffParameters.from_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_dataset</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.OnOffParameters.from_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_dataset</span><span class=p>(</span><span class=n>ds</span><span class=p>:</span> <span class=n>Dataset</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create an instance from an xarray Dataset.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ds</code> </td> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>Dataset containing the object data</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If dataset format is invalid or class mismatch</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.OnOffParameters.from_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_netcdf</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.OnOffParameters.from_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Load an instance from a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be read</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If file format is invalid</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.OnOffParameters.get_structure class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">get_structure</span> <a href=#flixopt.commons.OnOffParameters.get_structure class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_structure</span><span class=p>(</span><span class=n>clean</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>stats</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Get object structure as a dictionary.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>clean</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, remove None and empty dicts and lists.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>stats</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, replace DataArray references with statistics</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a></code> </td> <td> <div class=doc-md-description> <p>Dictionary representation of the object structure</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.OnOffParameters.to_json class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_json</span> <a href=#flixopt.commons.OnOffParameters.to_json class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_json</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a JSON file. This is meant for documentation and comparison, not for reloading.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>The path to the JSON file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.OnOffParameters.copy class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">copy</span> <a href=#flixopt.commons.OnOffParameters.copy class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>copy</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create a copy of the Interface object.</p> <p>Uses the existing serialization infrastructure to ensure proper copying of all DataArrays and nested objects.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>A new instance of the same class with copied data.</p> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=flixopt.commons.Piece class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">Piece</span> <a href=#flixopt.commons.Piece class=headerlink title="Anchor link to this section">&para;</a></h3> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>Piece</span><span class=p>(</span><span class=n>start</span><span class=p>:</span> <span class=n>TemporalDataUser</span><span class=p>,</span> <span class=n>end</span><span class=p>:</span> <span class=n>TemporalDataUser</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code></p> <p>Define a single linear segment with specified domain boundaries.</p> <p>This class represents one linear segment that will be combined with other pieces to form complete piecewise linear functions. Each piece defines a domain interval [start, end] where a linear relationship applies.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>start</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">TemporalDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.TemporalDataUser</code>)' href=../core/#flixopt.core.TemporalDataUser>TemporalDataUser</a></code> </td> <td> <div class=doc-md-description> <p>Lower bound of the domain interval for this linear segment. Can be scalar values or time series arrays for time-varying boundaries.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>end</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">TemporalDataUser</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.TemporalDataUser</code>)' href=../core/#flixopt.core.TemporalDataUser>TemporalDataUser</a></code> </td> <td> <div class=doc-md-description> <p>Upper bound of the domain interval for this linear segment. Can be scalar values or time series arrays for time-varying boundaries.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <p>Basic piece for equipment efficiency curve:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=c1># Single segment from 40% to 80% load</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=n>efficiency_segment</span> <span class=o>=</span> <span class=n>Piece</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=mi>40</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=mi>80</span><span class=p>)</span>
</span></code></pre></div> <p>Piece with time-varying boundaries:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=c1># Capacity limits that change seasonally</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=n>seasonal_piece</span> <span class=o>=</span> <span class=n>Piece</span><span class=p>(</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>    <span class=n>start</span><span class=o>=</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>10</span><span class=p>,</span> <span class=mi>20</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=mi>25</span><span class=p>]),</span>  <span class=c1># Minimum capacity by season</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>    <span class=n>end</span><span class=o>=</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>80</span><span class=p>,</span> <span class=mi>100</span><span class=p>,</span> <span class=mi>90</span><span class=p>,</span> <span class=mi>70</span><span class=p>]),</span>  <span class=c1># Maximum capacity by season</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=p>)</span>
</span></code></pre></div> <p>Fixed operating point (start equals end):</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=c1># Equipment that operates at exactly 50 MW</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=n>fixed_output</span> <span class=o>=</span> <span class=n>Piece</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=mi>50</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=mi>50</span><span class=p>)</span>
</span></code></pre></div> <details class=note open> <summary>Note</summary> <p>Individual pieces are building blocks that gain meaning when combined into Piecewise functions. See the Piecewise class for information about how pieces interact and relate to each other.</p> </details> <div class="doc doc-children"> <h4 id=flixopt.commons.Piece-functions>Functions<a href=#flixopt.commons.Piece-functions class=headerlink title="Anchor link to this section">&para;</a></h4> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Piece.to_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_dataset</span> <a href=#flixopt.commons.Piece.to_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_dataset</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>Dataset</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Convert the object to an xarray Dataset representation. All DataArrays become dataset variables, everything else goes to attrs.</p> <p>Its recommended to only call this method on Interfaces with all numeric data stored as xr.DataArrays. Interfaces inside a FlowSystem are automatically converted this form after connecting and transforming the FlowSystem.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>xr.Dataset: Dataset containing all DataArrays with basic objects only in attributes</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails due to naming conflicts or invalid data</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Piece.to_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_netcdf</span> <a href=#flixopt.commons.Piece.to_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>,</span> <span class=n>compression</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to save the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>compression</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Compression level (0-9)</p> </div> </td> <td> <code>0</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Piece.from_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_dataset</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.Piece.from_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_dataset</span><span class=p>(</span><span class=n>ds</span><span class=p>:</span> <span class=n>Dataset</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create an instance from an xarray Dataset.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ds</code> </td> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>Dataset containing the object data</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If dataset format is invalid or class mismatch</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Piece.from_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_netcdf</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.Piece.from_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Load an instance from a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be read</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If file format is invalid</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Piece.get_structure class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">get_structure</span> <a href=#flixopt.commons.Piece.get_structure class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_structure</span><span class=p>(</span><span class=n>clean</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>stats</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Get object structure as a dictionary.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>clean</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, remove None and empty dicts and lists.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>stats</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, replace DataArray references with statistics</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a></code> </td> <td> <div class=doc-md-description> <p>Dictionary representation of the object structure</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Piece.to_json class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_json</span> <a href=#flixopt.commons.Piece.to_json class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_json</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a JSON file. This is meant for documentation and comparison, not for reloading.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>The path to the JSON file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Piece.copy class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">copy</span> <a href=#flixopt.commons.Piece.copy class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>copy</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create a copy of the Interface object.</p> <p>Uses the existing serialization infrastructure to ensure proper copying of all DataArrays and nested objects.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>A new instance of the same class with copied data.</p> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=flixopt.commons.Piecewise class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">Piecewise</span> <a href=#flixopt.commons.Piecewise class=headerlink title="Anchor link to this section">&para;</a></h3> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>Piecewise</span><span class=p>(</span><span class=n>pieces</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=n>Piece</span><span class=p>])</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code></p> <p>Define a Piecewise, consisting of a list of Pieces.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>pieces</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Piece</span> (<code>flixopt.interface.Piece</code>)' href=../interface/#flixopt.interface.Piece>Piece</a>]</code> </td> <td> <div class=doc-md-description> <p>list of Piece objects defining the linear segments. The arrangement and relationships between pieces determine the function behavior: - Touching pieces (end of one = start of next) ensure continuity - Gaps between pieces create forbidden regions - Overlapping pieces provide an extra choice for the optimizer</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=piece-relationship-patterns open> <summary>Piece Relationship Patterns</summary> <p><strong>Touching Pieces (Continuous Function)</strong>: Pieces that share boundary points create smooth, continuous functions without gaps or overlaps.</p> <p><strong>Gaps Between Pieces (Forbidden Regions)</strong>: Non-contiguous pieces with gaps represent forbidden regions. For example minimum load requirements or safety zones.</p> <p><strong>Overlapping Pieces (Flexible Operation)</strong>: Pieces with overlapping domains provide optimization flexibility, allowing the solver to choose which segment to operate in.</p> </details> <p><span class=doc-section-title>Examples:</span></p> <p>Continuous efficiency curve (touching pieces):</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>efficiency_curve</span> <span class=o>=</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=p>[</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>        <span class=n>Piece</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=mi>25</span><span class=p>),</span>  <span class=c1># Low load: 0-25 MW</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>        <span class=n>Piece</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=mi>25</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=mi>75</span><span class=p>),</span>  <span class=c1># Medium load: 25-75 MW (touches at 25)</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>        <span class=n>Piece</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=mi>75</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=mi>100</span><span class=p>),</span>  <span class=c1># High load: 75-100 MW (touches at 75)</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>    <span class=p>]</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=p>)</span>
</span></code></pre></div> <p>Equipment with forbidden operating range (gap):</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=n>turbine_operation</span> <span class=o>=</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>    <span class=p>[</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>        <span class=n>Piece</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=mi>0</span><span class=p>),</span>  <span class=c1># Off state (point operation)</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>        <span class=n>Piece</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=mi>40</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=mi>100</span><span class=p>),</span>  <span class=c1># Operating range (gap: 0-40 forbidden)</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>    <span class=p>]</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=p>)</span>
</span></code></pre></div> <p>Flexible operation with overlapping options:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=n>flexible_operation</span> <span class=o>=</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>    <span class=p>[</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>        <span class=n>Piece</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=mi>60</span><span class=p>),</span>  <span class=c1># Standard efficiency mode</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>        <span class=n>Piece</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=mi>50</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=mi>90</span><span class=p>),</span>  <span class=c1># High efficiency mode (overlap: 50-60)</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>    <span class=p>]</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=p>)</span>
</span></code></pre></div> <p>Tiered pricing structure:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=n>electricity_pricing</span> <span class=o>=</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>    <span class=p>[</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>        <span class=n>Piece</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=mi>100</span><span class=p>),</span>  <span class=c1># Tier 1: 0-100 kWh</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>        <span class=n>Piece</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=mi>500</span><span class=p>),</span>  <span class=c1># Tier 2: 100-500 kWh</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>        <span class=n>Piece</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=mi>500</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=mi>1000</span><span class=p>),</span>  <span class=c1># Tier 3: 500-1000 kWh</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>    <span class=p>]</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=p>)</span>
</span></code></pre></div> <p>Seasonal capacity variation:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=n>seasonal_capacity</span> <span class=o>=</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>    <span class=p>[</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>        <span class=n>Piece</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=p>[</span><span class=mi>10</span><span class=p>,</span> <span class=mi>15</span><span class=p>,</span> <span class=mi>20</span><span class=p>,</span> <span class=mi>12</span><span class=p>],</span> <span class=n>end</span><span class=o>=</span><span class=p>[</span><span class=mi>80</span><span class=p>,</span> <span class=mi>90</span><span class=p>,</span> <span class=mi>85</span><span class=p>,</span> <span class=mi>75</span><span class=p>]),</span>  <span class=c1># Varies by time</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>    <span class=p>]</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=p>)</span>
</span></code></pre></div> <details class=container-operations open> <summary>Container Operations</summary> <p>The Piecewise class supports standard Python container operations:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>piecewise</span> <span class=o>=</span> <span class=n>Piecewise</span><span class=p>([</span><span class=n>piece1</span><span class=p>,</span> <span class=n>piece2</span><span class=p>,</span> <span class=n>piece3</span><span class=p>])</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=nb>len</span><span class=p>(</span><span class=n>piecewise</span><span class=p>)</span>  <span class=c1># Returns number of pieces (3)</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=n>piecewise</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>  <span class=c1># Access first piece</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=k>for</span> <span class=n>piece</span> <span class=ow>in</span> <span class=n>piecewise</span><span class=p>:</span>  <span class=c1># Iterate over all pieces</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>    <span class=nb>print</span><span class=p>(</span><span class=n>piece</span><span class=o>.</span><span class=n>start</span><span class=p>,</span> <span class=n>piece</span><span class=o>.</span><span class=n>end</span><span class=p>)</span>
</span></code></pre></div> </details> <details class=validation-considerations open> <summary>Validation Considerations</summary> <ul> <li>Pieces are typically ordered by their start values</li> <li>Check for unintended gaps that might create infeasible regions</li> <li>Consider whether overlaps provide desired flexibility or create ambiguity</li> <li>Ensure time-varying pieces have consistent dimensions</li> </ul> </details> <details class=common-use-cases open> <summary>Common Use Cases</summary> <ul> <li>Power plants: Heat rate curves, efficiency vs load, emissions profiles</li> <li>HVAC systems: COP vs temperature, capacity vs conditions</li> <li>Industrial processes: Conversion rates vs throughput, quality vs speed</li> <li>Financial modeling: Tiered rates, progressive taxes, bulk discounts</li> <li>Transportation: Fuel efficiency curves, capacity vs speed</li> <li>Storage systems: Efficiency vs state of charge, power vs energy</li> <li>Renewable energy: Output vs weather conditions, curtailment strategies</li> </ul> </details> <div class="doc doc-children"> <h4 id=flixopt.commons.Piecewise-functions>Functions<a href=#flixopt.commons.Piecewise-functions class=headerlink title="Anchor link to this section">&para;</a></h4> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Piecewise.to_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_dataset</span> <a href=#flixopt.commons.Piecewise.to_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_dataset</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>Dataset</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Convert the object to an xarray Dataset representation. All DataArrays become dataset variables, everything else goes to attrs.</p> <p>Its recommended to only call this method on Interfaces with all numeric data stored as xr.DataArrays. Interfaces inside a FlowSystem are automatically converted this form after connecting and transforming the FlowSystem.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>xr.Dataset: Dataset containing all DataArrays with basic objects only in attributes</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails due to naming conflicts or invalid data</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Piecewise.to_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_netcdf</span> <a href=#flixopt.commons.Piecewise.to_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>,</span> <span class=n>compression</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to save the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>compression</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Compression level (0-9)</p> </div> </td> <td> <code>0</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Piecewise.from_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_dataset</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.Piecewise.from_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_dataset</span><span class=p>(</span><span class=n>ds</span><span class=p>:</span> <span class=n>Dataset</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create an instance from an xarray Dataset.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ds</code> </td> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>Dataset containing the object data</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If dataset format is invalid or class mismatch</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Piecewise.from_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_netcdf</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.Piecewise.from_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Load an instance from a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be read</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If file format is invalid</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Piecewise.get_structure class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">get_structure</span> <a href=#flixopt.commons.Piecewise.get_structure class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_structure</span><span class=p>(</span><span class=n>clean</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>stats</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Get object structure as a dictionary.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>clean</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, remove None and empty dicts and lists.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>stats</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, replace DataArray references with statistics</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a></code> </td> <td> <div class=doc-md-description> <p>Dictionary representation of the object structure</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Piecewise.to_json class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_json</span> <a href=#flixopt.commons.Piecewise.to_json class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_json</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a JSON file. This is meant for documentation and comparison, not for reloading.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>The path to the JSON file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.Piecewise.copy class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">copy</span> <a href=#flixopt.commons.Piecewise.copy class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>copy</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create a copy of the Interface object.</p> <p>Uses the existing serialization infrastructure to ensure proper copying of all DataArrays and nested objects.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>A new instance of the same class with copied data.</p> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=flixopt.commons.PiecewiseConversion class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">PiecewiseConversion</span> <a href=#flixopt.commons.PiecewiseConversion class=headerlink title="Anchor link to this section">&para;</a></h3> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>PiecewiseConversion</span><span class=p>(</span><span class=n>piecewises</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Piecewise</span><span class=p>])</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code></p> <p>Define coordinated piecewise linear relationships between multiple flows.</p> <p>This class models conversion processes where multiple flows (inputs, outputs, auxiliaries) have synchronized piecewise relationships. All flows change together based on the same operating point, enabling accurate modeling of complex equipment with variable performance characteristics.</p> <details class=multi-flow-coordination open> <summary>Multi-Flow Coordination</summary> <p>All piecewise functions must have matching piece structures (same number of pieces with compatible domains) to ensure synchronized operation. When the equipment operates at a given point, ALL flows scale proportionally within their respective pieces.</p> </details> <details class=mathematical-formulation open> <summary>Mathematical Formulation</summary> <p>See the complete mathematical model in the documentation: <a href=../../user-guide/mathematical-notation/features/Piecewise/ >Piecewise</a></p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>piecewises</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Piecewise</span> (<code>flixopt.interface.Piecewise</code>)' href=../interface/#flixopt.interface.Piecewise>Piecewise</a>]</code> </td> <td> <div class=doc-md-description> <p>Dictionary mapping flow labels to their Piecewise functions. Keys are flow identifiers (e.g., 'electricity_in', 'heat_out', 'fuel_consumed'). Values are Piecewise objects that define each flow's behavior. <strong>Critical Requirement</strong>: All Piecewise objects must have the same number of pieces with compatible domains to ensure consistent operation.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=operating-point-coordination open> <summary>Operating Point Coordination</summary> <p>When equipment operates at any point within a piece, all flows scale proportionally within their corresponding pieces. This ensures realistic equipment behavior where efficiency, consumption, and production rates all change together.</p> </details> <p><span class=doc-section-title>Examples:</span></p> <p>Heat pump with coordinated efficiency changes:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>heat_pump_pc</span> <span class=o>=</span> <span class=n>PiecewiseConversion</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=p>{</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>        <span class=s1>&#39;electricity_in&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>            <span class=p>[</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>10</span><span class=p>),</span>  <span class=c1># Low load: 0-10 kW electricity</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>25</span><span class=p>),</span>  <span class=c1># High load: 10-25 kW electricity</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>            <span class=p>]</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>        <span class=p>),</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>        <span class=s1>&#39;heat_out&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>            <span class=p>[</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>35</span><span class=p>),</span>  <span class=c1># Low load COP=3.5: 0-35 kW heat</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>35</span><span class=p>,</span> <span class=mi>75</span><span class=p>),</span>  <span class=c1># High load COP=3.0: 35-75 kW heat</span>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a>            <span class=p>]</span>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a>        <span class=p>),</span>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a>        <span class=s1>&#39;cooling_water&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-0-16><a id=__codelineno-0-16 name=__codelineno-0-16 href=#__codelineno-0-16></a>            <span class=p>[</span>
</span><span id=__span-0-17><a id=__codelineno-0-17 name=__codelineno-0-17 href=#__codelineno-0-17></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mf>2.5</span><span class=p>),</span>  <span class=c1># Low load: 0-2.5 m³/h cooling</span>
</span><span id=__span-0-18><a id=__codelineno-0-18 name=__codelineno-0-18 href=#__codelineno-0-18></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>2.5</span><span class=p>,</span> <span class=mi>6</span><span class=p>),</span>  <span class=c1># High load: 2.5-6 m³/h cooling</span>
</span><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19 href=#__codelineno-0-19></a>            <span class=p>]</span>
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20 href=#__codelineno-0-20></a>        <span class=p>),</span>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21 href=#__codelineno-0-21></a>    <span class=p>}</span>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22 href=#__codelineno-0-22></a><span class=p>)</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23 href=#__codelineno-0-23></a><span class=c1># At 15 kW electricity → 52.5 kW heat + 3.75 m³/h cooling water</span>
</span></code></pre></div> <p>Combined cycle power plant with synchronized flows:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=n>power_plant_pc</span> <span class=o>=</span> <span class=n>PiecewiseConversion</span><span class=p>(</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>    <span class=p>{</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>        <span class=s1>&#39;natural_gas&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>            <span class=p>[</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>150</span><span class=p>,</span> <span class=mi>300</span><span class=p>),</span>  <span class=c1># Part load: 150-300 MW_th fuel</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>300</span><span class=p>,</span> <span class=mi>500</span><span class=p>),</span>  <span class=c1># Full load: 300-500 MW_th fuel</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a>            <span class=p>]</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>        <span class=p>),</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a>        <span class=s1>&#39;electricity&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a>            <span class=p>[</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>60</span><span class=p>,</span> <span class=mi>135</span><span class=p>),</span>  <span class=c1># Part load: 60-135 MW_e (45% efficiency)</span>
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>135</span><span class=p>,</span> <span class=mi>250</span><span class=p>),</span>  <span class=c1># Full load: 135-250 MW_e (50% efficiency)</span>
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a>            <span class=p>]</span>
</span><span id=__span-1-14><a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a>        <span class=p>),</span>
</span><span id=__span-1-15><a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a>        <span class=s1>&#39;steam_export&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-1-16><a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a>            <span class=p>[</span>
</span><span id=__span-1-17><a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>20</span><span class=p>,</span> <span class=mi>35</span><span class=p>),</span>  <span class=c1># Part load: 20-35 MW_th steam</span>
</span><span id=__span-1-18><a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>35</span><span class=p>,</span> <span class=mi>50</span><span class=p>),</span>  <span class=c1># Full load: 35-50 MW_th steam</span>
</span><span id=__span-1-19><a id=__codelineno-1-19 name=__codelineno-1-19 href=#__codelineno-1-19></a>            <span class=p>]</span>
</span><span id=__span-1-20><a id=__codelineno-1-20 name=__codelineno-1-20 href=#__codelineno-1-20></a>        <span class=p>),</span>
</span><span id=__span-1-21><a id=__codelineno-1-21 name=__codelineno-1-21 href=#__codelineno-1-21></a>        <span class=s1>&#39;co2_emissions&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-1-22><a id=__codelineno-1-22 name=__codelineno-1-22 href=#__codelineno-1-22></a>            <span class=p>[</span>
</span><span id=__span-1-23><a id=__codelineno-1-23 name=__codelineno-1-23 href=#__codelineno-1-23></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>30</span><span class=p>,</span> <span class=mi>60</span><span class=p>),</span>  <span class=c1># Part load: 30-60 t/h CO2</span>
</span><span id=__span-1-24><a id=__codelineno-1-24 name=__codelineno-1-24 href=#__codelineno-1-24></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>60</span><span class=p>,</span> <span class=mi>100</span><span class=p>),</span>  <span class=c1># Full load: 60-100 t/h CO2</span>
</span><span id=__span-1-25><a id=__codelineno-1-25 name=__codelineno-1-25 href=#__codelineno-1-25></a>            <span class=p>]</span>
</span><span id=__span-1-26><a id=__codelineno-1-26 name=__codelineno-1-26 href=#__codelineno-1-26></a>        <span class=p>),</span>
</span><span id=__span-1-27><a id=__codelineno-1-27 name=__codelineno-1-27 href=#__codelineno-1-27></a>    <span class=p>}</span>
</span><span id=__span-1-28><a id=__codelineno-1-28 name=__codelineno-1-28 href=#__codelineno-1-28></a><span class=p>)</span>
</span></code></pre></div> <p>Chemical reactor with multiple products and waste:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=n>reactor_pc</span> <span class=o>=</span> <span class=n>PiecewiseConversion</span><span class=p>(</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>    <span class=p>{</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>        <span class=s1>&#39;feedstock&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>            <span class=p>[</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>50</span><span class=p>),</span>  <span class=c1># Small batch: 10-50 kg/h</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>50</span><span class=p>,</span> <span class=mi>200</span><span class=p>),</span>  <span class=c1># Large batch: 50-200 kg/h</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a>            <span class=p>]</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a>        <span class=p>),</span>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>        <span class=s1>&#39;product_A&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a>            <span class=p>[</span>
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>7</span><span class=p>,</span> <span class=mi>35</span><span class=p>),</span>  <span class=c1># Small batch: 70% yield</span>
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>35</span><span class=p>,</span> <span class=mi>140</span><span class=p>),</span>  <span class=c1># Large batch: 70% yield</span>
</span><span id=__span-2-13><a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a>            <span class=p>]</span>
</span><span id=__span-2-14><a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a>        <span class=p>),</span>
</span><span id=__span-2-15><a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a>        <span class=s1>&#39;product_B&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-2-16><a id=__codelineno-2-16 name=__codelineno-2-16 href=#__codelineno-2-16></a>            <span class=p>[</span>
</span><span id=__span-2-17><a id=__codelineno-2-17 name=__codelineno-2-17 href=#__codelineno-2-17></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>10</span><span class=p>),</span>  <span class=c1># Small batch: 20% yield</span>
</span><span id=__span-2-18><a id=__codelineno-2-18 name=__codelineno-2-18 href=#__codelineno-2-18></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>45</span><span class=p>),</span>  <span class=c1># Large batch: 22.5% yield (improved)</span>
</span><span id=__span-2-19><a id=__codelineno-2-19 name=__codelineno-2-19 href=#__codelineno-2-19></a>            <span class=p>]</span>
</span><span id=__span-2-20><a id=__codelineno-2-20 name=__codelineno-2-20 href=#__codelineno-2-20></a>        <span class=p>),</span>
</span><span id=__span-2-21><a id=__codelineno-2-21 name=__codelineno-2-21 href=#__codelineno-2-21></a>        <span class=s1>&#39;waste_stream&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-2-22><a id=__codelineno-2-22 name=__codelineno-2-22 href=#__codelineno-2-22></a>            <span class=p>[</span>
</span><span id=__span-2-23><a id=__codelineno-2-23 name=__codelineno-2-23 href=#__codelineno-2-23></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>5</span><span class=p>),</span>  <span class=c1># Small batch: 10% waste</span>
</span><span id=__span-2-24><a id=__codelineno-2-24 name=__codelineno-2-24 href=#__codelineno-2-24></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>15</span><span class=p>),</span>  <span class=c1># Large batch: 7.5% waste (efficiency)</span>
</span><span id=__span-2-25><a id=__codelineno-2-25 name=__codelineno-2-25 href=#__codelineno-2-25></a>            <span class=p>]</span>
</span><span id=__span-2-26><a id=__codelineno-2-26 name=__codelineno-2-26 href=#__codelineno-2-26></a>        <span class=p>),</span>
</span><span id=__span-2-27><a id=__codelineno-2-27 name=__codelineno-2-27 href=#__codelineno-2-27></a>    <span class=p>}</span>
</span><span id=__span-2-28><a id=__codelineno-2-28 name=__codelineno-2-28 href=#__codelineno-2-28></a><span class=p>)</span>
</span></code></pre></div> <p>Equipment with discrete operating modes:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=n>compressor_pc</span> <span class=o>=</span> <span class=n>PiecewiseConversion</span><span class=p>(</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>    <span class=p>{</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>        <span class=s1>&#39;electricity&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>            <span class=p>[</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span>  <span class=c1># Off mode: no consumption</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>45</span><span class=p>,</span> <span class=mi>45</span><span class=p>),</span>  <span class=c1># Low mode: fixed 45 kW</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>85</span><span class=p>,</span> <span class=mi>85</span><span class=p>),</span>  <span class=c1># High mode: fixed 85 kW</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>            <span class=p>]</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a>        <span class=p>),</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a>        <span class=s1>&#39;compressed_air&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a>            <span class=p>[</span>
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span>  <span class=c1># Off mode: no production</span>
</span><span id=__span-3-13><a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>250</span><span class=p>,</span> <span class=mi>250</span><span class=p>),</span>  <span class=c1># Low mode: 250 Nm³/h</span>
</span><span id=__span-3-14><a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>500</span><span class=p>,</span> <span class=mi>500</span><span class=p>),</span>  <span class=c1># High mode: 500 Nm³/h</span>
</span><span id=__span-3-15><a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a>            <span class=p>]</span>
</span><span id=__span-3-16><a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a>        <span class=p>),</span>
</span><span id=__span-3-17><a id=__codelineno-3-17 name=__codelineno-3-17 href=#__codelineno-3-17></a>    <span class=p>}</span>
</span><span id=__span-3-18><a id=__codelineno-3-18 name=__codelineno-3-18 href=#__codelineno-3-18></a><span class=p>)</span>
</span></code></pre></div> <p>Equipment with forbidden operating range:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=n>steam_turbine_pc</span> <span class=o>=</span> <span class=n>PiecewiseConversion</span><span class=p>(</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>    <span class=p>{</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>        <span class=s1>&#39;steam_in&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>            <span class=p>[</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>100</span><span class=p>),</span>  <span class=c1># Low pressure operation</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>200</span><span class=p>,</span> <span class=mi>500</span><span class=p>),</span>  <span class=c1># High pressure (gap: 100-200 forbidden)</span>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a>            <span class=p>]</span>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a>        <span class=p>),</span>
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a>        <span class=s1>&#39;electricity_out&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a>            <span class=p>[</span>
</span><span id=__span-4-11><a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>30</span><span class=p>),</span>  <span class=c1># Low pressure: poor efficiency</span>
</span><span id=__span-4-12><a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>80</span><span class=p>,</span> <span class=mi>220</span><span class=p>),</span>  <span class=c1># High pressure: good efficiency</span>
</span><span id=__span-4-13><a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a>            <span class=p>]</span>
</span><span id=__span-4-14><a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a>        <span class=p>),</span>
</span><span id=__span-4-15><a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a>        <span class=s1>&#39;condensate_out&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-4-16><a id=__codelineno-4-16 name=__codelineno-4-16 href=#__codelineno-4-16></a>            <span class=p>[</span>
</span><span id=__span-4-17><a id=__codelineno-4-17 name=__codelineno-4-17 href=#__codelineno-4-17></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>100</span><span class=p>),</span>  <span class=c1># Low pressure condensate</span>
</span><span id=__span-4-18><a id=__codelineno-4-18 name=__codelineno-4-18 href=#__codelineno-4-18></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>200</span><span class=p>,</span> <span class=mi>500</span><span class=p>),</span>  <span class=c1># High pressure condensate</span>
</span><span id=__span-4-19><a id=__codelineno-4-19 name=__codelineno-4-19 href=#__codelineno-4-19></a>            <span class=p>]</span>
</span><span id=__span-4-20><a id=__codelineno-4-20 name=__codelineno-4-20 href=#__codelineno-4-20></a>        <span class=p>),</span>
</span><span id=__span-4-21><a id=__codelineno-4-21 name=__codelineno-4-21 href=#__codelineno-4-21></a>    <span class=p>}</span>
</span><span id=__span-4-22><a id=__codelineno-4-22 name=__codelineno-4-22 href=#__codelineno-4-22></a><span class=p>)</span>
</span></code></pre></div> <details class=design-patterns open> <summary>Design Patterns</summary> <p><strong>Forbidden Ranges</strong>: Use gaps between pieces to model equipment that cannot operate in certain ranges (e.g., minimum loads, unstable regions).</p> <p><strong>Discrete Modes</strong>: Use pieces with identical start/end values to model equipment with fixed operating points (e.g., on/off, discrete speeds).</p> <p><strong>Efficiency Changes</strong>: Coordinate input and output pieces to reflect changing conversion efficiency across operating ranges.</p> </details> <details class=common-use-cases open> <summary>Common Use Cases</summary> <ul> <li>Power generation: Multi-fuel plants, cogeneration systems, renewable hybrids</li> <li>HVAC systems: Heat pumps, chillers with variable COP and auxiliary loads</li> <li>Industrial processes: Multi-product reactors, separation units, heat exchangers</li> <li>Transportation: Multi-modal systems, hybrid vehicles, charging infrastructure</li> <li>Water treatment: Multi-stage processes with varying energy and chemical needs</li> <li>Energy storage: Systems with efficiency changes and auxiliary power requirements</li> </ul> </details> <div class="doc doc-children"> <h4 id=flixopt.commons.PiecewiseConversion-functions>Functions<a href=#flixopt.commons.PiecewiseConversion-functions class=headerlink title="Anchor link to this section">&para;</a></h4> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.PiecewiseConversion.to_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_dataset</span> <a href=#flixopt.commons.PiecewiseConversion.to_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_dataset</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>Dataset</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Convert the object to an xarray Dataset representation. All DataArrays become dataset variables, everything else goes to attrs.</p> <p>Its recommended to only call this method on Interfaces with all numeric data stored as xr.DataArrays. Interfaces inside a FlowSystem are automatically converted this form after connecting and transforming the FlowSystem.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>xr.Dataset: Dataset containing all DataArrays with basic objects only in attributes</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails due to naming conflicts or invalid data</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.PiecewiseConversion.to_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_netcdf</span> <a href=#flixopt.commons.PiecewiseConversion.to_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>,</span> <span class=n>compression</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to save the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>compression</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Compression level (0-9)</p> </div> </td> <td> <code>0</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.PiecewiseConversion.from_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_dataset</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.PiecewiseConversion.from_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_dataset</span><span class=p>(</span><span class=n>ds</span><span class=p>:</span> <span class=n>Dataset</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create an instance from an xarray Dataset.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ds</code> </td> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>Dataset containing the object data</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If dataset format is invalid or class mismatch</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.PiecewiseConversion.from_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_netcdf</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.PiecewiseConversion.from_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Load an instance from a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be read</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If file format is invalid</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.PiecewiseConversion.get_structure class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">get_structure</span> <a href=#flixopt.commons.PiecewiseConversion.get_structure class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_structure</span><span class=p>(</span><span class=n>clean</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>stats</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Get object structure as a dictionary.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>clean</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, remove None and empty dicts and lists.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>stats</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, replace DataArray references with statistics</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a></code> </td> <td> <div class=doc-md-description> <p>Dictionary representation of the object structure</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.PiecewiseConversion.to_json class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_json</span> <a href=#flixopt.commons.PiecewiseConversion.to_json class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_json</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a JSON file. This is meant for documentation and comparison, not for reloading.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>The path to the JSON file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.PiecewiseConversion.copy class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">copy</span> <a href=#flixopt.commons.PiecewiseConversion.copy class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>copy</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create a copy of the Interface object.</p> <p>Uses the existing serialization infrastructure to ensure proper copying of all DataArrays and nested objects.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>A new instance of the same class with copied data.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.PiecewiseConversion.items class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">items</span> <a href=#flixopt.commons.PiecewiseConversion.items class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>items</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Return an iterator over (flow_label, Piecewise) pairs stored in this PiecewiseConversion.</p> <p>This is a thin convenience wrapper around the internal mapping and yields the same view as dict.items(), where each key is a flow label (str) and each value is a Piecewise.</p> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=flixopt.commons.PiecewiseEffects class="doc doc-heading"> <span class="doc doc-object-name doc-class-name">PiecewiseEffects</span> <a href=#flixopt.commons.PiecewiseEffects class=headerlink title="Anchor link to this section">&para;</a></h3> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>PiecewiseEffects</span><span class=p>(</span><span class=n>piecewise_origin</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>,</span> <span class=n>piecewise_shares</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Piecewise</span><span class=p>])</span>
</span></code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code></p> <p>Define how a single decision variable contributes to system effects with piecewise rates.</p> <p>This class models situations where a decision variable (the origin) generates different types of system effects (costs, emissions, resource consumption) at rates that change non-linearly with the variable's operating level. Unlike PiecewiseConversion which coordinates multiple flows, PiecewiseEffects focuses on how one variable impacts multiple system-wide effects.</p> <p>Key Concept - Origin vs. Effects: - <strong>Origin</strong>: The primary decision variable (e.g., production level, capacity, size) - <strong>Shares</strong>: The amounts which this variable contributes to different system effects</p> <details class=relationship-to-piecewiseconversion open> <summary>Relationship to PiecewiseConversion</summary> <p><strong>PiecewiseConversion</strong>: Models synchronized relationships between multiple flow variables (e.g., fuel_in, electricity_out, emissions_out all coordinated).</p> <p><strong>PiecewiseEffects</strong>: Models how one variable contributes to system-wide effects at variable rates (e.g., production_level → costs, emissions, resources).</p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>piecewise_origin</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Piecewise</span> (<code>flixopt.interface.Piecewise</code>)' href=../interface/#flixopt.interface.Piecewise>Piecewise</a></code> </td> <td> <div class=doc-md-description> <p>Piecewise function defining the behavior of the primary decision variable. This establishes the operating domain and ranges.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>piecewise_shares</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Piecewise</span> (<code>flixopt.interface.Piecewise</code>)' href=../interface/#flixopt.interface.Piecewise>Piecewise</a>]</code> </td> <td> <div class=doc-md-description> <p>Dictionary mapping effect names to their rate functions. Keys are effect identifiers (e.g., 'cost_per_unit', 'CO2_intensity'). Values are Piecewise objects defining the contribution rate per unit of the origin variable at different operating levels.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=mathematical-relationship open> <summary>Mathematical Relationship</summary> <p>For each effect: Total_Effect = Origin_Variable × Share_Rate(Origin_Level)</p> <p>This enables modeling of: - Economies of scale (decreasing unit costs with volume) - Learning curves (improving efficiency with experience) - Threshold effects (changing rates at different scales) - Progressive pricing (increasing rates with consumption)</p> </details> <p><span class=doc-section-title>Examples:</span></p> <p>Manufacturing with economies of scale:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>production_effects</span> <span class=o>=</span> <span class=n>PiecewiseEffects</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>piecewise_origin</span><span class=o>=</span><span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>        <span class=p>[</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>            <span class=n>Piece</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1000</span><span class=p>),</span>  <span class=c1># Small scale: 0-1000 units/month</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>            <span class=n>Piece</span><span class=p>(</span><span class=mi>1000</span><span class=p>,</span> <span class=mi>5000</span><span class=p>),</span>  <span class=c1># Medium scale: 1000-5000 units/month</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>            <span class=n>Piece</span><span class=p>(</span><span class=mi>5000</span><span class=p>,</span> <span class=mi>10000</span><span class=p>),</span>  <span class=c1># Large scale: 5000-10000 units/month</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>        <span class=p>]</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>    <span class=p>),</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>    <span class=n>piecewise_shares</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>        <span class=s1>&#39;unit_cost&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a>            <span class=p>[</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>50</span><span class=p>,</span> <span class=mi>45</span><span class=p>),</span>  <span class=c1># €50-45/unit (scale benefits)</span>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>45</span><span class=p>,</span> <span class=mi>35</span><span class=p>),</span>  <span class=c1># €45-35/unit (bulk materials)</span>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>35</span><span class=p>,</span> <span class=mi>30</span><span class=p>),</span>  <span class=c1># €35-30/unit (automation benefits)</span>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a>            <span class=p>]</span>
</span><span id=__span-0-16><a id=__codelineno-0-16 name=__codelineno-0-16 href=#__codelineno-0-16></a>        <span class=p>),</span>
</span><span id=__span-0-17><a id=__codelineno-0-17 name=__codelineno-0-17 href=#__codelineno-0-17></a>        <span class=s1>&#39;labor_hours&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-0-18><a id=__codelineno-0-18 name=__codelineno-0-18 href=#__codelineno-0-18></a>            <span class=p>[</span>
</span><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19 href=#__codelineno-0-19></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>2.5</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>),</span>  <span class=c1># 2.5-2.0 hours/unit (learning curve)</span>
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20 href=#__codelineno-0-20></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>2.0</span><span class=p>,</span> <span class=mf>1.5</span><span class=p>),</span>  <span class=c1># 2.0-1.5 hours/unit (efficiency gains)</span>
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21 href=#__codelineno-0-21></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>1.5</span><span class=p>,</span> <span class=mf>1.2</span><span class=p>),</span>  <span class=c1># 1.5-1.2 hours/unit (specialization)</span>
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22 href=#__codelineno-0-22></a>            <span class=p>]</span>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23 href=#__codelineno-0-23></a>        <span class=p>),</span>
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24 href=#__codelineno-0-24></a>        <span class=s1>&#39;CO2_intensity&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25 href=#__codelineno-0-25></a>            <span class=p>[</span>
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26 href=#__codelineno-0-26></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>15</span><span class=p>,</span> <span class=mi>12</span><span class=p>),</span>  <span class=c1># 15-12 kg CO2/unit (process optimization)</span>
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27 href=#__codelineno-0-27></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>12</span><span class=p>,</span> <span class=mi>9</span><span class=p>),</span>  <span class=c1># 12-9 kg CO2/unit (equipment efficiency)</span>
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28 href=#__codelineno-0-28></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>9</span><span class=p>,</span> <span class=mi>7</span><span class=p>),</span>  <span class=c1># 9-7 kg CO2/unit (renewable energy)</span>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29 href=#__codelineno-0-29></a>            <span class=p>]</span>
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30 href=#__codelineno-0-30></a>        <span class=p>),</span>
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31 href=#__codelineno-0-31></a>    <span class=p>},</span>
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32 href=#__codelineno-0-32></a><span class=p>)</span>
</span></code></pre></div> <p>Power generation with load-dependent characteristics:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=n>generator_effects</span> <span class=o>=</span> <span class=n>PiecewiseEffects</span><span class=p>(</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>    <span class=n>piecewise_origin</span><span class=o>=</span><span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>        <span class=p>[</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>            <span class=n>Piece</span><span class=p>(</span><span class=mi>50</span><span class=p>,</span> <span class=mi>200</span><span class=p>),</span>  <span class=c1># Part load operation: 50-200 MW</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>            <span class=n>Piece</span><span class=p>(</span><span class=mi>200</span><span class=p>,</span> <span class=mi>350</span><span class=p>),</span>  <span class=c1># Rated operation: 200-350 MW</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>            <span class=n>Piece</span><span class=p>(</span><span class=mi>350</span><span class=p>,</span> <span class=mi>400</span><span class=p>),</span>  <span class=c1># Overload operation: 350-400 MW</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a>        <span class=p>]</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>    <span class=p>),</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a>    <span class=n>piecewise_shares</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a>        <span class=s1>&#39;fuel_rate&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a>            <span class=p>[</span>
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>12.0</span><span class=p>,</span> <span class=mf>10.5</span><span class=p>),</span>  <span class=c1># Heat rate: 12.0-10.5 GJ/MWh (part load penalty)</span>
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>10.5</span><span class=p>,</span> <span class=mf>9.8</span><span class=p>),</span>  <span class=c1># Heat rate: 10.5-9.8 GJ/MWh (optimal efficiency)</span>
</span><span id=__span-1-14><a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>9.8</span><span class=p>,</span> <span class=mf>11.2</span><span class=p>),</span>  <span class=c1># Heat rate: 9.8-11.2 GJ/MWh (overload penalty)</span>
</span><span id=__span-1-15><a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a>            <span class=p>]</span>
</span><span id=__span-1-16><a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a>        <span class=p>),</span>
</span><span id=__span-1-17><a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a>        <span class=s1>&#39;maintenance_factor&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-1-18><a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a>            <span class=p>[</span>
</span><span id=__span-1-19><a id=__codelineno-1-19 name=__codelineno-1-19 href=#__codelineno-1-19></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.8</span><span class=p>,</span> <span class=mf>1.0</span><span class=p>),</span>  <span class=c1># Low stress operation</span>
</span><span id=__span-1-20><a id=__codelineno-1-20 name=__codelineno-1-20 href=#__codelineno-1-20></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>1.0</span><span class=p>,</span> <span class=mf>1.0</span><span class=p>),</span>  <span class=c1># Design operation</span>
</span><span id=__span-1-21><a id=__codelineno-1-21 name=__codelineno-1-21 href=#__codelineno-1-21></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>1.0</span><span class=p>,</span> <span class=mf>1.5</span><span class=p>),</span>  <span class=c1># High stress operation</span>
</span><span id=__span-1-22><a id=__codelineno-1-22 name=__codelineno-1-22 href=#__codelineno-1-22></a>            <span class=p>]</span>
</span><span id=__span-1-23><a id=__codelineno-1-23 name=__codelineno-1-23 href=#__codelineno-1-23></a>        <span class=p>),</span>
</span><span id=__span-1-24><a id=__codelineno-1-24 name=__codelineno-1-24 href=#__codelineno-1-24></a>        <span class=s1>&#39;NOx_rate&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-1-25><a id=__codelineno-1-25 name=__codelineno-1-25 href=#__codelineno-1-25></a>            <span class=p>[</span>
</span><span id=__span-1-26><a id=__codelineno-1-26 name=__codelineno-1-26 href=#__codelineno-1-26></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.20</span><span class=p>,</span> <span class=mf>0.15</span><span class=p>),</span>  <span class=c1># NOx: 0.20-0.15 kg/MWh</span>
</span><span id=__span-1-27><a id=__codelineno-1-27 name=__codelineno-1-27 href=#__codelineno-1-27></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.15</span><span class=p>,</span> <span class=mf>0.12</span><span class=p>),</span>  <span class=c1># NOx: 0.15-0.12 kg/MWh (optimal combustion)</span>
</span><span id=__span-1-28><a id=__codelineno-1-28 name=__codelineno-1-28 href=#__codelineno-1-28></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.12</span><span class=p>,</span> <span class=mf>0.25</span><span class=p>),</span>  <span class=c1># NOx: 0.12-0.25 kg/MWh (overload penalties)</span>
</span><span id=__span-1-29><a id=__codelineno-1-29 name=__codelineno-1-29 href=#__codelineno-1-29></a>            <span class=p>]</span>
</span><span id=__span-1-30><a id=__codelineno-1-30 name=__codelineno-1-30 href=#__codelineno-1-30></a>        <span class=p>),</span>
</span><span id=__span-1-31><a id=__codelineno-1-31 name=__codelineno-1-31 href=#__codelineno-1-31></a>    <span class=p>},</span>
</span><span id=__span-1-32><a id=__codelineno-1-32 name=__codelineno-1-32 href=#__codelineno-1-32></a><span class=p>)</span>
</span></code></pre></div> <p>Progressive utility pricing structure:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=n>electricity_billing</span> <span class=o>=</span> <span class=n>PiecewiseEffects</span><span class=p>(</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>    <span class=n>piecewise_origin</span><span class=o>=</span><span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>        <span class=p>[</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>            <span class=n>Piece</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>200</span><span class=p>),</span>  <span class=c1># Basic usage: 0-200 kWh/month</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>            <span class=n>Piece</span><span class=p>(</span><span class=mi>200</span><span class=p>,</span> <span class=mi>800</span><span class=p>),</span>  <span class=c1># Standard usage: 200-800 kWh/month</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>            <span class=n>Piece</span><span class=p>(</span><span class=mi>800</span><span class=p>,</span> <span class=mi>2000</span><span class=p>),</span>  <span class=c1># High usage: 800-2000 kWh/month</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a>        <span class=p>]</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a>    <span class=p>),</span>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>    <span class=n>piecewise_shares</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a>        <span class=s1>&#39;energy_rate&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a>            <span class=p>[</span>
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.12</span><span class=p>,</span> <span class=mf>0.12</span><span class=p>),</span>  <span class=c1># Basic rate: €0.12/kWh</span>
</span><span id=__span-2-13><a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.18</span><span class=p>,</span> <span class=mf>0.18</span><span class=p>),</span>  <span class=c1># Standard rate: €0.18/kWh</span>
</span><span id=__span-2-14><a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.28</span><span class=p>,</span> <span class=mf>0.28</span><span class=p>),</span>  <span class=c1># Premium rate: €0.28/kWh</span>
</span><span id=__span-2-15><a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a>            <span class=p>]</span>
</span><span id=__span-2-16><a id=__codelineno-2-16 name=__codelineno-2-16 href=#__codelineno-2-16></a>        <span class=p>),</span>
</span><span id=__span-2-17><a id=__codelineno-2-17 name=__codelineno-2-17 href=#__codelineno-2-17></a>        <span class=s1>&#39;carbon_tax&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-2-18><a id=__codelineno-2-18 name=__codelineno-2-18 href=#__codelineno-2-18></a>            <span class=p>[</span>
</span><span id=__span-2-19><a id=__codelineno-2-19 name=__codelineno-2-19 href=#__codelineno-2-19></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.02</span><span class=p>,</span> <span class=mf>0.02</span><span class=p>),</span>  <span class=c1># Low carbon tax: €0.02/kWh</span>
</span><span id=__span-2-20><a id=__codelineno-2-20 name=__codelineno-2-20 href=#__codelineno-2-20></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.03</span><span class=p>,</span> <span class=mf>0.03</span><span class=p>),</span>  <span class=c1># Medium carbon tax: €0.03/kWh</span>
</span><span id=__span-2-21><a id=__codelineno-2-21 name=__codelineno-2-21 href=#__codelineno-2-21></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.05</span><span class=p>,</span> <span class=mf>0.05</span><span class=p>),</span>  <span class=c1># High carbon tax: €0.05/kWh</span>
</span><span id=__span-2-22><a id=__codelineno-2-22 name=__codelineno-2-22 href=#__codelineno-2-22></a>            <span class=p>]</span>
</span><span id=__span-2-23><a id=__codelineno-2-23 name=__codelineno-2-23 href=#__codelineno-2-23></a>        <span class=p>),</span>
</span><span id=__span-2-24><a id=__codelineno-2-24 name=__codelineno-2-24 href=#__codelineno-2-24></a>    <span class=p>},</span>
</span><span id=__span-2-25><a id=__codelineno-2-25 name=__codelineno-2-25 href=#__codelineno-2-25></a><span class=p>)</span>
</span></code></pre></div> <p>Data center with capacity-dependent efficiency:</p> <div class="language-python highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=n>datacenter_effects</span> <span class=o>=</span> <span class=n>PiecewiseEffects</span><span class=p>(</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>    <span class=n>piecewise_origin</span><span class=o>=</span><span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>        <span class=p>[</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>            <span class=n>Piece</span><span class=p>(</span><span class=mi>100</span><span class=p>,</span> <span class=mi>500</span><span class=p>),</span>  <span class=c1># Low utilization: 100-500 servers</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>            <span class=n>Piece</span><span class=p>(</span><span class=mi>500</span><span class=p>,</span> <span class=mi>2000</span><span class=p>),</span>  <span class=c1># Medium utilization: 500-2000 servers</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>            <span class=n>Piece</span><span class=p>(</span><span class=mi>2000</span><span class=p>,</span> <span class=mi>5000</span><span class=p>),</span>  <span class=c1># High utilization: 2000-5000 servers</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>        <span class=p>]</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>    <span class=p>),</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a>    <span class=n>piecewise_shares</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a>        <span class=s1>&#39;power_per_server&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a>            <span class=p>[</span>
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.8</span><span class=p>,</span> <span class=mf>0.6</span><span class=p>),</span>  <span class=c1># 0.8-0.6 kW/server (inefficient cooling)</span>
</span><span id=__span-3-13><a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.6</span><span class=p>,</span> <span class=mf>0.4</span><span class=p>),</span>  <span class=c1># 0.6-0.4 kW/server (optimal efficiency)</span>
</span><span id=__span-3-14><a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.4</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>),</span>  <span class=c1># 0.4-0.5 kW/server (thermal limits)</span>
</span><span id=__span-3-15><a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a>            <span class=p>]</span>
</span><span id=__span-3-16><a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a>        <span class=p>),</span>
</span><span id=__span-3-17><a id=__codelineno-3-17 name=__codelineno-3-17 href=#__codelineno-3-17></a>        <span class=s1>&#39;cooling_overhead&#39;</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-3-18><a id=__codelineno-3-18 name=__codelineno-3-18 href=#__codelineno-3-18></a>            <span class=p>[</span>
</span><span id=__span-3-19><a id=__codelineno-3-19 name=__codelineno-3-19 href=#__codelineno-3-19></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.4</span><span class=p>,</span> <span class=mf>0.3</span><span class=p>),</span>  <span class=c1># 40%-30% cooling overhead</span>
</span><span id=__span-3-20><a id=__codelineno-3-20 name=__codelineno-3-20 href=#__codelineno-3-20></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.3</span><span class=p>,</span> <span class=mf>0.2</span><span class=p>),</span>  <span class=c1># 30%-20% cooling overhead</span>
</span><span id=__span-3-21><a id=__codelineno-3-21 name=__codelineno-3-21 href=#__codelineno-3-21></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.2</span><span class=p>,</span> <span class=mf>0.25</span><span class=p>),</span>  <span class=c1># 20%-25% cooling overhead</span>
</span><span id=__span-3-22><a id=__codelineno-3-22 name=__codelineno-3-22 href=#__codelineno-3-22></a>            <span class=p>]</span>
</span><span id=__span-3-23><a id=__codelineno-3-23 name=__codelineno-3-23 href=#__codelineno-3-23></a>        <span class=p>),</span>
</span><span id=__span-3-24><a id=__codelineno-3-24 name=__codelineno-3-24 href=#__codelineno-3-24></a>    <span class=p>},</span>
</span><span id=__span-3-25><a id=__codelineno-3-25 name=__codelineno-3-25 href=#__codelineno-3-25></a><span class=p>)</span>
</span></code></pre></div> <details class=design-patterns open> <summary>Design Patterns</summary> <p><strong>Economies of Scale</strong>: Decreasing unit costs/impacts with increased scale <strong>Learning Curves</strong>: Improving efficiency rates with experience/volume <strong>Threshold Effects</strong>: Step changes in rates at specific operating levels <strong>Progressive Pricing</strong>: Increasing rates for higher consumption levels <strong>Capacity Utilization</strong>: Optimal efficiency at design points, penalties at extremes</p> </details> <details class=common-use-cases open> <summary>Common Use Cases</summary> <ul> <li>Manufacturing: Production scaling, learning effects, quality improvements</li> <li>Energy systems: Generator efficiency curves, renewable capacity factors</li> <li>Logistics: Transportation rates, warehouse utilization, delivery optimization</li> <li>Utilities: Progressive pricing, infrastructure cost allocation</li> <li>Financial services: Risk premiums, transaction fees, volume discounts</li> <li>Environmental modeling: Pollution intensity, resource consumption rates</li> </ul> </details> <div class="doc doc-children"> <h4 id=flixopt.commons.PiecewiseEffects-functions>Functions<a href=#flixopt.commons.PiecewiseEffects-functions class=headerlink title="Anchor link to this section">&para;</a></h4> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.PiecewiseEffects.to_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_dataset</span> <a href=#flixopt.commons.PiecewiseEffects.to_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_dataset</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>Dataset</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Convert the object to an xarray Dataset representation. All DataArrays become dataset variables, everything else goes to attrs.</p> <p>Its recommended to only call this method on Interfaces with all numeric data stored as xr.DataArrays. Interfaces inside a FlowSystem are automatically converted this form after connecting and transforming the FlowSystem.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>xr.Dataset: Dataset containing all DataArrays with basic objects only in attributes</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails due to naming conflicts or invalid data</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.PiecewiseEffects.to_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_netcdf</span> <a href=#flixopt.commons.PiecewiseEffects.to_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>,</span> <span class=n>compression</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to save the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>compression</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Compression level (0-9)</p> </div> </td> <td> <code>0</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.PiecewiseEffects.from_dataset class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_dataset</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.PiecewiseEffects.from_dataset class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_dataset</span><span class=p>(</span><span class=n>ds</span><span class=p>:</span> <span class=n>Dataset</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create an instance from an xarray Dataset.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ds</code> </td> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>Dataset containing the object data</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If dataset format is invalid or class mismatch</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.PiecewiseEffects.from_netcdf class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">from_netcdf</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#flixopt.commons.PiecewiseEffects.from_netcdf class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>from_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Load an instance from a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be read</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If file format is invalid</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.PiecewiseEffects.get_structure class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">get_structure</span> <a href=#flixopt.commons.PiecewiseEffects.get_structure class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_structure</span><span class=p>(</span><span class=n>clean</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>stats</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Get object structure as a dictionary.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>clean</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, remove None and empty dicts and lists.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>stats</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, replace DataArray references with statistics</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a></code> </td> <td> <div class=doc-md-description> <p>Dictionary representation of the object structure</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.PiecewiseEffects.to_json class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">to_json</span> <a href=#flixopt.commons.PiecewiseEffects.to_json class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_json</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Save the object to a JSON file. This is meant for documentation and comparison, not for reloading.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>The path to the JSON file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 id=flixopt.commons.PiecewiseEffects.copy class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">copy</span> <a href=#flixopt.commons.PiecewiseEffects.copy class=headerlink title="Anchor link to this section">&para;</a></h5> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>copy</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Create a copy of the Interface object.</p> <p>Uses the existing serialization infrastructure to ensure proper copying of all DataArrays and nested objects.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>A new instance of the same class with copied data.</p> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <h2 id=flixopt.commons-functions>Functions<a href=#flixopt.commons-functions class=headerlink title="Anchor link to this section">&para;</a></h2> <div class="doc doc-object doc-function"> <h3 id=flixopt.commons.change_logging_level class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">change_logging_level</span> <a href=#flixopt.commons.change_logging_level class=headerlink title="Anchor link to this section">&para;</a></h3> <div class="language-python doc-signature highlight"><span class=filename>Python</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>change_logging_level</span><span class=p>(</span><span class=n>level_name</span><span class=p>:</span> <span class=n>Literal</span><span class=p>[</span><span class=s1>&#39;DEBUG&#39;</span><span class=p>,</span> <span class=s1>&#39;INFO&#39;</span><span class=p>,</span> <span class=s1>&#39;WARNING&#39;</span><span class=p>,</span> <span class=s1>&#39;ERROR&#39;</span><span class=p>,</span> <span class=s1>&#39;CRITICAL&#39;</span><span class=p>])</span>
</span></code></pre></div> <div class="doc doc-contents "> <p>Change the logging level for the flixopt logger and all its handlers.</p> <p>.. deprecated:: 2.1.11 Use <code>CONFIG.Logging.level = level_name</code> and <code>CONFIG.apply()</code> instead. This function will be removed in version 3.0.0.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>level_name</code> </td> <td> <code><a class="autorefs autorefs-external" title="<code>typing.Literal</code>" href=https://docs.python.org/3/library/typing.html#typing.Literal>Literal</a>[&#39;DEBUG&#39;, &#39;INFO&#39;, &#39;WARNING&#39;, &#39;ERROR&#39;, &#39;CRITICAL&#39;]</code> </td> <td> <div class=doc-md-description> <p>The logging level to set.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><span class=filename>Python Console Session</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>change_logging_level</span><span class=p>(</span><span class=s1>&#39;DEBUG&#39;</span><span class=p>)</span>  <span class=c1># deprecated</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Use this instead:</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>CONFIG</span><span class=o>.</span><span class=n>Logging</span><span class=o>.</span><span class=n>level</span> <span class=o>=</span> <span class=s1>&#39;DEBUG&#39;</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>CONFIG</span><span class=o>.</span><span class=n>apply</span><span class=p>()</span>
</span></code></pre></div> </div> </div> </div> </div> </div> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="October 29, 2025 12:11:28 UTC"><span class=timeago datetime=2025-10-29T12:11:28+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="October 29, 2025 12:11:28 UTC">2025-10-29</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Created> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="October 29, 2025 12:11:28 UTC"><span class=timeago datetime=2025-10-29T12:11:28+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="October 29, 2025 12:11:28 UTC">2025-10-29</span> </span> </aside> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> Was this page helpful? </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title="This page was helpful" data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title="This page could be improved" data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> Thanks for your feedback! </div> <div data-md-value=0 hidden> Thanks for your feedback! Help us improve by <a href=https://github.com/flixOpt/flixopt/issues/new target=_blank rel=noopener>opening an issue</a>. </div> </div> </div> </fieldset> </form> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../color_processing/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Color processing"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Color processing </div> </div> </a> <a href=../components/ class="md-footer__link md-footer__link--next" aria-label="Next: Components"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Components </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/flixOpt/flixopt target=_blank rel=noopener title="flixOpt on GitHub" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://pypi.org/project/flixopt/ target=_blank rel=noopener title="flixOpt on PyPI" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 444.7a20.4 20.4 0 1 1 0-40.7 20.4 20.4 0 1 1 0 40.7M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.6-183.4a20.4 20.4 0 1 1 0 40.8 20.4 20.4 0 1 1 0-40.8"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.instant", "navigation.instant.progress", "navigation.instant.prefetch", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.path", "navigation.prune", "navigation.indexes", "navigation.top", "navigation.footer", "toc.follow", "toc.integrate", "search.suggest", "search.highlight", "search.share", "content.action.edit", "content.action.view", "content.code.copy", "content.code.select", "content.code.annotate", "content.tooltips", "content.tabs.link", "announce.dismiss"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"alias": true, "default": "latest", "provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.f55a23d4.min.js></script> <script src=../../js/timeago.min.js></script> <script src=../../js/timeago_mkdocs_material.js></script> <script src=../../javascripts/mathjax.js></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> </body> </html>