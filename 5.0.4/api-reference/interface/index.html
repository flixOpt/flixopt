<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Energy and Material Flow Optimization Framework"><link href=https://flixopt.github.io/flixopt/5.0.4/api-reference/interface/ rel=canonical><link href=../flow_system/ rel=prev><link href=../io/ rel=next><link rel=icon href=../../images/flixopt-icon.svg><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>Interface - flixopt</title><link rel=stylesheet href=../../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ab4e12ef.min.css><style>:root{--md-annotation-icon:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M17%2013h-4v4h-2v-4H7v-2h4V7h2v4h4m-5-9A10%2010%200%200%200%202%2012a10%2010%200%200%200%2010%2010%2010%2010%200%200%200%2010-10A10%2010%200%200%200%2012%202%22/%3E%3C/svg%3E');}</style><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Fira Code"}</style><link rel=stylesheet href=../../css/timeago.css><link rel=stylesheet href=../../assets/_mkdocstrings.css><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",""),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#flixopt.interface class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title=flixopt class="md-header__button md-logo" aria-label=flixopt data-md-component=logo> <img src=../../images/flixopt-icon.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> flixopt </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Interface </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=teal data-md-color-accent=cyan aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=teal data-md-color-accent=cyan aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/flixOpt/flixopt title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> flixOpt/flixopt </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../user-guide/ class=md-tabs__link> User Guide </a> </li> <li class=md-tabs__item> <a href=../../notebooks/ class=md-tabs__link> Examples </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../ class=md-tabs__link> API Reference </a> </li> <li class=md-tabs__item> <a href=../../contribute/ class=md-tabs__link> Contributing </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=flixopt class="md-nav__button md-logo" aria-label=flixopt data-md-component=logo> <img src=../../images/flixopt-icon.svg alt=logo> </a> flixopt </label> <div class=md-nav__source> <a href=https://github.com/flixOpt/flixopt title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> flixOpt/flixopt </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../user-guide/ class=md-nav__link> <span class=md-ellipsis> User Guide </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../notebooks/ class=md-nav__link> <span class=md-ellipsis> Examples </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> API Reference </span> </a> <label class="md-nav__link " for=__nav_4 id=__nav_4_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> API Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../carrier/ class=md-nav__link> <span class=md-ellipsis> Carrier </span> </a> </li> <li class=md-nav__item> <a href=../clustering/ class=md-nav__link> <span class=md-ellipsis> Clustering </span> </a> </li> <li class=md-nav__item> <a href=../color_processing/ class=md-nav__link> <span class=md-ellipsis> Color processing </span> </a> </li> <li class=md-nav__item> <a href=../components/ class=md-nav__link> <span class=md-ellipsis> Components </span> </a> </li> <li class=md-nav__item> <a href=../config/ class=md-nav__link> <span class=md-ellipsis> Config </span> </a> </li> <li class=md-nav__item> <a href=../core/ class=md-nav__link> <span class=md-ellipsis> Core </span> </a> </li> <li class=md-nav__item> <a href=../effects/ class=md-nav__link> <span class=md-ellipsis> Effects </span> </a> </li> <li class=md-nav__item> <a href=../elements/ class=md-nav__link> <span class=md-ellipsis> Elements </span> </a> </li> <li class=md-nav__item> <a href=../features/ class=md-nav__link> <span class=md-ellipsis> Features </span> </a> </li> <li class=md-nav__item> <a href=../flow_system/ class=md-nav__link> <span class=md-ellipsis> Flow system </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Interface </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Interface </span> </a> <nav class="md-nav md-nav--secondary" aria-label="On this page"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> On this page </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#flixopt.interface-attributes class=md-nav__link> <span class=md-ellipsis> Attributes </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.interface-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#flixopt.interface.Piece class=md-nav__link> <span class=md-ellipsis> Piece </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.interface.Piecewise class=md-nav__link> <span class=md-ellipsis> Piecewise </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.interface.PiecewiseConversion class=md-nav__link> <span class=md-ellipsis> PiecewiseConversion </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.interface.PiecewiseEffects class=md-nav__link> <span class=md-ellipsis> PiecewiseEffects </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.interface.InvestParameters class=md-nav__link> <span class=md-ellipsis> InvestParameters </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.interface.StatusParameters class=md-nav__link> <span class=md-ellipsis> StatusParameters </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#flixopt.interface-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../io/ class=md-nav__link> <span class=md-ellipsis> Io </span> </a> </li> <li class=md-nav__item> <a href=../linear_converters/ class=md-nav__link> <span class=md-ellipsis> Linear converters </span> </a> </li> <li class=md-nav__item> <a href=../modeling/ class=md-nav__link> <span class=md-ellipsis> Modeling </span> </a> </li> <li class=md-nav__item> <a href=../network_app/ class=md-nav__link> <span class=md-ellipsis> Network app </span> </a> </li> <li class=md-nav__item> <a href=../optimization/ class=md-nav__link> <span class=md-ellipsis> Optimization </span> </a> </li> <li class=md-nav__item> <a href=../optimize_accessor/ class=md-nav__link> <span class=md-ellipsis> Optimize accessor </span> </a> </li> <li class=md-nav__item> <a href=../plot_result/ class=md-nav__link> <span class=md-ellipsis> Plot result </span> </a> </li> <li class=md-nav__item> <a href=../plotting/ class=md-nav__link> <span class=md-ellipsis> Plotting </span> </a> </li> <li class=md-nav__item> <a href=../results/ class=md-nav__link> <span class=md-ellipsis> Results </span> </a> </li> <li class=md-nav__item> <a href=../solvers/ class=md-nav__link> <span class=md-ellipsis> Solvers </span> </a> </li> <li class=md-nav__item> <a href=../statistics_accessor/ class=md-nav__link> <span class=md-ellipsis> Statistics accessor </span> </a> </li> <li class=md-nav__item> <a href=../structure/ class=md-nav__link> <span class=md-ellipsis> Structure </span> </a> </li> <li class=md-nav__item> <a href=../topology_accessor/ class=md-nav__link> <span class=md-ellipsis> Topology accessor </span> </a> </li> <li class=md-nav__item> <a href=../transform_accessor/ class=md-nav__link> <span class=md-ellipsis> Transform accessor </span> </a> </li> <li class=md-nav__item> <a href=../types/ class=md-nav__link> <span class=md-ellipsis> Types </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../contribute/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="On this page"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> On this page </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#flixopt.interface-attributes class=md-nav__link> <span class=md-ellipsis> Attributes </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.interface-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#flixopt.interface.Piece class=md-nav__link> <span class=md-ellipsis> Piece </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.interface.Piecewise class=md-nav__link> <span class=md-ellipsis> Piecewise </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.interface.PiecewiseConversion class=md-nav__link> <span class=md-ellipsis> PiecewiseConversion </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.interface.PiecewiseEffects class=md-nav__link> <span class=md-ellipsis> PiecewiseEffects </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.interface.InvestParameters class=md-nav__link> <span class=md-ellipsis> InvestParameters </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.interface.StatusParameters class=md-nav__link> <span class=md-ellipsis> StatusParameters </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#flixopt.interface-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/flixOpt/flixopt/edit/main/docs/flixopt/interface.py title="Edit this page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg> </a> <a href=https://github.com/flixOpt/flixopt/raw/main/docs/flixopt/interface.py title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5"/></svg> </a> <div class="doc doc-object doc-module"> <h1 class="doc doc-heading" id=flixopt.interface> <span class="doc doc-object-name doc-module-name">flixopt.interface</span> <a class=headerlink href=#flixopt.interface title="Anchor link to this section">¶</a></h1> <div class="doc doc-contents first"> <p>This module contains classes to collect Parameters for the Investment and Status decisions. These are tightly connected to features.py</p> <div class="doc doc-children"> <h2 id=flixopt.interface-attributes>Attributes<a class=headerlink href=#flixopt.interface-attributes title="Anchor link to this section">¶</a></h2> <h2 id=flixopt.interface-classes>Classes<a class=headerlink href=#flixopt.interface-classes title="Anchor link to this section">¶</a></h2> <div class="doc doc-object doc-class"> <h3 class="doc doc-heading" id=flixopt.interface.Piece> <span class="doc doc-object-name doc-class-name">Piece</span> <a class=headerlink href=#flixopt.interface.Piece title="Anchor link to this section">¶</a></h3> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>Piece</span><span class=p>(</span><span class=n>start</span><span class=p>:</span> <span class=n>Numeric_TPS</span><span class=p>,</span> <span class=n>end</span><span class=p>:</span> <span class=n>Numeric_TPS</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents"> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code></p> <p>Define a single linear segment with specified domain boundaries.</p> <p>This class represents one linear segment that will be combined with other pieces to form complete piecewise linear functions. Each piece defines a domain interval [start, end] where a linear relationship applies.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>start</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Numeric_TPS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.types.Numeric_TPS</code>)' href=../types/#flixopt.types.Numeric_TPS>Numeric_TPS</a></code> </td> <td> <div class=doc-md-description> <p>Lower bound of the domain interval for this linear segment. Can be scalar values or time series arrays for time-varying boundaries.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>end</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Numeric_TPS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.types.Numeric_TPS</code>)' href=../types/#flixopt.types.Numeric_TPS>Numeric_TPS</a></code> </td> <td> <div class=doc-md-description> <p>Upper bound of the domain interval for this linear segment. Can be scalar values or time series arrays for time-varying boundaries.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <p>Basic piece for equipment efficiency curve:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=c1># Single segment from 40% to 80% load</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=n>efficiency_segment</span> <span class=o>=</span> <span class=n>Piece</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=mi>40</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=mi>80</span><span class=p>)</span>
</span></code></pre></div> <p>Piece with time-varying boundaries:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-1-1><a href=#__codelineno-1-1 id=__codelineno-1-1 name=__codelineno-1-1></a><span class=c1># Capacity limits that change seasonally</span>
</span><span id=__span-1-2><a href=#__codelineno-1-2 id=__codelineno-1-2 name=__codelineno-1-2></a><span class=n>seasonal_piece</span> <span class=o>=</span> <span class=n>Piece</span><span class=p>(</span>
</span><span id=__span-1-3><a href=#__codelineno-1-3 id=__codelineno-1-3 name=__codelineno-1-3></a>    <span class=n>start</span><span class=o>=</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>10</span><span class=p>,</span> <span class=mi>20</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=mi>25</span><span class=p>]),</span>  <span class=c1># Minimum capacity by season</span>
</span><span id=__span-1-4><a href=#__codelineno-1-4 id=__codelineno-1-4 name=__codelineno-1-4></a>    <span class=n>end</span><span class=o>=</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>80</span><span class=p>,</span> <span class=mi>100</span><span class=p>,</span> <span class=mi>90</span><span class=p>,</span> <span class=mi>70</span><span class=p>]),</span>  <span class=c1># Maximum capacity by season</span>
</span><span id=__span-1-5><a href=#__codelineno-1-5 id=__codelineno-1-5 name=__codelineno-1-5></a><span class=p>)</span>
</span></code></pre></div> <p>Fixed operating point (start equals end):</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-2-1><a href=#__codelineno-2-1 id=__codelineno-2-1 name=__codelineno-2-1></a><span class=c1># Equipment that operates at exactly 50 MW</span>
</span><span id=__span-2-2><a href=#__codelineno-2-2 id=__codelineno-2-2 name=__codelineno-2-2></a><span class=n>fixed_output</span> <span class=o>=</span> <span class=n>Piece</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=mi>50</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=mi>50</span><span class=p>)</span>
</span></code></pre></div> <details class=note open> <summary>Note</summary> <p>Individual pieces are building blocks that gain meaning when combined into Piecewise functions. See the Piecewise class for information about how pieces interact and relate to each other.</p> </details> <div class="doc doc-children"> <h4 id=flixopt.interface.Piece-attributes>Attributes<a class=headerlink href=#flixopt.interface.Piece-attributes title="Anchor link to this section">¶</a></h4> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.interface.Piece.prefix> <span class="doc doc-object-name doc-attribute-name">prefix</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.interface.Piece.prefix title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>prefix</span><span class=p>:</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>The prefix used for naming transformed data (e.g., 'Boiler(Q_th)|status_parameters').</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.interface.Piece.flow_system> <span class="doc doc-object-name doc-attribute-name">flow_system</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.interface.Piece.flow_system title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>flow_system</span><span class=p>:</span> <span class=n>FlowSystem</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Access the FlowSystem this interface is linked to.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=../flow_system/#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>The FlowSystem instance this interface belongs to.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#RuntimeError>RuntimeError</a></code> </td> <td> <div class=doc-md-description> <p>If interface has not been linked to a FlowSystem yet.</p> </div> </td> </tr> </tbody> </table> <details class=note open> <summary>Note</summary> <p>For Elements, this is set during add_elements(). For parameter classes, this is set recursively when the parent Element is registered.</p> </details> </div> </div> <h4 id=flixopt.interface.Piece-functions>Functions<a class=headerlink href=#flixopt.interface.Piece-functions title="Anchor link to this section">¶</a></h4> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.Piece.link_to_flow_system> <span class="doc doc-object-name doc-function-name">link_to_flow_system</span> <a class=headerlink href=#flixopt.interface.Piece.link_to_flow_system title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>link_to_flow_system</span><span class=p>(</span><span class=n>flow_system</span><span class=p>:</span> <span class=n>FlowSystem</span><span class=p>,</span> <span class=n>prefix</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>''</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Link this interface and all nested interfaces to a FlowSystem.</p> <p>This method is called automatically during element registration to enable elements to access FlowSystem properties without passing the reference through every method call. It also sets the prefix used for naming transformed data.</p> <p>Subclasses with nested Interface objects should override this method to propagate the link to their nested interfaces by calling <code>super().link_to_flow_system(flow_system, prefix)</code> first, then linking nested objects with appropriate prefixes.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>flow_system</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=../flow_system/#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>The FlowSystem to link to</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prefix</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>The prefix for naming transformed data (e.g., 'Boiler(Q_th)')</p> </div> </td> <td> <code>''</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <p>Override in a subclass with nested interfaces:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=k>def</span><span class=w> </span><span class=nf>link_to_flow_system</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>flow_system</span><span class=p>,</span> <span class=n>prefix</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>''</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>link_to_flow_system</span><span class=p>(</span><span class=n>flow_system</span><span class=p>,</span> <span class=n>prefix</span><span class=p>)</span>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>nested_interface</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-4><a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a>        <span class=bp>self</span><span class=o>.</span><span class=n>nested_interface</span><span class=o>.</span><span class=n>link_to_flow_system</span><span class=p>(</span><span class=n>flow_system</span><span class=p>,</span> <span class=sa>f</span><span class=s1>'</span><span class=si>{</span><span class=n>prefix</span><span class=si>}</span><span class=s1>|nested'</span> <span class=k>if</span> <span class=n>prefix</span> <span class=k>else</span> <span class=s1>'nested'</span><span class=p>)</span>
</span></code></pre></div> <p>Creating an Interface dynamically during modeling:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-1-1><a href=#__codelineno-1-1 id=__codelineno-1-1 name=__codelineno-1-1></a><span class=c1># In a Model class</span>
</span><span id=__span-1-2><a href=#__codelineno-1-2 id=__codelineno-1-2 name=__codelineno-1-2></a><span class=k>if</span> <span class=n>flow</span><span class=o>.</span><span class=n>status_parameters</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-1-3><a href=#__codelineno-1-3 id=__codelineno-1-3 name=__codelineno-1-3></a>    <span class=n>flow</span><span class=o>.</span><span class=n>status_parameters</span> <span class=o>=</span> <span class=n>StatusParameters</span><span class=p>()</span>
</span><span id=__span-1-4><a href=#__codelineno-1-4 id=__codelineno-1-4 name=__codelineno-1-4></a>    <span class=n>flow</span><span class=o>.</span><span class=n>status_parameters</span><span class=o>.</span><span class=n>link_to_flow_system</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_model</span><span class=o>.</span><span class=n>flow_system</span><span class=p>,</span> <span class=sa>f</span><span class=s1>'</span><span class=si>{</span><span class=n>flow</span><span class=o>.</span><span class=n>label_full</span><span class=si>}</span><span class=s1>'</span><span class=p>)</span>
</span></code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.Piece.to_dataset> <span class="doc doc-object-name doc-function-name">to_dataset</span> <a class=headerlink href=#flixopt.interface.Piece.to_dataset title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>to_dataset</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>Dataset</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Convert the object to an xarray Dataset representation. All DataArrays become dataset variables, everything else goes to attrs.</p> <p>Its recommended to only call this method on Interfaces with all numeric data stored as xr.DataArrays. Interfaces inside a FlowSystem are automatically converted this form after connecting and transforming the FlowSystem.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>xr.Dataset: Dataset containing all DataArrays with basic objects only in attributes</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails due to naming conflicts or invalid data</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.Piece.to_netcdf> <span class="doc doc-object-name doc-function-name">to_netcdf</span> <a class=headerlink href=#flixopt.interface.Piece.to_netcdf title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>to_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>,</span> <span class=n>compression</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>5</span><span class=p>,</span> <span class=n>overwrite</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Save the object to a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to save the NetCDF file. Parent directories are created if they don't exist.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>compression</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Compression level (0-9)</p> </div> </td> <td> <code>5</code> </td> </tr> <tr class=doc-section-item> <td> <code>overwrite</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, overwrite existing file. If False, raise error if file exists.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#FileExistsError>FileExistsError</a></code> </td> <td> <div class=doc-md-description> <p>If overwrite=False and file already exists.</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.Piece.from_dataset> <span class="doc doc-object-name doc-function-name">from_dataset</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a class=headerlink href=#flixopt.interface.Piece.from_dataset title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>from_dataset</span><span class=p>(</span><span class=n>ds</span><span class=p>:</span> <span class=n>Dataset</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Create an instance from an xarray Dataset.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ds</code> </td> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>Dataset containing the object data</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If dataset format is invalid or class mismatch</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.Piece.from_netcdf> <span class="doc doc-object-name doc-function-name">from_netcdf</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a class=headerlink href=#flixopt.interface.Piece.from_netcdf title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>from_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Load an instance from a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be read</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If file format is invalid</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.Piece.get_structure> <span class="doc doc-object-name doc-function-name">get_structure</span> <a class=headerlink href=#flixopt.interface.Piece.get_structure title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>get_structure</span><span class=p>(</span><span class=n>clean</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>stats</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Get object structure as a dictionary.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>clean</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, remove None and empty dicts and lists.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>stats</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, replace DataArray references with statistics</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a></code> </td> <td> <div class=doc-md-description> <p>Dictionary representation of the object structure</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.Piece.to_json> <span class="doc doc-object-name doc-function-name">to_json</span> <a class=headerlink href=#flixopt.interface.Piece.to_json title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>to_json</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Save the object to a JSON file. This is meant for documentation and comparison, not for reloading.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>The path to the JSON file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.Piece.copy> <span class="doc doc-object-name doc-function-name">copy</span> <a class=headerlink href=#flixopt.interface.Piece.copy title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>copy</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Create a copy of the Interface object.</p> <p>Uses the existing serialization infrastructure to ensure proper copying of all DataArrays and nested objects.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>A new instance of the same class with copied data.</p> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 class="doc doc-heading" id=flixopt.interface.Piecewise> <span class="doc doc-object-name doc-class-name">Piecewise</span> <a class=headerlink href=#flixopt.interface.Piecewise title="Anchor link to this section">¶</a></h3> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>Piecewise</span><span class=p>(</span><span class=n>pieces</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=n>Piece</span><span class=p>])</span>
</span></code></pre></div> <div class="doc doc-contents"> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code></p> <p>Define piecewise linear approximations for modeling non-linear relationships.</p> <p>Enables modeling of non-linear relationships through piecewise linear segments while maintaining problem linearity. Consists of a collection of Pieces that define valid ranges for variables.</p> <details class=mathematical-formulation open> <summary>Mathematical Formulation</summary> <p>See <a href=https://flixopt.github.io/flixopt/latest/user-guide/mathematical-notation/features/Piecewise/ >https://flixopt.github.io/flixopt/latest/user-guide/mathematical-notation/features/Piecewise/</a></p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>pieces</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Piece</span> (<code>flixopt.interface.Piece</code>)' href=#flixopt.interface.Piece>Piece</a>]</code> </td> <td> <div class=doc-md-description> <p>list of Piece objects defining the linear segments. The arrangement and relationships between pieces determine the function behavior: - Touching pieces (end of one = start of next) ensure continuity - Gaps between pieces create forbidden regions - Overlapping pieces provide an extra choice for the optimizer</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=piece-relationship-patterns open> <summary>Piece Relationship Patterns</summary> <p><strong>Touching Pieces (Continuous Function)</strong>: Pieces that share boundary points create smooth, continuous functions without gaps or overlaps.</p> <p><strong>Gaps Between Pieces (Forbidden Regions)</strong>: Non-contiguous pieces with gaps represent forbidden regions. For example minimum load requirements or safety zones.</p> <p><strong>Overlapping Pieces (Flexible Operation)</strong>: Pieces with overlapping domains provide optimization flexibility, allowing the solver to choose which segment to operate in.</p> </details> <p><span class=doc-section-title>Examples:</span></p> <p>Continuous efficiency curve (touching pieces):</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>efficiency_curve</span> <span class=o>=</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a>    <span class=p>[</span>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a>        <span class=n>Piece</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=mi>25</span><span class=p>),</span>  <span class=c1># Low load: 0-25 MW</span>
</span><span id=__span-0-4><a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a>        <span class=n>Piece</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=mi>25</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=mi>75</span><span class=p>),</span>  <span class=c1># Medium load: 25-75 MW (touches at 25)</span>
</span><span id=__span-0-5><a href=#__codelineno-0-5 id=__codelineno-0-5 name=__codelineno-0-5></a>        <span class=n>Piece</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=mi>75</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=mi>100</span><span class=p>),</span>  <span class=c1># High load: 75-100 MW (touches at 75)</span>
</span><span id=__span-0-6><a href=#__codelineno-0-6 id=__codelineno-0-6 name=__codelineno-0-6></a>    <span class=p>]</span>
</span><span id=__span-0-7><a href=#__codelineno-0-7 id=__codelineno-0-7 name=__codelineno-0-7></a><span class=p>)</span>
</span></code></pre></div> <p>Equipment with forbidden operating range (gap):</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-1-1><a href=#__codelineno-1-1 id=__codelineno-1-1 name=__codelineno-1-1></a><span class=n>turbine_operation</span> <span class=o>=</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-1-2><a href=#__codelineno-1-2 id=__codelineno-1-2 name=__codelineno-1-2></a>    <span class=p>[</span>
</span><span id=__span-1-3><a href=#__codelineno-1-3 id=__codelineno-1-3 name=__codelineno-1-3></a>        <span class=n>Piece</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=mi>0</span><span class=p>),</span>  <span class=c1># Off state (point operation)</span>
</span><span id=__span-1-4><a href=#__codelineno-1-4 id=__codelineno-1-4 name=__codelineno-1-4></a>        <span class=n>Piece</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=mi>40</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=mi>100</span><span class=p>),</span>  <span class=c1># Operating range (gap: 0-40 forbidden)</span>
</span><span id=__span-1-5><a href=#__codelineno-1-5 id=__codelineno-1-5 name=__codelineno-1-5></a>    <span class=p>]</span>
</span><span id=__span-1-6><a href=#__codelineno-1-6 id=__codelineno-1-6 name=__codelineno-1-6></a><span class=p>)</span>
</span></code></pre></div> <p>Flexible operation with overlapping options:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-2-1><a href=#__codelineno-2-1 id=__codelineno-2-1 name=__codelineno-2-1></a><span class=n>flexible_operation</span> <span class=o>=</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-2-2><a href=#__codelineno-2-2 id=__codelineno-2-2 name=__codelineno-2-2></a>    <span class=p>[</span>
</span><span id=__span-2-3><a href=#__codelineno-2-3 id=__codelineno-2-3 name=__codelineno-2-3></a>        <span class=n>Piece</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=mi>60</span><span class=p>),</span>  <span class=c1># Standard efficiency mode</span>
</span><span id=__span-2-4><a href=#__codelineno-2-4 id=__codelineno-2-4 name=__codelineno-2-4></a>        <span class=n>Piece</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=mi>50</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=mi>90</span><span class=p>),</span>  <span class=c1># High efficiency mode (overlap: 50-60)</span>
</span><span id=__span-2-5><a href=#__codelineno-2-5 id=__codelineno-2-5 name=__codelineno-2-5></a>    <span class=p>]</span>
</span><span id=__span-2-6><a href=#__codelineno-2-6 id=__codelineno-2-6 name=__codelineno-2-6></a><span class=p>)</span>
</span></code></pre></div> <p>Tiered pricing structure:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-3-1><a href=#__codelineno-3-1 id=__codelineno-3-1 name=__codelineno-3-1></a><span class=n>electricity_pricing</span> <span class=o>=</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-3-2><a href=#__codelineno-3-2 id=__codelineno-3-2 name=__codelineno-3-2></a>    <span class=p>[</span>
</span><span id=__span-3-3><a href=#__codelineno-3-3 id=__codelineno-3-3 name=__codelineno-3-3></a>        <span class=n>Piece</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=mi>100</span><span class=p>),</span>  <span class=c1># Tier 1: 0-100 kWh</span>
</span><span id=__span-3-4><a href=#__codelineno-3-4 id=__codelineno-3-4 name=__codelineno-3-4></a>        <span class=n>Piece</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=mi>500</span><span class=p>),</span>  <span class=c1># Tier 2: 100-500 kWh</span>
</span><span id=__span-3-5><a href=#__codelineno-3-5 id=__codelineno-3-5 name=__codelineno-3-5></a>        <span class=n>Piece</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=mi>500</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=mi>1000</span><span class=p>),</span>  <span class=c1># Tier 3: 500-1000 kWh</span>
</span><span id=__span-3-6><a href=#__codelineno-3-6 id=__codelineno-3-6 name=__codelineno-3-6></a>    <span class=p>]</span>
</span><span id=__span-3-7><a href=#__codelineno-3-7 id=__codelineno-3-7 name=__codelineno-3-7></a><span class=p>)</span>
</span></code></pre></div> <p>Seasonal capacity variation:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-4-1><a href=#__codelineno-4-1 id=__codelineno-4-1 name=__codelineno-4-1></a><span class=n>seasonal_capacity</span> <span class=o>=</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-4-2><a href=#__codelineno-4-2 id=__codelineno-4-2 name=__codelineno-4-2></a>    <span class=p>[</span>
</span><span id=__span-4-3><a href=#__codelineno-4-3 id=__codelineno-4-3 name=__codelineno-4-3></a>        <span class=n>Piece</span><span class=p>(</span><span class=n>start</span><span class=o>=</span><span class=p>[</span><span class=mi>10</span><span class=p>,</span> <span class=mi>15</span><span class=p>,</span> <span class=mi>20</span><span class=p>,</span> <span class=mi>12</span><span class=p>],</span> <span class=n>end</span><span class=o>=</span><span class=p>[</span><span class=mi>80</span><span class=p>,</span> <span class=mi>90</span><span class=p>,</span> <span class=mi>85</span><span class=p>,</span> <span class=mi>75</span><span class=p>]),</span>  <span class=c1># Varies by time</span>
</span><span id=__span-4-4><a href=#__codelineno-4-4 id=__codelineno-4-4 name=__codelineno-4-4></a>    <span class=p>]</span>
</span><span id=__span-4-5><a href=#__codelineno-4-5 id=__codelineno-4-5 name=__codelineno-4-5></a><span class=p>)</span>
</span></code></pre></div> <details class=container-operations open> <summary>Container Operations</summary> <p>The Piecewise class supports standard Python container operations:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>piecewise</span> <span class=o>=</span> <span class=n>Piecewise</span><span class=p>([</span><span class=n>piece1</span><span class=p>,</span> <span class=n>piece2</span><span class=p>,</span> <span class=n>piece3</span><span class=p>])</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a><span class=nb>len</span><span class=p>(</span><span class=n>piecewise</span><span class=p>)</span>  <span class=c1># Returns number of pieces (3)</span>
</span><span id=__span-0-4><a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a><span class=n>piecewise</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>  <span class=c1># Access first piece</span>
</span><span id=__span-0-5><a href=#__codelineno-0-5 id=__codelineno-0-5 name=__codelineno-0-5></a><span class=k>for</span> <span class=n>piece</span> <span class=ow>in</span> <span class=n>piecewise</span><span class=p>:</span>  <span class=c1># Iterate over all pieces</span>
</span><span id=__span-0-6><a href=#__codelineno-0-6 id=__codelineno-0-6 name=__codelineno-0-6></a>    <span class=nb>print</span><span class=p>(</span><span class=n>piece</span><span class=o>.</span><span class=n>start</span><span class=p>,</span> <span class=n>piece</span><span class=o>.</span><span class=n>end</span><span class=p>)</span>
</span></code></pre></div> </details> <details class=validation-considerations open> <summary>Validation Considerations</summary> <ul> <li>Pieces are typically ordered by their start values</li> <li>Check for unintended gaps that might create infeasible regions</li> <li>Consider whether overlaps provide desired flexibility or create ambiguity</li> <li>Ensure time-varying pieces have consistent dimensions</li> </ul> </details> <details class=common-use-cases open> <summary>Common Use Cases</summary> <ul> <li>Power plants: Heat rate curves, efficiency vs load, emissions profiles</li> <li>HVAC systems: COP vs temperature, capacity vs conditions</li> <li>Industrial processes: Conversion rates vs throughput, quality vs speed</li> <li>Financial modeling: Tiered rates, progressive taxes, bulk discounts</li> <li>Transportation: Fuel efficiency curves, capacity vs speed</li> <li>Storage systems: Efficiency vs state of charge, power vs energy</li> <li>Renewable energy: Output vs weather conditions, curtailment strategies</li> </ul> </details> <div class="doc doc-children"> <h4 id=flixopt.interface.Piecewise-attributes>Attributes<a class=headerlink href=#flixopt.interface.Piecewise-attributes title="Anchor link to this section">¶</a></h4> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.interface.Piecewise.prefix> <span class="doc doc-object-name doc-attribute-name">prefix</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.interface.Piecewise.prefix title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>prefix</span><span class=p>:</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>The prefix used for naming transformed data (e.g., 'Boiler(Q_th)|status_parameters').</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.interface.Piecewise.flow_system> <span class="doc doc-object-name doc-attribute-name">flow_system</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.interface.Piecewise.flow_system title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>flow_system</span><span class=p>:</span> <span class=n>FlowSystem</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Access the FlowSystem this interface is linked to.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=../flow_system/#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>The FlowSystem instance this interface belongs to.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#RuntimeError>RuntimeError</a></code> </td> <td> <div class=doc-md-description> <p>If interface has not been linked to a FlowSystem yet.</p> </div> </td> </tr> </tbody> </table> <details class=note open> <summary>Note</summary> <p>For Elements, this is set during add_elements(). For parameter classes, this is set recursively when the parent Element is registered.</p> </details> </div> </div> <h4 id=flixopt.interface.Piecewise-functions>Functions<a class=headerlink href=#flixopt.interface.Piecewise-functions title="Anchor link to this section">¶</a></h4> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.Piecewise.link_to_flow_system> <span class="doc doc-object-name doc-function-name">link_to_flow_system</span> <a class=headerlink href=#flixopt.interface.Piecewise.link_to_flow_system title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>link_to_flow_system</span><span class=p>(</span><span class=n>flow_system</span><span class=p>,</span> <span class=n>prefix</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>''</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Propagate flow_system reference to nested Piece objects.</p> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.Piecewise.to_dataset> <span class="doc doc-object-name doc-function-name">to_dataset</span> <a class=headerlink href=#flixopt.interface.Piecewise.to_dataset title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>to_dataset</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>Dataset</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Convert the object to an xarray Dataset representation. All DataArrays become dataset variables, everything else goes to attrs.</p> <p>Its recommended to only call this method on Interfaces with all numeric data stored as xr.DataArrays. Interfaces inside a FlowSystem are automatically converted this form after connecting and transforming the FlowSystem.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>xr.Dataset: Dataset containing all DataArrays with basic objects only in attributes</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails due to naming conflicts or invalid data</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.Piecewise.to_netcdf> <span class="doc doc-object-name doc-function-name">to_netcdf</span> <a class=headerlink href=#flixopt.interface.Piecewise.to_netcdf title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>to_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>,</span> <span class=n>compression</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>5</span><span class=p>,</span> <span class=n>overwrite</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Save the object to a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to save the NetCDF file. Parent directories are created if they don't exist.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>compression</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Compression level (0-9)</p> </div> </td> <td> <code>5</code> </td> </tr> <tr class=doc-section-item> <td> <code>overwrite</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, overwrite existing file. If False, raise error if file exists.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#FileExistsError>FileExistsError</a></code> </td> <td> <div class=doc-md-description> <p>If overwrite=False and file already exists.</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.Piecewise.from_dataset> <span class="doc doc-object-name doc-function-name">from_dataset</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a class=headerlink href=#flixopt.interface.Piecewise.from_dataset title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>from_dataset</span><span class=p>(</span><span class=n>ds</span><span class=p>:</span> <span class=n>Dataset</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Create an instance from an xarray Dataset.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ds</code> </td> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>Dataset containing the object data</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If dataset format is invalid or class mismatch</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.Piecewise.from_netcdf> <span class="doc doc-object-name doc-function-name">from_netcdf</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a class=headerlink href=#flixopt.interface.Piecewise.from_netcdf title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>from_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Load an instance from a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be read</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If file format is invalid</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.Piecewise.get_structure> <span class="doc doc-object-name doc-function-name">get_structure</span> <a class=headerlink href=#flixopt.interface.Piecewise.get_structure title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>get_structure</span><span class=p>(</span><span class=n>clean</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>stats</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Get object structure as a dictionary.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>clean</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, remove None and empty dicts and lists.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>stats</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, replace DataArray references with statistics</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a></code> </td> <td> <div class=doc-md-description> <p>Dictionary representation of the object structure</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.Piecewise.to_json> <span class="doc doc-object-name doc-function-name">to_json</span> <a class=headerlink href=#flixopt.interface.Piecewise.to_json title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>to_json</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Save the object to a JSON file. This is meant for documentation and comparison, not for reloading.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>The path to the JSON file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.Piecewise.copy> <span class="doc doc-object-name doc-function-name">copy</span> <a class=headerlink href=#flixopt.interface.Piecewise.copy title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>copy</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Create a copy of the Interface object.</p> <p>Uses the existing serialization infrastructure to ensure proper copying of all DataArrays and nested objects.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>A new instance of the same class with copied data.</p> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 class="doc doc-heading" id=flixopt.interface.PiecewiseConversion> <span class="doc doc-object-name doc-class-name">PiecewiseConversion</span> <a class=headerlink href=#flixopt.interface.PiecewiseConversion title="Anchor link to this section">¶</a></h3> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>PiecewiseConversion</span><span class=p>(</span><span class=n>piecewises</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Piecewise</span><span class=p>])</span>
</span></code></pre></div> <div class="doc doc-contents"> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code></p> <p>Define coordinated piecewise linear relationships between multiple flows.</p> <p>This class models conversion processes where multiple flows (inputs, outputs, auxiliaries) have synchronized piecewise relationships. All flows change together based on the same operating point, enabling accurate modeling of complex equipment with variable performance characteristics.</p> <details class=multi-flow-coordination open> <summary>Multi-Flow Coordination</summary> <p>All piecewise functions must have matching piece structures (same number of pieces with compatible domains) to ensure synchronized operation. When the equipment operates at a given point, ALL flows scale proportionally within their respective pieces.</p> </details> <details class=mathematical-formulation open> <summary>Mathematical Formulation</summary> <p>See the complete mathematical model in the documentation: <a href=../../user-guide/mathematical-notation/features/Piecewise/ >Piecewise</a></p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>piecewises</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Piecewise</span> (<code>flixopt.interface.Piecewise</code>)' href=#flixopt.interface.Piecewise>Piecewise</a>]</code> </td> <td> <div class=doc-md-description> <p>Dictionary mapping flow labels to their Piecewise functions. Keys are flow identifiers (e.g., 'electricity_in', 'heat_out', 'fuel_consumed'). Values are Piecewise objects that define each flow's behavior. <strong>Critical Requirement</strong>: All Piecewise objects must have the same number of pieces with compatible domains to ensure consistent operation.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=operating-point-coordination open> <summary>Operating Point Coordination</summary> <p>When equipment operates at any point within a piece, all flows scale proportionally within their corresponding pieces. This ensures realistic equipment behavior where efficiency, consumption, and production rates all change together.</p> </details> <p><span class=doc-section-title>Examples:</span></p> <p>Heat pump with coordinated efficiency changes:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>heat_pump_pc</span> <span class=o>=</span> <span class=n>PiecewiseConversion</span><span class=p>(</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a>    <span class=p>{</span>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a>        <span class=s1>'electricity_in'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-0-4><a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a>            <span class=p>[</span>
</span><span id=__span-0-5><a href=#__codelineno-0-5 id=__codelineno-0-5 name=__codelineno-0-5></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>10</span><span class=p>),</span>  <span class=c1># Low load: 0-10 kW electricity</span>
</span><span id=__span-0-6><a href=#__codelineno-0-6 id=__codelineno-0-6 name=__codelineno-0-6></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>25</span><span class=p>),</span>  <span class=c1># High load: 10-25 kW electricity</span>
</span><span id=__span-0-7><a href=#__codelineno-0-7 id=__codelineno-0-7 name=__codelineno-0-7></a>            <span class=p>]</span>
</span><span id=__span-0-8><a href=#__codelineno-0-8 id=__codelineno-0-8 name=__codelineno-0-8></a>        <span class=p>),</span>
</span><span id=__span-0-9><a href=#__codelineno-0-9 id=__codelineno-0-9 name=__codelineno-0-9></a>        <span class=s1>'heat_out'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-0-10><a href=#__codelineno-0-10 id=__codelineno-0-10 name=__codelineno-0-10></a>            <span class=p>[</span>
</span><span id=__span-0-11><a href=#__codelineno-0-11 id=__codelineno-0-11 name=__codelineno-0-11></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>35</span><span class=p>),</span>  <span class=c1># Low load COP=3.5: 0-35 kW heat</span>
</span><span id=__span-0-12><a href=#__codelineno-0-12 id=__codelineno-0-12 name=__codelineno-0-12></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>35</span><span class=p>,</span> <span class=mi>75</span><span class=p>),</span>  <span class=c1># High load COP=3.0: 35-75 kW heat</span>
</span><span id=__span-0-13><a href=#__codelineno-0-13 id=__codelineno-0-13 name=__codelineno-0-13></a>            <span class=p>]</span>
</span><span id=__span-0-14><a href=#__codelineno-0-14 id=__codelineno-0-14 name=__codelineno-0-14></a>        <span class=p>),</span>
</span><span id=__span-0-15><a href=#__codelineno-0-15 id=__codelineno-0-15 name=__codelineno-0-15></a>        <span class=s1>'cooling_water'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-0-16><a href=#__codelineno-0-16 id=__codelineno-0-16 name=__codelineno-0-16></a>            <span class=p>[</span>
</span><span id=__span-0-17><a href=#__codelineno-0-17 id=__codelineno-0-17 name=__codelineno-0-17></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mf>2.5</span><span class=p>),</span>  <span class=c1># Low load: 0-2.5 m³/h cooling</span>
</span><span id=__span-0-18><a href=#__codelineno-0-18 id=__codelineno-0-18 name=__codelineno-0-18></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>2.5</span><span class=p>,</span> <span class=mi>6</span><span class=p>),</span>  <span class=c1># High load: 2.5-6 m³/h cooling</span>
</span><span id=__span-0-19><a href=#__codelineno-0-19 id=__codelineno-0-19 name=__codelineno-0-19></a>            <span class=p>]</span>
</span><span id=__span-0-20><a href=#__codelineno-0-20 id=__codelineno-0-20 name=__codelineno-0-20></a>        <span class=p>),</span>
</span><span id=__span-0-21><a href=#__codelineno-0-21 id=__codelineno-0-21 name=__codelineno-0-21></a>    <span class=p>}</span>
</span><span id=__span-0-22><a href=#__codelineno-0-22 id=__codelineno-0-22 name=__codelineno-0-22></a><span class=p>)</span>
</span><span id=__span-0-23><a href=#__codelineno-0-23 id=__codelineno-0-23 name=__codelineno-0-23></a><span class=c1># At 15 kW electricity → 52.5 kW heat + 3.75 m³/h cooling water</span>
</span></code></pre></div> <p>Combined cycle power plant with synchronized flows:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-1-1><a href=#__codelineno-1-1 id=__codelineno-1-1 name=__codelineno-1-1></a><span class=n>power_plant_pc</span> <span class=o>=</span> <span class=n>PiecewiseConversion</span><span class=p>(</span>
</span><span id=__span-1-2><a href=#__codelineno-1-2 id=__codelineno-1-2 name=__codelineno-1-2></a>    <span class=p>{</span>
</span><span id=__span-1-3><a href=#__codelineno-1-3 id=__codelineno-1-3 name=__codelineno-1-3></a>        <span class=s1>'natural_gas'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-1-4><a href=#__codelineno-1-4 id=__codelineno-1-4 name=__codelineno-1-4></a>            <span class=p>[</span>
</span><span id=__span-1-5><a href=#__codelineno-1-5 id=__codelineno-1-5 name=__codelineno-1-5></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>150</span><span class=p>,</span> <span class=mi>300</span><span class=p>),</span>  <span class=c1># Part load: 150-300 MW_th fuel</span>
</span><span id=__span-1-6><a href=#__codelineno-1-6 id=__codelineno-1-6 name=__codelineno-1-6></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>300</span><span class=p>,</span> <span class=mi>500</span><span class=p>),</span>  <span class=c1># Full load: 300-500 MW_th fuel</span>
</span><span id=__span-1-7><a href=#__codelineno-1-7 id=__codelineno-1-7 name=__codelineno-1-7></a>            <span class=p>]</span>
</span><span id=__span-1-8><a href=#__codelineno-1-8 id=__codelineno-1-8 name=__codelineno-1-8></a>        <span class=p>),</span>
</span><span id=__span-1-9><a href=#__codelineno-1-9 id=__codelineno-1-9 name=__codelineno-1-9></a>        <span class=s1>'electricity'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-1-10><a href=#__codelineno-1-10 id=__codelineno-1-10 name=__codelineno-1-10></a>            <span class=p>[</span>
</span><span id=__span-1-11><a href=#__codelineno-1-11 id=__codelineno-1-11 name=__codelineno-1-11></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>60</span><span class=p>,</span> <span class=mi>135</span><span class=p>),</span>  <span class=c1># Part load: 60-135 MW_e (45% efficiency)</span>
</span><span id=__span-1-12><a href=#__codelineno-1-12 id=__codelineno-1-12 name=__codelineno-1-12></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>135</span><span class=p>,</span> <span class=mi>250</span><span class=p>),</span>  <span class=c1># Full load: 135-250 MW_e (50% efficiency)</span>
</span><span id=__span-1-13><a href=#__codelineno-1-13 id=__codelineno-1-13 name=__codelineno-1-13></a>            <span class=p>]</span>
</span><span id=__span-1-14><a href=#__codelineno-1-14 id=__codelineno-1-14 name=__codelineno-1-14></a>        <span class=p>),</span>
</span><span id=__span-1-15><a href=#__codelineno-1-15 id=__codelineno-1-15 name=__codelineno-1-15></a>        <span class=s1>'steam_export'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-1-16><a href=#__codelineno-1-16 id=__codelineno-1-16 name=__codelineno-1-16></a>            <span class=p>[</span>
</span><span id=__span-1-17><a href=#__codelineno-1-17 id=__codelineno-1-17 name=__codelineno-1-17></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>20</span><span class=p>,</span> <span class=mi>35</span><span class=p>),</span>  <span class=c1># Part load: 20-35 MW_th steam</span>
</span><span id=__span-1-18><a href=#__codelineno-1-18 id=__codelineno-1-18 name=__codelineno-1-18></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>35</span><span class=p>,</span> <span class=mi>50</span><span class=p>),</span>  <span class=c1># Full load: 35-50 MW_th steam</span>
</span><span id=__span-1-19><a href=#__codelineno-1-19 id=__codelineno-1-19 name=__codelineno-1-19></a>            <span class=p>]</span>
</span><span id=__span-1-20><a href=#__codelineno-1-20 id=__codelineno-1-20 name=__codelineno-1-20></a>        <span class=p>),</span>
</span><span id=__span-1-21><a href=#__codelineno-1-21 id=__codelineno-1-21 name=__codelineno-1-21></a>        <span class=s1>'co2_emissions'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-1-22><a href=#__codelineno-1-22 id=__codelineno-1-22 name=__codelineno-1-22></a>            <span class=p>[</span>
</span><span id=__span-1-23><a href=#__codelineno-1-23 id=__codelineno-1-23 name=__codelineno-1-23></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>30</span><span class=p>,</span> <span class=mi>60</span><span class=p>),</span>  <span class=c1># Part load: 30-60 t/h CO2</span>
</span><span id=__span-1-24><a href=#__codelineno-1-24 id=__codelineno-1-24 name=__codelineno-1-24></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>60</span><span class=p>,</span> <span class=mi>100</span><span class=p>),</span>  <span class=c1># Full load: 60-100 t/h CO2</span>
</span><span id=__span-1-25><a href=#__codelineno-1-25 id=__codelineno-1-25 name=__codelineno-1-25></a>            <span class=p>]</span>
</span><span id=__span-1-26><a href=#__codelineno-1-26 id=__codelineno-1-26 name=__codelineno-1-26></a>        <span class=p>),</span>
</span><span id=__span-1-27><a href=#__codelineno-1-27 id=__codelineno-1-27 name=__codelineno-1-27></a>    <span class=p>}</span>
</span><span id=__span-1-28><a href=#__codelineno-1-28 id=__codelineno-1-28 name=__codelineno-1-28></a><span class=p>)</span>
</span></code></pre></div> <p>Chemical reactor with multiple products and waste:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-2-1><a href=#__codelineno-2-1 id=__codelineno-2-1 name=__codelineno-2-1></a><span class=n>reactor_pc</span> <span class=o>=</span> <span class=n>PiecewiseConversion</span><span class=p>(</span>
</span><span id=__span-2-2><a href=#__codelineno-2-2 id=__codelineno-2-2 name=__codelineno-2-2></a>    <span class=p>{</span>
</span><span id=__span-2-3><a href=#__codelineno-2-3 id=__codelineno-2-3 name=__codelineno-2-3></a>        <span class=s1>'feedstock'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-2-4><a href=#__codelineno-2-4 id=__codelineno-2-4 name=__codelineno-2-4></a>            <span class=p>[</span>
</span><span id=__span-2-5><a href=#__codelineno-2-5 id=__codelineno-2-5 name=__codelineno-2-5></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>50</span><span class=p>),</span>  <span class=c1># Small batch: 10-50 kg/h</span>
</span><span id=__span-2-6><a href=#__codelineno-2-6 id=__codelineno-2-6 name=__codelineno-2-6></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>50</span><span class=p>,</span> <span class=mi>200</span><span class=p>),</span>  <span class=c1># Large batch: 50-200 kg/h</span>
</span><span id=__span-2-7><a href=#__codelineno-2-7 id=__codelineno-2-7 name=__codelineno-2-7></a>            <span class=p>]</span>
</span><span id=__span-2-8><a href=#__codelineno-2-8 id=__codelineno-2-8 name=__codelineno-2-8></a>        <span class=p>),</span>
</span><span id=__span-2-9><a href=#__codelineno-2-9 id=__codelineno-2-9 name=__codelineno-2-9></a>        <span class=s1>'product_A'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-2-10><a href=#__codelineno-2-10 id=__codelineno-2-10 name=__codelineno-2-10></a>            <span class=p>[</span>
</span><span id=__span-2-11><a href=#__codelineno-2-11 id=__codelineno-2-11 name=__codelineno-2-11></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>7</span><span class=p>,</span> <span class=mi>35</span><span class=p>),</span>  <span class=c1># Small batch: 70% yield</span>
</span><span id=__span-2-12><a href=#__codelineno-2-12 id=__codelineno-2-12 name=__codelineno-2-12></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>35</span><span class=p>,</span> <span class=mi>140</span><span class=p>),</span>  <span class=c1># Large batch: 70% yield</span>
</span><span id=__span-2-13><a href=#__codelineno-2-13 id=__codelineno-2-13 name=__codelineno-2-13></a>            <span class=p>]</span>
</span><span id=__span-2-14><a href=#__codelineno-2-14 id=__codelineno-2-14 name=__codelineno-2-14></a>        <span class=p>),</span>
</span><span id=__span-2-15><a href=#__codelineno-2-15 id=__codelineno-2-15 name=__codelineno-2-15></a>        <span class=s1>'product_B'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-2-16><a href=#__codelineno-2-16 id=__codelineno-2-16 name=__codelineno-2-16></a>            <span class=p>[</span>
</span><span id=__span-2-17><a href=#__codelineno-2-17 id=__codelineno-2-17 name=__codelineno-2-17></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>10</span><span class=p>),</span>  <span class=c1># Small batch: 20% yield</span>
</span><span id=__span-2-18><a href=#__codelineno-2-18 id=__codelineno-2-18 name=__codelineno-2-18></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>45</span><span class=p>),</span>  <span class=c1># Large batch: 22.5% yield (improved)</span>
</span><span id=__span-2-19><a href=#__codelineno-2-19 id=__codelineno-2-19 name=__codelineno-2-19></a>            <span class=p>]</span>
</span><span id=__span-2-20><a href=#__codelineno-2-20 id=__codelineno-2-20 name=__codelineno-2-20></a>        <span class=p>),</span>
</span><span id=__span-2-21><a href=#__codelineno-2-21 id=__codelineno-2-21 name=__codelineno-2-21></a>        <span class=s1>'waste_stream'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-2-22><a href=#__codelineno-2-22 id=__codelineno-2-22 name=__codelineno-2-22></a>            <span class=p>[</span>
</span><span id=__span-2-23><a href=#__codelineno-2-23 id=__codelineno-2-23 name=__codelineno-2-23></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>5</span><span class=p>),</span>  <span class=c1># Small batch: 10% waste</span>
</span><span id=__span-2-24><a href=#__codelineno-2-24 id=__codelineno-2-24 name=__codelineno-2-24></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>15</span><span class=p>),</span>  <span class=c1># Large batch: 7.5% waste (efficiency)</span>
</span><span id=__span-2-25><a href=#__codelineno-2-25 id=__codelineno-2-25 name=__codelineno-2-25></a>            <span class=p>]</span>
</span><span id=__span-2-26><a href=#__codelineno-2-26 id=__codelineno-2-26 name=__codelineno-2-26></a>        <span class=p>),</span>
</span><span id=__span-2-27><a href=#__codelineno-2-27 id=__codelineno-2-27 name=__codelineno-2-27></a>    <span class=p>}</span>
</span><span id=__span-2-28><a href=#__codelineno-2-28 id=__codelineno-2-28 name=__codelineno-2-28></a><span class=p>)</span>
</span></code></pre></div> <p>Equipment with discrete operating modes:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-3-1><a href=#__codelineno-3-1 id=__codelineno-3-1 name=__codelineno-3-1></a><span class=n>compressor_pc</span> <span class=o>=</span> <span class=n>PiecewiseConversion</span><span class=p>(</span>
</span><span id=__span-3-2><a href=#__codelineno-3-2 id=__codelineno-3-2 name=__codelineno-3-2></a>    <span class=p>{</span>
</span><span id=__span-3-3><a href=#__codelineno-3-3 id=__codelineno-3-3 name=__codelineno-3-3></a>        <span class=s1>'electricity'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-3-4><a href=#__codelineno-3-4 id=__codelineno-3-4 name=__codelineno-3-4></a>            <span class=p>[</span>
</span><span id=__span-3-5><a href=#__codelineno-3-5 id=__codelineno-3-5 name=__codelineno-3-5></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span>  <span class=c1># Off mode: no consumption</span>
</span><span id=__span-3-6><a href=#__codelineno-3-6 id=__codelineno-3-6 name=__codelineno-3-6></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>45</span><span class=p>,</span> <span class=mi>45</span><span class=p>),</span>  <span class=c1># Low mode: fixed 45 kW</span>
</span><span id=__span-3-7><a href=#__codelineno-3-7 id=__codelineno-3-7 name=__codelineno-3-7></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>85</span><span class=p>,</span> <span class=mi>85</span><span class=p>),</span>  <span class=c1># High mode: fixed 85 kW</span>
</span><span id=__span-3-8><a href=#__codelineno-3-8 id=__codelineno-3-8 name=__codelineno-3-8></a>            <span class=p>]</span>
</span><span id=__span-3-9><a href=#__codelineno-3-9 id=__codelineno-3-9 name=__codelineno-3-9></a>        <span class=p>),</span>
</span><span id=__span-3-10><a href=#__codelineno-3-10 id=__codelineno-3-10 name=__codelineno-3-10></a>        <span class=s1>'compressed_air'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-3-11><a href=#__codelineno-3-11 id=__codelineno-3-11 name=__codelineno-3-11></a>            <span class=p>[</span>
</span><span id=__span-3-12><a href=#__codelineno-3-12 id=__codelineno-3-12 name=__codelineno-3-12></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span>  <span class=c1># Off mode: no production</span>
</span><span id=__span-3-13><a href=#__codelineno-3-13 id=__codelineno-3-13 name=__codelineno-3-13></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>250</span><span class=p>,</span> <span class=mi>250</span><span class=p>),</span>  <span class=c1># Low mode: 250 Nm³/h</span>
</span><span id=__span-3-14><a href=#__codelineno-3-14 id=__codelineno-3-14 name=__codelineno-3-14></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>500</span><span class=p>,</span> <span class=mi>500</span><span class=p>),</span>  <span class=c1># High mode: 500 Nm³/h</span>
</span><span id=__span-3-15><a href=#__codelineno-3-15 id=__codelineno-3-15 name=__codelineno-3-15></a>            <span class=p>]</span>
</span><span id=__span-3-16><a href=#__codelineno-3-16 id=__codelineno-3-16 name=__codelineno-3-16></a>        <span class=p>),</span>
</span><span id=__span-3-17><a href=#__codelineno-3-17 id=__codelineno-3-17 name=__codelineno-3-17></a>    <span class=p>}</span>
</span><span id=__span-3-18><a href=#__codelineno-3-18 id=__codelineno-3-18 name=__codelineno-3-18></a><span class=p>)</span>
</span></code></pre></div> <p>Equipment with forbidden operating range:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-4-1><a href=#__codelineno-4-1 id=__codelineno-4-1 name=__codelineno-4-1></a><span class=n>steam_turbine_pc</span> <span class=o>=</span> <span class=n>PiecewiseConversion</span><span class=p>(</span>
</span><span id=__span-4-2><a href=#__codelineno-4-2 id=__codelineno-4-2 name=__codelineno-4-2></a>    <span class=p>{</span>
</span><span id=__span-4-3><a href=#__codelineno-4-3 id=__codelineno-4-3 name=__codelineno-4-3></a>        <span class=s1>'steam_in'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-4-4><a href=#__codelineno-4-4 id=__codelineno-4-4 name=__codelineno-4-4></a>            <span class=p>[</span>
</span><span id=__span-4-5><a href=#__codelineno-4-5 id=__codelineno-4-5 name=__codelineno-4-5></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>100</span><span class=p>),</span>  <span class=c1># Low pressure operation</span>
</span><span id=__span-4-6><a href=#__codelineno-4-6 id=__codelineno-4-6 name=__codelineno-4-6></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>200</span><span class=p>,</span> <span class=mi>500</span><span class=p>),</span>  <span class=c1># High pressure (gap: 100-200 forbidden)</span>
</span><span id=__span-4-7><a href=#__codelineno-4-7 id=__codelineno-4-7 name=__codelineno-4-7></a>            <span class=p>]</span>
</span><span id=__span-4-8><a href=#__codelineno-4-8 id=__codelineno-4-8 name=__codelineno-4-8></a>        <span class=p>),</span>
</span><span id=__span-4-9><a href=#__codelineno-4-9 id=__codelineno-4-9 name=__codelineno-4-9></a>        <span class=s1>'electricity_out'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-4-10><a href=#__codelineno-4-10 id=__codelineno-4-10 name=__codelineno-4-10></a>            <span class=p>[</span>
</span><span id=__span-4-11><a href=#__codelineno-4-11 id=__codelineno-4-11 name=__codelineno-4-11></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>30</span><span class=p>),</span>  <span class=c1># Low pressure: poor efficiency</span>
</span><span id=__span-4-12><a href=#__codelineno-4-12 id=__codelineno-4-12 name=__codelineno-4-12></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>80</span><span class=p>,</span> <span class=mi>220</span><span class=p>),</span>  <span class=c1># High pressure: good efficiency</span>
</span><span id=__span-4-13><a href=#__codelineno-4-13 id=__codelineno-4-13 name=__codelineno-4-13></a>            <span class=p>]</span>
</span><span id=__span-4-14><a href=#__codelineno-4-14 id=__codelineno-4-14 name=__codelineno-4-14></a>        <span class=p>),</span>
</span><span id=__span-4-15><a href=#__codelineno-4-15 id=__codelineno-4-15 name=__codelineno-4-15></a>        <span class=s1>'condensate_out'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-4-16><a href=#__codelineno-4-16 id=__codelineno-4-16 name=__codelineno-4-16></a>            <span class=p>[</span>
</span><span id=__span-4-17><a href=#__codelineno-4-17 id=__codelineno-4-17 name=__codelineno-4-17></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>100</span><span class=p>),</span>  <span class=c1># Low pressure condensate</span>
</span><span id=__span-4-18><a href=#__codelineno-4-18 id=__codelineno-4-18 name=__codelineno-4-18></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>200</span><span class=p>,</span> <span class=mi>500</span><span class=p>),</span>  <span class=c1># High pressure condensate</span>
</span><span id=__span-4-19><a href=#__codelineno-4-19 id=__codelineno-4-19 name=__codelineno-4-19></a>            <span class=p>]</span>
</span><span id=__span-4-20><a href=#__codelineno-4-20 id=__codelineno-4-20 name=__codelineno-4-20></a>        <span class=p>),</span>
</span><span id=__span-4-21><a href=#__codelineno-4-21 id=__codelineno-4-21 name=__codelineno-4-21></a>    <span class=p>}</span>
</span><span id=__span-4-22><a href=#__codelineno-4-22 id=__codelineno-4-22 name=__codelineno-4-22></a><span class=p>)</span>
</span></code></pre></div> <details class=design-patterns open> <summary>Design Patterns</summary> <p><strong>Forbidden Ranges</strong>: Use gaps between pieces to model equipment that cannot operate in certain ranges (e.g., minimum loads, unstable regions).</p> <p><strong>Discrete Modes</strong>: Use pieces with identical start/end values to model equipment with fixed operating points (e.g., on/inactive, discrete speeds).</p> <p><strong>Efficiency Changes</strong>: Coordinate input and output pieces to reflect changing conversion efficiency across operating ranges.</p> </details> <details class=common-use-cases open> <summary>Common Use Cases</summary> <ul> <li>Power generation: Multi-fuel plants, cogeneration systems, renewable hybrids</li> <li>HVAC systems: Heat pumps, chillers with variable COP and auxiliary loads</li> <li>Industrial processes: Multi-product reactors, separation units, heat exchangers</li> <li>Transportation: Multi-modal systems, hybrid vehicles, charging infrastructure</li> <li>Water treatment: Multi-stage processes with varying energy and chemical needs</li> <li>Energy storage: Systems with efficiency changes and auxiliary power requirements</li> </ul> </details> <div class="doc doc-children"> <h4 id=flixopt.interface.PiecewiseConversion-attributes>Attributes<a class=headerlink href=#flixopt.interface.PiecewiseConversion-attributes title="Anchor link to this section">¶</a></h4> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.interface.PiecewiseConversion.prefix> <span class="doc doc-object-name doc-attribute-name">prefix</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.interface.PiecewiseConversion.prefix title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>prefix</span><span class=p>:</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>The prefix used for naming transformed data (e.g., 'Boiler(Q_th)|status_parameters').</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.interface.PiecewiseConversion.flow_system> <span class="doc doc-object-name doc-attribute-name">flow_system</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.interface.PiecewiseConversion.flow_system title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>flow_system</span><span class=p>:</span> <span class=n>FlowSystem</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Access the FlowSystem this interface is linked to.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=../flow_system/#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>The FlowSystem instance this interface belongs to.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#RuntimeError>RuntimeError</a></code> </td> <td> <div class=doc-md-description> <p>If interface has not been linked to a FlowSystem yet.</p> </div> </td> </tr> </tbody> </table> <details class=note open> <summary>Note</summary> <p>For Elements, this is set during add_elements(). For parameter classes, this is set recursively when the parent Element is registered.</p> </details> </div> </div> <h4 id=flixopt.interface.PiecewiseConversion-functions>Functions<a class=headerlink href=#flixopt.interface.PiecewiseConversion-functions title="Anchor link to this section">¶</a></h4> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.PiecewiseConversion.items> <span class="doc doc-object-name doc-function-name">items</span> <a class=headerlink href=#flixopt.interface.PiecewiseConversion.items title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>items</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Return an iterator over (flow_label, Piecewise) pairs stored in this PiecewiseConversion.</p> <p>This is a thin convenience wrapper around the internal mapping and yields the same view as dict.items(), where each key is a flow label (str) and each value is a Piecewise.</p> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.PiecewiseConversion.link_to_flow_system> <span class="doc doc-object-name doc-function-name">link_to_flow_system</span> <a class=headerlink href=#flixopt.interface.PiecewiseConversion.link_to_flow_system title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>link_to_flow_system</span><span class=p>(</span><span class=n>flow_system</span><span class=p>,</span> <span class=n>prefix</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>''</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Propagate flow_system reference to nested Piecewise objects.</p> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.PiecewiseConversion.plot> <span class="doc doc-object-name doc-function-name">plot</span> <a class=headerlink href=#flixopt.interface.PiecewiseConversion.plot title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>plot</span><span class=p>(</span><span class=n>x_flow</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>title</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>''</span><span class=p>,</span> <span class=n>select</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>colorscale</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>show</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>PlotResult</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Plot multi-flow piecewise conversion with time variation visualization.</p> <p>Visualizes the piecewise linear relationships between flows. Each flow is shown in a separate subplot (faceted by flow). Pieces are distinguished by line dash style. If boundaries vary over time, color shows time progression.</p> <details class=note open> <summary>Note</summary> <p>Requires FlowSystem to be connected and transformed (call flow_system.connect_and_transform() first).</p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>x_flow</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | None</code> </td> <td> <div class=doc-md-description> <p>Flow label to use for X-axis. Defaults to first flow in dict.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>title</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>Plot title.</p> </div> </td> <td> <code>''</code> </td> </tr> <tr class=doc-section-item> <td> <code>select</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" title="<code>typing.Any</code>" href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a>] | None</code> </td> <td> <div class=doc-md-description> <p>xarray-style selection dict to filter data, e.g. {'time': slice('2024-01-01', '2024-01-02')}.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>colorscale</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | None</code> </td> <td> <div class=doc-md-description> <p>Colorscale name for time coloring (e.g., 'RdYlBu_r', 'viridis'). Defaults to CONFIG.Plotting.default_sequential_colorscale.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>show</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a> | None</code> </td> <td> <div class=doc-md-description> <p>Whether to display the figure. Defaults to CONFIG.Plotting.default_show.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">PlotResult</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span> (<code>flixopt.plot_result.PlotResult</code>)' href=../plot_result/#flixopt.plot_result.PlotResult>PlotResult</a></code> </td> <td> <div class=doc-md-description> <p>PlotResult containing the figure and underlying piecewise data.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>connect_and_transform</span><span class=p>()</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>chp</span><span class=o>.</span><span class=n>piecewise_conversion</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>x_flow</span><span class=o>=</span><span class=s1>'Gas'</span><span class=p>,</span> <span class=n>title</span><span class=o>=</span><span class=s1>'CHP Curves'</span><span class=p>)</span>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Select specific time range</span>
</span><span id=__span-0-4><a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>chp</span><span class=o>.</span><span class=n>piecewise_conversion</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>select</span><span class=o>=</span><span class=p>{</span><span class=s1>'time'</span><span class=p>:</span> <span class=nb>slice</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>12</span><span class=p>)})</span>
</span></code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.PiecewiseConversion.to_dataset> <span class="doc doc-object-name doc-function-name">to_dataset</span> <a class=headerlink href=#flixopt.interface.PiecewiseConversion.to_dataset title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>to_dataset</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>Dataset</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Convert the object to an xarray Dataset representation. All DataArrays become dataset variables, everything else goes to attrs.</p> <p>Its recommended to only call this method on Interfaces with all numeric data stored as xr.DataArrays. Interfaces inside a FlowSystem are automatically converted this form after connecting and transforming the FlowSystem.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>xr.Dataset: Dataset containing all DataArrays with basic objects only in attributes</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails due to naming conflicts or invalid data</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.PiecewiseConversion.to_netcdf> <span class="doc doc-object-name doc-function-name">to_netcdf</span> <a class=headerlink href=#flixopt.interface.PiecewiseConversion.to_netcdf title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>to_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>,</span> <span class=n>compression</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>5</span><span class=p>,</span> <span class=n>overwrite</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Save the object to a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to save the NetCDF file. Parent directories are created if they don't exist.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>compression</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Compression level (0-9)</p> </div> </td> <td> <code>5</code> </td> </tr> <tr class=doc-section-item> <td> <code>overwrite</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, overwrite existing file. If False, raise error if file exists.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#FileExistsError>FileExistsError</a></code> </td> <td> <div class=doc-md-description> <p>If overwrite=False and file already exists.</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.PiecewiseConversion.from_dataset> <span class="doc doc-object-name doc-function-name">from_dataset</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a class=headerlink href=#flixopt.interface.PiecewiseConversion.from_dataset title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>from_dataset</span><span class=p>(</span><span class=n>ds</span><span class=p>:</span> <span class=n>Dataset</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Create an instance from an xarray Dataset.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ds</code> </td> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>Dataset containing the object data</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If dataset format is invalid or class mismatch</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.PiecewiseConversion.from_netcdf> <span class="doc doc-object-name doc-function-name">from_netcdf</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a class=headerlink href=#flixopt.interface.PiecewiseConversion.from_netcdf title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>from_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Load an instance from a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be read</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If file format is invalid</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.PiecewiseConversion.get_structure> <span class="doc doc-object-name doc-function-name">get_structure</span> <a class=headerlink href=#flixopt.interface.PiecewiseConversion.get_structure title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>get_structure</span><span class=p>(</span><span class=n>clean</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>stats</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Get object structure as a dictionary.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>clean</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, remove None and empty dicts and lists.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>stats</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, replace DataArray references with statistics</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a></code> </td> <td> <div class=doc-md-description> <p>Dictionary representation of the object structure</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.PiecewiseConversion.to_json> <span class="doc doc-object-name doc-function-name">to_json</span> <a class=headerlink href=#flixopt.interface.PiecewiseConversion.to_json title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>to_json</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Save the object to a JSON file. This is meant for documentation and comparison, not for reloading.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>The path to the JSON file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.PiecewiseConversion.copy> <span class="doc doc-object-name doc-function-name">copy</span> <a class=headerlink href=#flixopt.interface.PiecewiseConversion.copy title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>copy</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Create a copy of the Interface object.</p> <p>Uses the existing serialization infrastructure to ensure proper copying of all DataArrays and nested objects.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>A new instance of the same class with copied data.</p> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 class="doc doc-heading" id=flixopt.interface.PiecewiseEffects> <span class="doc doc-object-name doc-class-name">PiecewiseEffects</span> <a class=headerlink href=#flixopt.interface.PiecewiseEffects title="Anchor link to this section">¶</a></h3> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>PiecewiseEffects</span><span class=p>(</span><span class=n>piecewise_origin</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>,</span> <span class=n>piecewise_shares</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Piecewise</span><span class=p>])</span>
</span></code></pre></div> <div class="doc doc-contents"> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code></p> <p>Define how a single decision variable contributes to system effects with piecewise rates.</p> <p>This class models situations where a decision variable (the origin) generates different types of system effects (costs, emissions, resource consumption) at rates that change non-linearly with the variable's operating level. Unlike PiecewiseConversion which coordinates multiple flows, PiecewiseEffects focuses on how one variable impacts multiple system-wide effects.</p> <p>Key Concept - Origin vs. Effects: - <strong>Origin</strong>: The primary decision variable (e.g., production level, capacity, size) - <strong>Shares</strong>: The amounts which this variable contributes to different system effects</p> <details class=relationship-to-piecewiseconversion open> <summary>Relationship to PiecewiseConversion</summary> <p><strong>PiecewiseConversion</strong>: Models synchronized relationships between multiple flow variables (e.g., fuel_in, electricity_out, emissions_out all coordinated).</p> <p><strong>PiecewiseEffects</strong>: Models how one variable contributes to system-wide effects at variable rates (e.g., production_level → costs, emissions, resources).</p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>piecewise_origin</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Piecewise</span> (<code>flixopt.interface.Piecewise</code>)' href=#flixopt.interface.Piecewise>Piecewise</a></code> </td> <td> <div class=doc-md-description> <p>Piecewise function defining the behavior of the primary decision variable. This establishes the operating domain and ranges.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>piecewise_shares</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Piecewise</span> (<code>flixopt.interface.Piecewise</code>)' href=#flixopt.interface.Piecewise>Piecewise</a>]</code> </td> <td> <div class=doc-md-description> <p>Dictionary mapping effect names to their rate functions. Keys are effect identifiers (e.g., 'cost_per_unit', 'CO2_intensity'). Values are Piecewise objects defining the contribution rate per unit of the origin variable at different operating levels.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=mathematical-relationship open> <summary>Mathematical Relationship</summary> <p>For each effect: Total_Effect = Origin_Variable × Share_Rate(Origin_Level)</p> <p>This enables modeling of: - Economies of scale (decreasing unit costs with volume) - Learning curves (improving efficiency with experience) - Threshold effects (changing rates at different scales) - Progressive pricing (increasing rates with consumption)</p> </details> <p><span class=doc-section-title>Examples:</span></p> <p>Manufacturing with economies of scale:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>production_effects</span> <span class=o>=</span> <span class=n>PiecewiseEffects</span><span class=p>(</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a>    <span class=n>piecewise_origin</span><span class=o>=</span><span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a>        <span class=p>[</span>
</span><span id=__span-0-4><a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a>            <span class=n>Piece</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1000</span><span class=p>),</span>  <span class=c1># Small scale: 0-1000 units/month</span>
</span><span id=__span-0-5><a href=#__codelineno-0-5 id=__codelineno-0-5 name=__codelineno-0-5></a>            <span class=n>Piece</span><span class=p>(</span><span class=mi>1000</span><span class=p>,</span> <span class=mi>5000</span><span class=p>),</span>  <span class=c1># Medium scale: 1000-5000 units/month</span>
</span><span id=__span-0-6><a href=#__codelineno-0-6 id=__codelineno-0-6 name=__codelineno-0-6></a>            <span class=n>Piece</span><span class=p>(</span><span class=mi>5000</span><span class=p>,</span> <span class=mi>10000</span><span class=p>),</span>  <span class=c1># Large scale: 5000-10000 units/month</span>
</span><span id=__span-0-7><a href=#__codelineno-0-7 id=__codelineno-0-7 name=__codelineno-0-7></a>        <span class=p>]</span>
</span><span id=__span-0-8><a href=#__codelineno-0-8 id=__codelineno-0-8 name=__codelineno-0-8></a>    <span class=p>),</span>
</span><span id=__span-0-9><a href=#__codelineno-0-9 id=__codelineno-0-9 name=__codelineno-0-9></a>    <span class=n>piecewise_shares</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-0-10><a href=#__codelineno-0-10 id=__codelineno-0-10 name=__codelineno-0-10></a>        <span class=s1>'unit_cost'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-0-11><a href=#__codelineno-0-11 id=__codelineno-0-11 name=__codelineno-0-11></a>            <span class=p>[</span>
</span><span id=__span-0-12><a href=#__codelineno-0-12 id=__codelineno-0-12 name=__codelineno-0-12></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>50</span><span class=p>,</span> <span class=mi>45</span><span class=p>),</span>  <span class=c1># €50-45/unit (scale benefits)</span>
</span><span id=__span-0-13><a href=#__codelineno-0-13 id=__codelineno-0-13 name=__codelineno-0-13></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>45</span><span class=p>,</span> <span class=mi>35</span><span class=p>),</span>  <span class=c1># €45-35/unit (bulk materials)</span>
</span><span id=__span-0-14><a href=#__codelineno-0-14 id=__codelineno-0-14 name=__codelineno-0-14></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>35</span><span class=p>,</span> <span class=mi>30</span><span class=p>),</span>  <span class=c1># €35-30/unit (automation benefits)</span>
</span><span id=__span-0-15><a href=#__codelineno-0-15 id=__codelineno-0-15 name=__codelineno-0-15></a>            <span class=p>]</span>
</span><span id=__span-0-16><a href=#__codelineno-0-16 id=__codelineno-0-16 name=__codelineno-0-16></a>        <span class=p>),</span>
</span><span id=__span-0-17><a href=#__codelineno-0-17 id=__codelineno-0-17 name=__codelineno-0-17></a>        <span class=s1>'labor_hours'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-0-18><a href=#__codelineno-0-18 id=__codelineno-0-18 name=__codelineno-0-18></a>            <span class=p>[</span>
</span><span id=__span-0-19><a href=#__codelineno-0-19 id=__codelineno-0-19 name=__codelineno-0-19></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>2.5</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>),</span>  <span class=c1># 2.5-2.0 hours/unit (learning curve)</span>
</span><span id=__span-0-20><a href=#__codelineno-0-20 id=__codelineno-0-20 name=__codelineno-0-20></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>2.0</span><span class=p>,</span> <span class=mf>1.5</span><span class=p>),</span>  <span class=c1># 2.0-1.5 hours/unit (efficiency gains)</span>
</span><span id=__span-0-21><a href=#__codelineno-0-21 id=__codelineno-0-21 name=__codelineno-0-21></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>1.5</span><span class=p>,</span> <span class=mf>1.2</span><span class=p>),</span>  <span class=c1># 1.5-1.2 hours/unit (specialization)</span>
</span><span id=__span-0-22><a href=#__codelineno-0-22 id=__codelineno-0-22 name=__codelineno-0-22></a>            <span class=p>]</span>
</span><span id=__span-0-23><a href=#__codelineno-0-23 id=__codelineno-0-23 name=__codelineno-0-23></a>        <span class=p>),</span>
</span><span id=__span-0-24><a href=#__codelineno-0-24 id=__codelineno-0-24 name=__codelineno-0-24></a>        <span class=s1>'CO2_intensity'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-0-25><a href=#__codelineno-0-25 id=__codelineno-0-25 name=__codelineno-0-25></a>            <span class=p>[</span>
</span><span id=__span-0-26><a href=#__codelineno-0-26 id=__codelineno-0-26 name=__codelineno-0-26></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>15</span><span class=p>,</span> <span class=mi>12</span><span class=p>),</span>  <span class=c1># 15-12 kg CO2/unit (process optimization)</span>
</span><span id=__span-0-27><a href=#__codelineno-0-27 id=__codelineno-0-27 name=__codelineno-0-27></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>12</span><span class=p>,</span> <span class=mi>9</span><span class=p>),</span>  <span class=c1># 12-9 kg CO2/unit (equipment efficiency)</span>
</span><span id=__span-0-28><a href=#__codelineno-0-28 id=__codelineno-0-28 name=__codelineno-0-28></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>9</span><span class=p>,</span> <span class=mi>7</span><span class=p>),</span>  <span class=c1># 9-7 kg CO2/unit (renewable energy)</span>
</span><span id=__span-0-29><a href=#__codelineno-0-29 id=__codelineno-0-29 name=__codelineno-0-29></a>            <span class=p>]</span>
</span><span id=__span-0-30><a href=#__codelineno-0-30 id=__codelineno-0-30 name=__codelineno-0-30></a>        <span class=p>),</span>
</span><span id=__span-0-31><a href=#__codelineno-0-31 id=__codelineno-0-31 name=__codelineno-0-31></a>    <span class=p>},</span>
</span><span id=__span-0-32><a href=#__codelineno-0-32 id=__codelineno-0-32 name=__codelineno-0-32></a><span class=p>)</span>
</span></code></pre></div> <p>Power generation with load-dependent characteristics:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-1-1><a href=#__codelineno-1-1 id=__codelineno-1-1 name=__codelineno-1-1></a><span class=n>generator_effects</span> <span class=o>=</span> <span class=n>PiecewiseEffects</span><span class=p>(</span>
</span><span id=__span-1-2><a href=#__codelineno-1-2 id=__codelineno-1-2 name=__codelineno-1-2></a>    <span class=n>piecewise_origin</span><span class=o>=</span><span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-1-3><a href=#__codelineno-1-3 id=__codelineno-1-3 name=__codelineno-1-3></a>        <span class=p>[</span>
</span><span id=__span-1-4><a href=#__codelineno-1-4 id=__codelineno-1-4 name=__codelineno-1-4></a>            <span class=n>Piece</span><span class=p>(</span><span class=mi>50</span><span class=p>,</span> <span class=mi>200</span><span class=p>),</span>  <span class=c1># Part load operation: 50-200 MW</span>
</span><span id=__span-1-5><a href=#__codelineno-1-5 id=__codelineno-1-5 name=__codelineno-1-5></a>            <span class=n>Piece</span><span class=p>(</span><span class=mi>200</span><span class=p>,</span> <span class=mi>350</span><span class=p>),</span>  <span class=c1># Rated operation: 200-350 MW</span>
</span><span id=__span-1-6><a href=#__codelineno-1-6 id=__codelineno-1-6 name=__codelineno-1-6></a>            <span class=n>Piece</span><span class=p>(</span><span class=mi>350</span><span class=p>,</span> <span class=mi>400</span><span class=p>),</span>  <span class=c1># Overload operation: 350-400 MW</span>
</span><span id=__span-1-7><a href=#__codelineno-1-7 id=__codelineno-1-7 name=__codelineno-1-7></a>        <span class=p>]</span>
</span><span id=__span-1-8><a href=#__codelineno-1-8 id=__codelineno-1-8 name=__codelineno-1-8></a>    <span class=p>),</span>
</span><span id=__span-1-9><a href=#__codelineno-1-9 id=__codelineno-1-9 name=__codelineno-1-9></a>    <span class=n>piecewise_shares</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-1-10><a href=#__codelineno-1-10 id=__codelineno-1-10 name=__codelineno-1-10></a>        <span class=s1>'fuel_rate'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-1-11><a href=#__codelineno-1-11 id=__codelineno-1-11 name=__codelineno-1-11></a>            <span class=p>[</span>
</span><span id=__span-1-12><a href=#__codelineno-1-12 id=__codelineno-1-12 name=__codelineno-1-12></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>12.0</span><span class=p>,</span> <span class=mf>10.5</span><span class=p>),</span>  <span class=c1># Heat rate: 12.0-10.5 GJ/MWh (part load penalty)</span>
</span><span id=__span-1-13><a href=#__codelineno-1-13 id=__codelineno-1-13 name=__codelineno-1-13></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>10.5</span><span class=p>,</span> <span class=mf>9.8</span><span class=p>),</span>  <span class=c1># Heat rate: 10.5-9.8 GJ/MWh (optimal efficiency)</span>
</span><span id=__span-1-14><a href=#__codelineno-1-14 id=__codelineno-1-14 name=__codelineno-1-14></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>9.8</span><span class=p>,</span> <span class=mf>11.2</span><span class=p>),</span>  <span class=c1># Heat rate: 9.8-11.2 GJ/MWh (overload penalty)</span>
</span><span id=__span-1-15><a href=#__codelineno-1-15 id=__codelineno-1-15 name=__codelineno-1-15></a>            <span class=p>]</span>
</span><span id=__span-1-16><a href=#__codelineno-1-16 id=__codelineno-1-16 name=__codelineno-1-16></a>        <span class=p>),</span>
</span><span id=__span-1-17><a href=#__codelineno-1-17 id=__codelineno-1-17 name=__codelineno-1-17></a>        <span class=s1>'maintenance_factor'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-1-18><a href=#__codelineno-1-18 id=__codelineno-1-18 name=__codelineno-1-18></a>            <span class=p>[</span>
</span><span id=__span-1-19><a href=#__codelineno-1-19 id=__codelineno-1-19 name=__codelineno-1-19></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.8</span><span class=p>,</span> <span class=mf>1.0</span><span class=p>),</span>  <span class=c1># Low stress operation</span>
</span><span id=__span-1-20><a href=#__codelineno-1-20 id=__codelineno-1-20 name=__codelineno-1-20></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>1.0</span><span class=p>,</span> <span class=mf>1.0</span><span class=p>),</span>  <span class=c1># Design operation</span>
</span><span id=__span-1-21><a href=#__codelineno-1-21 id=__codelineno-1-21 name=__codelineno-1-21></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>1.0</span><span class=p>,</span> <span class=mf>1.5</span><span class=p>),</span>  <span class=c1># High stress operation</span>
</span><span id=__span-1-22><a href=#__codelineno-1-22 id=__codelineno-1-22 name=__codelineno-1-22></a>            <span class=p>]</span>
</span><span id=__span-1-23><a href=#__codelineno-1-23 id=__codelineno-1-23 name=__codelineno-1-23></a>        <span class=p>),</span>
</span><span id=__span-1-24><a href=#__codelineno-1-24 id=__codelineno-1-24 name=__codelineno-1-24></a>        <span class=s1>'NOx_rate'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-1-25><a href=#__codelineno-1-25 id=__codelineno-1-25 name=__codelineno-1-25></a>            <span class=p>[</span>
</span><span id=__span-1-26><a href=#__codelineno-1-26 id=__codelineno-1-26 name=__codelineno-1-26></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.20</span><span class=p>,</span> <span class=mf>0.15</span><span class=p>),</span>  <span class=c1># NOx: 0.20-0.15 kg/MWh</span>
</span><span id=__span-1-27><a href=#__codelineno-1-27 id=__codelineno-1-27 name=__codelineno-1-27></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.15</span><span class=p>,</span> <span class=mf>0.12</span><span class=p>),</span>  <span class=c1># NOx: 0.15-0.12 kg/MWh (optimal combustion)</span>
</span><span id=__span-1-28><a href=#__codelineno-1-28 id=__codelineno-1-28 name=__codelineno-1-28></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.12</span><span class=p>,</span> <span class=mf>0.25</span><span class=p>),</span>  <span class=c1># NOx: 0.12-0.25 kg/MWh (overload penalties)</span>
</span><span id=__span-1-29><a href=#__codelineno-1-29 id=__codelineno-1-29 name=__codelineno-1-29></a>            <span class=p>]</span>
</span><span id=__span-1-30><a href=#__codelineno-1-30 id=__codelineno-1-30 name=__codelineno-1-30></a>        <span class=p>),</span>
</span><span id=__span-1-31><a href=#__codelineno-1-31 id=__codelineno-1-31 name=__codelineno-1-31></a>    <span class=p>},</span>
</span><span id=__span-1-32><a href=#__codelineno-1-32 id=__codelineno-1-32 name=__codelineno-1-32></a><span class=p>)</span>
</span></code></pre></div> <p>Progressive utility pricing structure:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-2-1><a href=#__codelineno-2-1 id=__codelineno-2-1 name=__codelineno-2-1></a><span class=n>electricity_billing</span> <span class=o>=</span> <span class=n>PiecewiseEffects</span><span class=p>(</span>
</span><span id=__span-2-2><a href=#__codelineno-2-2 id=__codelineno-2-2 name=__codelineno-2-2></a>    <span class=n>piecewise_origin</span><span class=o>=</span><span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-2-3><a href=#__codelineno-2-3 id=__codelineno-2-3 name=__codelineno-2-3></a>        <span class=p>[</span>
</span><span id=__span-2-4><a href=#__codelineno-2-4 id=__codelineno-2-4 name=__codelineno-2-4></a>            <span class=n>Piece</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>200</span><span class=p>),</span>  <span class=c1># Basic usage: 0-200 kWh/month</span>
</span><span id=__span-2-5><a href=#__codelineno-2-5 id=__codelineno-2-5 name=__codelineno-2-5></a>            <span class=n>Piece</span><span class=p>(</span><span class=mi>200</span><span class=p>,</span> <span class=mi>800</span><span class=p>),</span>  <span class=c1># Standard usage: 200-800 kWh/month</span>
</span><span id=__span-2-6><a href=#__codelineno-2-6 id=__codelineno-2-6 name=__codelineno-2-6></a>            <span class=n>Piece</span><span class=p>(</span><span class=mi>800</span><span class=p>,</span> <span class=mi>2000</span><span class=p>),</span>  <span class=c1># High usage: 800-2000 kWh/month</span>
</span><span id=__span-2-7><a href=#__codelineno-2-7 id=__codelineno-2-7 name=__codelineno-2-7></a>        <span class=p>]</span>
</span><span id=__span-2-8><a href=#__codelineno-2-8 id=__codelineno-2-8 name=__codelineno-2-8></a>    <span class=p>),</span>
</span><span id=__span-2-9><a href=#__codelineno-2-9 id=__codelineno-2-9 name=__codelineno-2-9></a>    <span class=n>piecewise_shares</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-2-10><a href=#__codelineno-2-10 id=__codelineno-2-10 name=__codelineno-2-10></a>        <span class=s1>'energy_rate'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-2-11><a href=#__codelineno-2-11 id=__codelineno-2-11 name=__codelineno-2-11></a>            <span class=p>[</span>
</span><span id=__span-2-12><a href=#__codelineno-2-12 id=__codelineno-2-12 name=__codelineno-2-12></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.12</span><span class=p>,</span> <span class=mf>0.12</span><span class=p>),</span>  <span class=c1># Basic rate: €0.12/kWh</span>
</span><span id=__span-2-13><a href=#__codelineno-2-13 id=__codelineno-2-13 name=__codelineno-2-13></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.18</span><span class=p>,</span> <span class=mf>0.18</span><span class=p>),</span>  <span class=c1># Standard rate: €0.18/kWh</span>
</span><span id=__span-2-14><a href=#__codelineno-2-14 id=__codelineno-2-14 name=__codelineno-2-14></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.28</span><span class=p>,</span> <span class=mf>0.28</span><span class=p>),</span>  <span class=c1># Premium rate: €0.28/kWh</span>
</span><span id=__span-2-15><a href=#__codelineno-2-15 id=__codelineno-2-15 name=__codelineno-2-15></a>            <span class=p>]</span>
</span><span id=__span-2-16><a href=#__codelineno-2-16 id=__codelineno-2-16 name=__codelineno-2-16></a>        <span class=p>),</span>
</span><span id=__span-2-17><a href=#__codelineno-2-17 id=__codelineno-2-17 name=__codelineno-2-17></a>        <span class=s1>'carbon_tax'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-2-18><a href=#__codelineno-2-18 id=__codelineno-2-18 name=__codelineno-2-18></a>            <span class=p>[</span>
</span><span id=__span-2-19><a href=#__codelineno-2-19 id=__codelineno-2-19 name=__codelineno-2-19></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.02</span><span class=p>,</span> <span class=mf>0.02</span><span class=p>),</span>  <span class=c1># Low carbon tax: €0.02/kWh</span>
</span><span id=__span-2-20><a href=#__codelineno-2-20 id=__codelineno-2-20 name=__codelineno-2-20></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.03</span><span class=p>,</span> <span class=mf>0.03</span><span class=p>),</span>  <span class=c1># Medium carbon tax: €0.03/kWh</span>
</span><span id=__span-2-21><a href=#__codelineno-2-21 id=__codelineno-2-21 name=__codelineno-2-21></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.05</span><span class=p>,</span> <span class=mf>0.05</span><span class=p>),</span>  <span class=c1># High carbon tax: €0.05/kWh</span>
</span><span id=__span-2-22><a href=#__codelineno-2-22 id=__codelineno-2-22 name=__codelineno-2-22></a>            <span class=p>]</span>
</span><span id=__span-2-23><a href=#__codelineno-2-23 id=__codelineno-2-23 name=__codelineno-2-23></a>        <span class=p>),</span>
</span><span id=__span-2-24><a href=#__codelineno-2-24 id=__codelineno-2-24 name=__codelineno-2-24></a>    <span class=p>},</span>
</span><span id=__span-2-25><a href=#__codelineno-2-25 id=__codelineno-2-25 name=__codelineno-2-25></a><span class=p>)</span>
</span></code></pre></div> <p>Data center with capacity-dependent efficiency:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-3-1><a href=#__codelineno-3-1 id=__codelineno-3-1 name=__codelineno-3-1></a><span class=n>datacenter_effects</span> <span class=o>=</span> <span class=n>PiecewiseEffects</span><span class=p>(</span>
</span><span id=__span-3-2><a href=#__codelineno-3-2 id=__codelineno-3-2 name=__codelineno-3-2></a>    <span class=n>piecewise_origin</span><span class=o>=</span><span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-3-3><a href=#__codelineno-3-3 id=__codelineno-3-3 name=__codelineno-3-3></a>        <span class=p>[</span>
</span><span id=__span-3-4><a href=#__codelineno-3-4 id=__codelineno-3-4 name=__codelineno-3-4></a>            <span class=n>Piece</span><span class=p>(</span><span class=mi>100</span><span class=p>,</span> <span class=mi>500</span><span class=p>),</span>  <span class=c1># Low utilization: 100-500 servers</span>
</span><span id=__span-3-5><a href=#__codelineno-3-5 id=__codelineno-3-5 name=__codelineno-3-5></a>            <span class=n>Piece</span><span class=p>(</span><span class=mi>500</span><span class=p>,</span> <span class=mi>2000</span><span class=p>),</span>  <span class=c1># Medium utilization: 500-2000 servers</span>
</span><span id=__span-3-6><a href=#__codelineno-3-6 id=__codelineno-3-6 name=__codelineno-3-6></a>            <span class=n>Piece</span><span class=p>(</span><span class=mi>2000</span><span class=p>,</span> <span class=mi>5000</span><span class=p>),</span>  <span class=c1># High utilization: 2000-5000 servers</span>
</span><span id=__span-3-7><a href=#__codelineno-3-7 id=__codelineno-3-7 name=__codelineno-3-7></a>        <span class=p>]</span>
</span><span id=__span-3-8><a href=#__codelineno-3-8 id=__codelineno-3-8 name=__codelineno-3-8></a>    <span class=p>),</span>
</span><span id=__span-3-9><a href=#__codelineno-3-9 id=__codelineno-3-9 name=__codelineno-3-9></a>    <span class=n>piecewise_shares</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-3-10><a href=#__codelineno-3-10 id=__codelineno-3-10 name=__codelineno-3-10></a>        <span class=s1>'power_per_server'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-3-11><a href=#__codelineno-3-11 id=__codelineno-3-11 name=__codelineno-3-11></a>            <span class=p>[</span>
</span><span id=__span-3-12><a href=#__codelineno-3-12 id=__codelineno-3-12 name=__codelineno-3-12></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.8</span><span class=p>,</span> <span class=mf>0.6</span><span class=p>),</span>  <span class=c1># 0.8-0.6 kW/server (inefficient cooling)</span>
</span><span id=__span-3-13><a href=#__codelineno-3-13 id=__codelineno-3-13 name=__codelineno-3-13></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.6</span><span class=p>,</span> <span class=mf>0.4</span><span class=p>),</span>  <span class=c1># 0.6-0.4 kW/server (optimal efficiency)</span>
</span><span id=__span-3-14><a href=#__codelineno-3-14 id=__codelineno-3-14 name=__codelineno-3-14></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.4</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>),</span>  <span class=c1># 0.4-0.5 kW/server (thermal limits)</span>
</span><span id=__span-3-15><a href=#__codelineno-3-15 id=__codelineno-3-15 name=__codelineno-3-15></a>            <span class=p>]</span>
</span><span id=__span-3-16><a href=#__codelineno-3-16 id=__codelineno-3-16 name=__codelineno-3-16></a>        <span class=p>),</span>
</span><span id=__span-3-17><a href=#__codelineno-3-17 id=__codelineno-3-17 name=__codelineno-3-17></a>        <span class=s1>'cooling_overhead'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-3-18><a href=#__codelineno-3-18 id=__codelineno-3-18 name=__codelineno-3-18></a>            <span class=p>[</span>
</span><span id=__span-3-19><a href=#__codelineno-3-19 id=__codelineno-3-19 name=__codelineno-3-19></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.4</span><span class=p>,</span> <span class=mf>0.3</span><span class=p>),</span>  <span class=c1># 40%-30% cooling overhead</span>
</span><span id=__span-3-20><a href=#__codelineno-3-20 id=__codelineno-3-20 name=__codelineno-3-20></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.3</span><span class=p>,</span> <span class=mf>0.2</span><span class=p>),</span>  <span class=c1># 30%-20% cooling overhead</span>
</span><span id=__span-3-21><a href=#__codelineno-3-21 id=__codelineno-3-21 name=__codelineno-3-21></a>                <span class=n>Piece</span><span class=p>(</span><span class=mf>0.2</span><span class=p>,</span> <span class=mf>0.25</span><span class=p>),</span>  <span class=c1># 20%-25% cooling overhead</span>
</span><span id=__span-3-22><a href=#__codelineno-3-22 id=__codelineno-3-22 name=__codelineno-3-22></a>            <span class=p>]</span>
</span><span id=__span-3-23><a href=#__codelineno-3-23 id=__codelineno-3-23 name=__codelineno-3-23></a>        <span class=p>),</span>
</span><span id=__span-3-24><a href=#__codelineno-3-24 id=__codelineno-3-24 name=__codelineno-3-24></a>    <span class=p>},</span>
</span><span id=__span-3-25><a href=#__codelineno-3-25 id=__codelineno-3-25 name=__codelineno-3-25></a><span class=p>)</span>
</span></code></pre></div> <details class=design-patterns open> <summary>Design Patterns</summary> <p><strong>Economies of Scale</strong>: Decreasing unit costs/impacts with increased scale <strong>Learning Curves</strong>: Improving efficiency rates with experience/volume <strong>Threshold Effects</strong>: Step changes in rates at specific operating levels <strong>Progressive Pricing</strong>: Increasing rates for higher consumption levels <strong>Capacity Utilization</strong>: Optimal efficiency at design points, penalties at extremes</p> </details> <details class=common-use-cases open> <summary>Common Use Cases</summary> <ul> <li>Manufacturing: Production scaling, learning effects, quality improvements</li> <li>Energy systems: Generator efficiency curves, renewable capacity factors</li> <li>Logistics: Transportation rates, warehouse utilization, delivery optimization</li> <li>Utilities: Progressive pricing, infrastructure cost allocation</li> <li>Financial services: Risk premiums, transaction fees, volume discounts</li> <li>Environmental modeling: Pollution intensity, resource consumption rates</li> </ul> </details> <div class="doc doc-children"> <h4 id=flixopt.interface.PiecewiseEffects-attributes>Attributes<a class=headerlink href=#flixopt.interface.PiecewiseEffects-attributes title="Anchor link to this section">¶</a></h4> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.interface.PiecewiseEffects.prefix> <span class="doc doc-object-name doc-attribute-name">prefix</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.interface.PiecewiseEffects.prefix title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>prefix</span><span class=p>:</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>The prefix used for naming transformed data (e.g., 'Boiler(Q_th)|status_parameters').</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.interface.PiecewiseEffects.flow_system> <span class="doc doc-object-name doc-attribute-name">flow_system</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.interface.PiecewiseEffects.flow_system title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>flow_system</span><span class=p>:</span> <span class=n>FlowSystem</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Access the FlowSystem this interface is linked to.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=../flow_system/#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>The FlowSystem instance this interface belongs to.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#RuntimeError>RuntimeError</a></code> </td> <td> <div class=doc-md-description> <p>If interface has not been linked to a FlowSystem yet.</p> </div> </td> </tr> </tbody> </table> <details class=note open> <summary>Note</summary> <p>For Elements, this is set during add_elements(). For parameter classes, this is set recursively when the parent Element is registered.</p> </details> </div> </div> <h4 id=flixopt.interface.PiecewiseEffects-functions>Functions<a class=headerlink href=#flixopt.interface.PiecewiseEffects-functions title="Anchor link to this section">¶</a></h4> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.PiecewiseEffects.link_to_flow_system> <span class="doc doc-object-name doc-function-name">link_to_flow_system</span> <a class=headerlink href=#flixopt.interface.PiecewiseEffects.link_to_flow_system title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>link_to_flow_system</span><span class=p>(</span><span class=n>flow_system</span><span class=p>,</span> <span class=n>prefix</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>''</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Propagate flow_system reference to nested Piecewise objects.</p> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.PiecewiseEffects.plot> <span class="doc doc-object-name doc-function-name">plot</span> <a class=headerlink href=#flixopt.interface.PiecewiseEffects.plot title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>plot</span><span class=p>(</span><span class=n>title</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>''</span><span class=p>,</span> <span class=n>select</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>colorscale</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>show</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>PlotResult</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Plot origin vs effect shares with time variation visualization.</p> <p>Visualizes the piecewise linear relationships between the origin variable and its effect shares. Each effect is shown in a separate subplot (faceted by effect). Pieces are distinguished by line dash style.</p> <details class=note open> <summary>Note</summary> <p>Requires FlowSystem to be connected and transformed (call flow_system.connect_and_transform() first).</p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>title</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>Plot title.</p> </div> </td> <td> <code>''</code> </td> </tr> <tr class=doc-section-item> <td> <code>select</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" title="<code>typing.Any</code>" href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a>] | None</code> </td> <td> <div class=doc-md-description> <p>xarray-style selection dict to filter data, e.g. {'time': slice('2024-01-01', '2024-01-02')}.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>colorscale</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | None</code> </td> <td> <div class=doc-md-description> <p>Colorscale name for time coloring (e.g., 'RdYlBu_r', 'viridis'). Defaults to CONFIG.Plotting.default_sequential_colorscale.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>show</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a> | None</code> </td> <td> <div class=doc-md-description> <p>Whether to display the figure. Defaults to CONFIG.Plotting.default_show.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">PlotResult</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span> (<code>flixopt.plot_result.PlotResult</code>)' href=../plot_result/#flixopt.plot_result.PlotResult>PlotResult</a></code> </td> <td> <div class=doc-md-description> <p>PlotResult containing the figure and underlying piecewise data.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>connect_and_transform</span><span class=p>()</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>invest_params</span><span class=o>.</span><span class=n>piecewise_effects_of_investment</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>title</span><span class=o>=</span><span class=s1>'Investment Effects'</span><span class=p>)</span>
</span></code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.PiecewiseEffects.to_dataset> <span class="doc doc-object-name doc-function-name">to_dataset</span> <a class=headerlink href=#flixopt.interface.PiecewiseEffects.to_dataset title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>to_dataset</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>Dataset</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Convert the object to an xarray Dataset representation. All DataArrays become dataset variables, everything else goes to attrs.</p> <p>Its recommended to only call this method on Interfaces with all numeric data stored as xr.DataArrays. Interfaces inside a FlowSystem are automatically converted this form after connecting and transforming the FlowSystem.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>xr.Dataset: Dataset containing all DataArrays with basic objects only in attributes</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails due to naming conflicts or invalid data</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.PiecewiseEffects.to_netcdf> <span class="doc doc-object-name doc-function-name">to_netcdf</span> <a class=headerlink href=#flixopt.interface.PiecewiseEffects.to_netcdf title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>to_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>,</span> <span class=n>compression</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>5</span><span class=p>,</span> <span class=n>overwrite</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Save the object to a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to save the NetCDF file. Parent directories are created if they don't exist.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>compression</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Compression level (0-9)</p> </div> </td> <td> <code>5</code> </td> </tr> <tr class=doc-section-item> <td> <code>overwrite</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, overwrite existing file. If False, raise error if file exists.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#FileExistsError>FileExistsError</a></code> </td> <td> <div class=doc-md-description> <p>If overwrite=False and file already exists.</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.PiecewiseEffects.from_dataset> <span class="doc doc-object-name doc-function-name">from_dataset</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a class=headerlink href=#flixopt.interface.PiecewiseEffects.from_dataset title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>from_dataset</span><span class=p>(</span><span class=n>ds</span><span class=p>:</span> <span class=n>Dataset</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Create an instance from an xarray Dataset.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ds</code> </td> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>Dataset containing the object data</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If dataset format is invalid or class mismatch</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.PiecewiseEffects.from_netcdf> <span class="doc doc-object-name doc-function-name">from_netcdf</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a class=headerlink href=#flixopt.interface.PiecewiseEffects.from_netcdf title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>from_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Load an instance from a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be read</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If file format is invalid</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.PiecewiseEffects.get_structure> <span class="doc doc-object-name doc-function-name">get_structure</span> <a class=headerlink href=#flixopt.interface.PiecewiseEffects.get_structure title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>get_structure</span><span class=p>(</span><span class=n>clean</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>stats</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Get object structure as a dictionary.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>clean</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, remove None and empty dicts and lists.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>stats</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, replace DataArray references with statistics</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a></code> </td> <td> <div class=doc-md-description> <p>Dictionary representation of the object structure</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.PiecewiseEffects.to_json> <span class="doc doc-object-name doc-function-name">to_json</span> <a class=headerlink href=#flixopt.interface.PiecewiseEffects.to_json title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>to_json</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Save the object to a JSON file. This is meant for documentation and comparison, not for reloading.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>The path to the JSON file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.PiecewiseEffects.copy> <span class="doc doc-object-name doc-function-name">copy</span> <a class=headerlink href=#flixopt.interface.PiecewiseEffects.copy title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>copy</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Create a copy of the Interface object.</p> <p>Uses the existing serialization infrastructure to ensure proper copying of all DataArrays and nested objects.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>A new instance of the same class with copied data.</p> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 class="doc doc-heading" id=flixopt.interface.InvestParameters> <span class="doc doc-object-name doc-class-name">InvestParameters</span> <a class=headerlink href=#flixopt.interface.InvestParameters title="Anchor link to this section">¶</a></h3> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>InvestParameters</span><span class=p>(</span><span class=n>fixed_size</span><span class=p>:</span> <span class=n>Numeric_PS</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>minimum_size</span><span class=p>:</span> <span class=n>Numeric_PS</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>maximum_size</span><span class=p>:</span> <span class=n>Numeric_PS</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>mandatory</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>effects_of_investment</span><span class=p>:</span> <span class=n>Effect_PS</span> <span class=o>|</span> <span class=n>Numeric_PS</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>effects_of_investment_per_size</span><span class=p>:</span> <span class=n>Effect_PS</span> <span class=o>|</span> <span class=n>Numeric_PS</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>effects_of_retirement</span><span class=p>:</span> <span class=n>Effect_PS</span> <span class=o>|</span> <span class=n>Numeric_PS</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>piecewise_effects_of_investment</span><span class=p>:</span> <span class=n>PiecewiseEffects</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>linked_periods</span><span class=p>:</span> <span class=n>Numeric_PS</span> <span class=o>|</span> <span class=nb>tuple</span><span class=p>[</span><span class=nb>int</span><span class=p>,</span> <span class=nb>int</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents"> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code></p> <p>Define investment decision parameters with flexible sizing and effect modeling.</p> <p>This class models investment decisions in optimization problems, supporting both binary (invest/don't invest) and continuous sizing choices with comprehensive cost structures. It enables realistic representation of investment economics including fixed costs, scale effects, and divestment penalties.</p> <details class=investment-decision-types open> <summary>Investment Decision Types</summary> <p><strong>Binary Investments</strong>: Fixed size investments creating yes/no decisions (e.g., install a specific generator, build a particular facility)</p> <p><strong>Continuous Sizing</strong>: Variable size investments with minimum/maximum bounds (e.g., battery capacity from 10-1000 kWh, pipeline diameter optimization)</p> </details> <details class=cost-modeling-approaches open> <summary>Cost Modeling Approaches</summary> <ul> <li><strong>Fixed Effects</strong>: One-time costs independent of size (permits, connections)</li> <li><strong>Specific Effects</strong>: Linear costs proportional to size (€/kW, €/m²)</li> <li><strong>Piecewise Effects</strong>: Non-linear relationships (bulk discounts, learning curves)</li> <li><strong>Divestment Effects</strong>: Penalties for not investing (demolition, opportunity costs)</li> </ul> </details> <details class=mathematical-formulation open> <summary>Mathematical Formulation</summary> <p>See <a href=https://flixopt.github.io/flixopt/latest/user-guide/mathematical-notation/features/InvestParameters/ >https://flixopt.github.io/flixopt/latest/user-guide/mathematical-notation/features/InvestParameters/</a></p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>fixed_size</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Numeric_PS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.types.Numeric_PS</code>)' href=../types/#flixopt.types.Numeric_PS>Numeric_PS</a> | None</code> </td> <td> <div class=doc-md-description> <p>Creates binary decision at this exact size. None allows continuous sizing.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>minimum_size</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Numeric_PS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.types.Numeric_PS</code>)' href=../types/#flixopt.types.Numeric_PS>Numeric_PS</a> | None</code> </td> <td> <div class=doc-md-description> <p>Lower bound for continuous sizing. Default: CONFIG.Modeling.epsilon. Ignored if fixed_size is specified.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>maximum_size</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Numeric_PS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.types.Numeric_PS</code>)' href=../types/#flixopt.types.Numeric_PS>Numeric_PS</a> | None</code> </td> <td> <div class=doc-md-description> <p>Upper bound for continuous sizing. Required if fixed_size is not set. Ignored if fixed_size is specified.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>mandatory</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>Controls whether investment is required. When True, forces investment to occur (useful for mandatory upgrades or replacement decisions). When False (default), optimization can choose not to invest. With multiple periods, at least one period has to have an investment.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>effects_of_investment</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Effect_PS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.types.Effect_PS</code>)' href=../types/#flixopt.types.Effect_PS>Effect_PS</a> | <a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Numeric_PS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.types.Numeric_PS</code>)' href=../types/#flixopt.types.Numeric_PS>Numeric_PS</a> | None</code> </td> <td> <div class=doc-md-description> <p>Fixed costs if investment is made, regardless of size. Dict: {'effect_name': value} (e.g., {'cost': 10000}).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>effects_of_investment_per_size</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Effect_PS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.types.Effect_PS</code>)' href=../types/#flixopt.types.Effect_PS>Effect_PS</a> | <a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Numeric_PS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.types.Numeric_PS</code>)' href=../types/#flixopt.types.Numeric_PS>Numeric_PS</a> | None</code> </td> <td> <div class=doc-md-description> <p>Variable costs proportional to size (per-unit costs). Dict: {'effect_name': value/unit} (e.g., {'cost': 1200}).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>piecewise_effects_of_investment</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">PiecewiseEffects</span> (<code>flixopt.interface.PiecewiseEffects</code>)' href=#flixopt.interface.PiecewiseEffects>PiecewiseEffects</a> | None</code> </td> <td> <div class=doc-md-description> <p>Non-linear costs using PiecewiseEffects. Combinable with effects_of_investment and effects_of_investment_per_size.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>effects_of_retirement</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Effect_PS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.types.Effect_PS</code>)' href=../types/#flixopt.types.Effect_PS>Effect_PS</a> | <a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Numeric_PS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.types.Numeric_PS</code>)' href=../types/#flixopt.types.Numeric_PS>Numeric_PS</a> | None</code> </td> <td> <div class=doc-md-description> <p>Costs incurred if NOT investing (demolition, penalties). Dict: {'effect_name': value}.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>linked_periods</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Numeric_PS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.types.Numeric_PS</code>)' href=../types/#flixopt.types.Numeric_PS>Numeric_PS</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#tuple>tuple</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a>, <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a>] | None</code> </td> <td> <div class=doc-md-description> <p>Describes which periods are linked. 1 means linked, 0 means size=0. None means no linked periods. For convenience, pass a tuple containing the first and last period (2025, 2039), linking them and those in between</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <details class=cost-annualization-requirements open> <summary>Cost Annualization Requirements</summary> <p>All cost values must be properly weighted to match the optimization model's time horizon. For long-term investments, the cost values should be annualized to the corresponding operation time (annuity).</p> <ul> <li>Use equivalent annual cost (capital cost / equipment lifetime)</li> <li>Apply appropriate discount rates for present value optimizations</li> <li>Account for inflation, escalation, and financing costs</li> </ul> <p>Example: €1M equipment with 20-year life → €50k/year fixed cost</p> </details> <p><span class=doc-section-title>Examples:</span></p> <p>Simple binary investment (solar panels):</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>solar_investment</span> <span class=o>=</span> <span class=n>InvestParameters</span><span class=p>(</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a>    <span class=n>fixed_size</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span>  <span class=c1># 100 kW system (binary decision)</span>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a>    <span class=n>mandatory</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>  <span class=c1># Investment is optional</span>
</span><span id=__span-0-4><a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a>    <span class=n>effects_of_investment</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-0-5><a href=#__codelineno-0-5 id=__codelineno-0-5 name=__codelineno-0-5></a>        <span class=s1>'cost'</span><span class=p>:</span> <span class=mi>25000</span><span class=p>,</span>  <span class=c1># Installation and permitting costs</span>
</span><span id=__span-0-6><a href=#__codelineno-0-6 id=__codelineno-0-6 name=__codelineno-0-6></a>        <span class=s1>'CO2'</span><span class=p>:</span> <span class=o>-</span><span class=mi>50000</span><span class=p>,</span>  <span class=c1># Avoided emissions over lifetime</span>
</span><span id=__span-0-7><a href=#__codelineno-0-7 id=__codelineno-0-7 name=__codelineno-0-7></a>    <span class=p>},</span>
</span><span id=__span-0-8><a href=#__codelineno-0-8 id=__codelineno-0-8 name=__codelineno-0-8></a>    <span class=n>effects_of_investment_per_size</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-0-9><a href=#__codelineno-0-9 id=__codelineno-0-9 name=__codelineno-0-9></a>        <span class=s1>'cost'</span><span class=p>:</span> <span class=mi>1200</span><span class=p>,</span>  <span class=c1># €1200/kW for panels (annualized)</span>
</span><span id=__span-0-10><a href=#__codelineno-0-10 id=__codelineno-0-10 name=__codelineno-0-10></a>        <span class=s1>'CO2'</span><span class=p>:</span> <span class=o>-</span><span class=mi>800</span><span class=p>,</span>  <span class=c1># kg CO2 avoided per kW annually</span>
</span><span id=__span-0-11><a href=#__codelineno-0-11 id=__codelineno-0-11 name=__codelineno-0-11></a>    <span class=p>},</span>
</span><span id=__span-0-12><a href=#__codelineno-0-12 id=__codelineno-0-12 name=__codelineno-0-12></a><span class=p>)</span>
</span></code></pre></div> <p>Flexible sizing with economies of scale:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-1-1><a href=#__codelineno-1-1 id=__codelineno-1-1 name=__codelineno-1-1></a><span class=n>battery_investment</span> <span class=o>=</span> <span class=n>InvestParameters</span><span class=p>(</span>
</span><span id=__span-1-2><a href=#__codelineno-1-2 id=__codelineno-1-2 name=__codelineno-1-2></a>    <span class=n>minimum_size</span><span class=o>=</span><span class=mi>10</span><span class=p>,</span>  <span class=c1># Minimum viable system size (kWh)</span>
</span><span id=__span-1-3><a href=#__codelineno-1-3 id=__codelineno-1-3 name=__codelineno-1-3></a>    <span class=n>maximum_size</span><span class=o>=</span><span class=mi>1000</span><span class=p>,</span>  <span class=c1># Maximum installable capacity</span>
</span><span id=__span-1-4><a href=#__codelineno-1-4 id=__codelineno-1-4 name=__codelineno-1-4></a>    <span class=n>mandatory</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>  <span class=c1># Investment is optional</span>
</span><span id=__span-1-5><a href=#__codelineno-1-5 id=__codelineno-1-5 name=__codelineno-1-5></a>    <span class=n>effects_of_investment</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-1-6><a href=#__codelineno-1-6 id=__codelineno-1-6 name=__codelineno-1-6></a>        <span class=s1>'cost'</span><span class=p>:</span> <span class=mi>5000</span><span class=p>,</span>  <span class=c1># Grid connection and control system</span>
</span><span id=__span-1-7><a href=#__codelineno-1-7 id=__codelineno-1-7 name=__codelineno-1-7></a>        <span class=s1>'installation_time'</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>  <span class=c1># Days for fixed components</span>
</span><span id=__span-1-8><a href=#__codelineno-1-8 id=__codelineno-1-8 name=__codelineno-1-8></a>    <span class=p>},</span>
</span><span id=__span-1-9><a href=#__codelineno-1-9 id=__codelineno-1-9 name=__codelineno-1-9></a>    <span class=n>piecewise_effects_of_investment</span><span class=o>=</span><span class=n>PiecewiseEffects</span><span class=p>(</span>
</span><span id=__span-1-10><a href=#__codelineno-1-10 id=__codelineno-1-10 name=__codelineno-1-10></a>        <span class=n>piecewise_origin</span><span class=o>=</span><span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-1-11><a href=#__codelineno-1-11 id=__codelineno-1-11 name=__codelineno-1-11></a>            <span class=p>[</span>
</span><span id=__span-1-12><a href=#__codelineno-1-12 id=__codelineno-1-12 name=__codelineno-1-12></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>100</span><span class=p>),</span>  <span class=c1># Small systems</span>
</span><span id=__span-1-13><a href=#__codelineno-1-13 id=__codelineno-1-13 name=__codelineno-1-13></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>100</span><span class=p>,</span> <span class=mi>500</span><span class=p>),</span>  <span class=c1># Medium systems</span>
</span><span id=__span-1-14><a href=#__codelineno-1-14 id=__codelineno-1-14 name=__codelineno-1-14></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>500</span><span class=p>,</span> <span class=mi>1000</span><span class=p>),</span>  <span class=c1># Large systems</span>
</span><span id=__span-1-15><a href=#__codelineno-1-15 id=__codelineno-1-15 name=__codelineno-1-15></a>            <span class=p>]</span>
</span><span id=__span-1-16><a href=#__codelineno-1-16 id=__codelineno-1-16 name=__codelineno-1-16></a>        <span class=p>),</span>
</span><span id=__span-1-17><a href=#__codelineno-1-17 id=__codelineno-1-17 name=__codelineno-1-17></a>        <span class=n>piecewise_shares</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-1-18><a href=#__codelineno-1-18 id=__codelineno-1-18 name=__codelineno-1-18></a>            <span class=s1>'cost'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-1-19><a href=#__codelineno-1-19 id=__codelineno-1-19 name=__codelineno-1-19></a>                <span class=p>[</span>
</span><span id=__span-1-20><a href=#__codelineno-1-20 id=__codelineno-1-20 name=__codelineno-1-20></a>                    <span class=n>Piece</span><span class=p>(</span><span class=mi>800</span><span class=p>,</span> <span class=mi>750</span><span class=p>),</span>  <span class=c1># High cost/kWh for small systems</span>
</span><span id=__span-1-21><a href=#__codelineno-1-21 id=__codelineno-1-21 name=__codelineno-1-21></a>                    <span class=n>Piece</span><span class=p>(</span><span class=mi>750</span><span class=p>,</span> <span class=mi>600</span><span class=p>),</span>  <span class=c1># Medium cost/kWh</span>
</span><span id=__span-1-22><a href=#__codelineno-1-22 id=__codelineno-1-22 name=__codelineno-1-22></a>                    <span class=n>Piece</span><span class=p>(</span><span class=mi>600</span><span class=p>,</span> <span class=mi>500</span><span class=p>),</span>  <span class=c1># Bulk discount for large systems</span>
</span><span id=__span-1-23><a href=#__codelineno-1-23 id=__codelineno-1-23 name=__codelineno-1-23></a>                <span class=p>]</span>
</span><span id=__span-1-24><a href=#__codelineno-1-24 id=__codelineno-1-24 name=__codelineno-1-24></a>            <span class=p>)</span>
</span><span id=__span-1-25><a href=#__codelineno-1-25 id=__codelineno-1-25 name=__codelineno-1-25></a>        <span class=p>},</span>
</span><span id=__span-1-26><a href=#__codelineno-1-26 id=__codelineno-1-26 name=__codelineno-1-26></a>    <span class=p>),</span>
</span><span id=__span-1-27><a href=#__codelineno-1-27 id=__codelineno-1-27 name=__codelineno-1-27></a><span class=p>)</span>
</span></code></pre></div> <p>Mandatory replacement with retirement costs:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-2-1><a href=#__codelineno-2-1 id=__codelineno-2-1 name=__codelineno-2-1></a><span class=n>boiler_replacement</span> <span class=o>=</span> <span class=n>InvestParameters</span><span class=p>(</span>
</span><span id=__span-2-2><a href=#__codelineno-2-2 id=__codelineno-2-2 name=__codelineno-2-2></a>    <span class=n>minimum_size</span><span class=o>=</span><span class=mi>50</span><span class=p>,</span>
</span><span id=__span-2-3><a href=#__codelineno-2-3 id=__codelineno-2-3 name=__codelineno-2-3></a>    <span class=n>maximum_size</span><span class=o>=</span><span class=mi>200</span><span class=p>,</span>
</span><span id=__span-2-4><a href=#__codelineno-2-4 id=__codelineno-2-4 name=__codelineno-2-4></a>    <span class=n>mandatory</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>  <span class=c1># Can choose not to replace</span>
</span><span id=__span-2-5><a href=#__codelineno-2-5 id=__codelineno-2-5 name=__codelineno-2-5></a>    <span class=n>effects_of_investment</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-2-6><a href=#__codelineno-2-6 id=__codelineno-2-6 name=__codelineno-2-6></a>        <span class=s1>'cost'</span><span class=p>:</span> <span class=mi>15000</span><span class=p>,</span>  <span class=c1># Installation costs</span>
</span><span id=__span-2-7><a href=#__codelineno-2-7 id=__codelineno-2-7 name=__codelineno-2-7></a>        <span class=s1>'disruption'</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span>  <span class=c1># Days of downtime</span>
</span><span id=__span-2-8><a href=#__codelineno-2-8 id=__codelineno-2-8 name=__codelineno-2-8></a>    <span class=p>},</span>
</span><span id=__span-2-9><a href=#__codelineno-2-9 id=__codelineno-2-9 name=__codelineno-2-9></a>    <span class=n>effects_of_investment_per_size</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-2-10><a href=#__codelineno-2-10 id=__codelineno-2-10 name=__codelineno-2-10></a>        <span class=s1>'cost'</span><span class=p>:</span> <span class=mi>400</span><span class=p>,</span>  <span class=c1># €400/kW capacity</span>
</span><span id=__span-2-11><a href=#__codelineno-2-11 id=__codelineno-2-11 name=__codelineno-2-11></a>        <span class=s1>'maintenance'</span><span class=p>:</span> <span class=mi>25</span><span class=p>,</span>  <span class=c1># Annual maintenance per kW</span>
</span><span id=__span-2-12><a href=#__codelineno-2-12 id=__codelineno-2-12 name=__codelineno-2-12></a>    <span class=p>},</span>
</span><span id=__span-2-13><a href=#__codelineno-2-13 id=__codelineno-2-13 name=__codelineno-2-13></a>    <span class=n>effects_of_retirement</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-2-14><a href=#__codelineno-2-14 id=__codelineno-2-14 name=__codelineno-2-14></a>        <span class=s1>'cost'</span><span class=p>:</span> <span class=mi>8000</span><span class=p>,</span>  <span class=c1># Demolition if not replaced</span>
</span><span id=__span-2-15><a href=#__codelineno-2-15 id=__codelineno-2-15 name=__codelineno-2-15></a>        <span class=s1>'environmental'</span><span class=p>:</span> <span class=mi>100</span><span class=p>,</span>  <span class=c1># Disposal fees</span>
</span><span id=__span-2-16><a href=#__codelineno-2-16 id=__codelineno-2-16 name=__codelineno-2-16></a>    <span class=p>},</span>
</span><span id=__span-2-17><a href=#__codelineno-2-17 id=__codelineno-2-17 name=__codelineno-2-17></a><span class=p>)</span>
</span></code></pre></div> <p>Multi-technology comparison:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-3-1><a href=#__codelineno-3-1 id=__codelineno-3-1 name=__codelineno-3-1></a><span class=c1># Gas turbine option</span>
</span><span id=__span-3-2><a href=#__codelineno-3-2 id=__codelineno-3-2 name=__codelineno-3-2></a><span class=n>gas_turbine</span> <span class=o>=</span> <span class=n>InvestParameters</span><span class=p>(</span>
</span><span id=__span-3-3><a href=#__codelineno-3-3 id=__codelineno-3-3 name=__codelineno-3-3></a>    <span class=n>fixed_size</span><span class=o>=</span><span class=mi>50</span><span class=p>,</span>  <span class=c1># MW</span>
</span><span id=__span-3-4><a href=#__codelineno-3-4 id=__codelineno-3-4 name=__codelineno-3-4></a>    <span class=n>effects_of_investment</span><span class=o>=</span><span class=p>{</span><span class=s1>'cost'</span><span class=p>:</span> <span class=mi>2500000</span><span class=p>,</span> <span class=s1>'CO2'</span><span class=p>:</span> <span class=mi>1250000</span><span class=p>},</span>
</span><span id=__span-3-5><a href=#__codelineno-3-5 id=__codelineno-3-5 name=__codelineno-3-5></a>    <span class=n>effects_of_investment_per_size</span><span class=o>=</span><span class=p>{</span><span class=s1>'fuel_cost'</span><span class=p>:</span> <span class=mi>45</span><span class=p>,</span> <span class=s1>'maintenance'</span><span class=p>:</span> <span class=mi>12</span><span class=p>},</span>
</span><span id=__span-3-6><a href=#__codelineno-3-6 id=__codelineno-3-6 name=__codelineno-3-6></a><span class=p>)</span>
</span><span id=__span-3-7><a href=#__codelineno-3-7 id=__codelineno-3-7 name=__codelineno-3-7></a>
</span><span id=__span-3-8><a href=#__codelineno-3-8 id=__codelineno-3-8 name=__codelineno-3-8></a><span class=c1># Wind farm option</span>
</span><span id=__span-3-9><a href=#__codelineno-3-9 id=__codelineno-3-9 name=__codelineno-3-9></a><span class=n>wind_farm</span> <span class=o>=</span> <span class=n>InvestParameters</span><span class=p>(</span>
</span><span id=__span-3-10><a href=#__codelineno-3-10 id=__codelineno-3-10 name=__codelineno-3-10></a>    <span class=n>minimum_size</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span>
</span><span id=__span-3-11><a href=#__codelineno-3-11 id=__codelineno-3-11 name=__codelineno-3-11></a>    <span class=n>maximum_size</span><span class=o>=</span><span class=mi>100</span><span class=p>,</span>
</span><span id=__span-3-12><a href=#__codelineno-3-12 id=__codelineno-3-12 name=__codelineno-3-12></a>    <span class=n>effects_of_investment</span><span class=o>=</span><span class=p>{</span><span class=s1>'cost'</span><span class=p>:</span> <span class=mi>1000000</span><span class=p>,</span> <span class=s1>'CO2'</span><span class=p>:</span> <span class=o>-</span><span class=mi>5000000</span><span class=p>},</span>
</span><span id=__span-3-13><a href=#__codelineno-3-13 id=__codelineno-3-13 name=__codelineno-3-13></a>    <span class=n>effects_of_investment_per_size</span><span class=o>=</span><span class=p>{</span><span class=s1>'cost'</span><span class=p>:</span> <span class=mi>1800000</span><span class=p>,</span> <span class=s1>'land_use'</span><span class=p>:</span> <span class=mf>0.5</span><span class=p>},</span>
</span><span id=__span-3-14><a href=#__codelineno-3-14 id=__codelineno-3-14 name=__codelineno-3-14></a><span class=p>)</span>
</span></code></pre></div> <p>Technology learning curve:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-4-1><a href=#__codelineno-4-1 id=__codelineno-4-1 name=__codelineno-4-1></a><span class=n>hydrogen_electrolyzer</span> <span class=o>=</span> <span class=n>InvestParameters</span><span class=p>(</span>
</span><span id=__span-4-2><a href=#__codelineno-4-2 id=__codelineno-4-2 name=__codelineno-4-2></a>    <span class=n>minimum_size</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>
</span><span id=__span-4-3><a href=#__codelineno-4-3 id=__codelineno-4-3 name=__codelineno-4-3></a>    <span class=n>maximum_size</span><span class=o>=</span><span class=mi>50</span><span class=p>,</span>  <span class=c1># MW</span>
</span><span id=__span-4-4><a href=#__codelineno-4-4 id=__codelineno-4-4 name=__codelineno-4-4></a>    <span class=n>piecewise_effects_of_investment</span><span class=o>=</span><span class=n>PiecewiseEffects</span><span class=p>(</span>
</span><span id=__span-4-5><a href=#__codelineno-4-5 id=__codelineno-4-5 name=__codelineno-4-5></a>        <span class=n>piecewise_origin</span><span class=o>=</span><span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-4-6><a href=#__codelineno-4-6 id=__codelineno-4-6 name=__codelineno-4-6></a>            <span class=p>[</span>
</span><span id=__span-4-7><a href=#__codelineno-4-7 id=__codelineno-4-7 name=__codelineno-4-7></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>5</span><span class=p>),</span>  <span class=c1># Small scale: early adoption</span>
</span><span id=__span-4-8><a href=#__codelineno-4-8 id=__codelineno-4-8 name=__codelineno-4-8></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>20</span><span class=p>),</span>  <span class=c1># Medium scale: cost reduction</span>
</span><span id=__span-4-9><a href=#__codelineno-4-9 id=__codelineno-4-9 name=__codelineno-4-9></a>                <span class=n>Piece</span><span class=p>(</span><span class=mi>20</span><span class=p>,</span> <span class=mi>50</span><span class=p>),</span>  <span class=c1># Large scale: mature technology</span>
</span><span id=__span-4-10><a href=#__codelineno-4-10 id=__codelineno-4-10 name=__codelineno-4-10></a>            <span class=p>]</span>
</span><span id=__span-4-11><a href=#__codelineno-4-11 id=__codelineno-4-11 name=__codelineno-4-11></a>        <span class=p>),</span>
</span><span id=__span-4-12><a href=#__codelineno-4-12 id=__codelineno-4-12 name=__codelineno-4-12></a>        <span class=n>piecewise_shares</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-4-13><a href=#__codelineno-4-13 id=__codelineno-4-13 name=__codelineno-4-13></a>            <span class=s1>'capex'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-4-14><a href=#__codelineno-4-14 id=__codelineno-4-14 name=__codelineno-4-14></a>                <span class=p>[</span>
</span><span id=__span-4-15><a href=#__codelineno-4-15 id=__codelineno-4-15 name=__codelineno-4-15></a>                    <span class=n>Piece</span><span class=p>(</span><span class=mi>2000</span><span class=p>,</span> <span class=mi>1800</span><span class=p>),</span>  <span class=c1># Learning reduces costs</span>
</span><span id=__span-4-16><a href=#__codelineno-4-16 id=__codelineno-4-16 name=__codelineno-4-16></a>                    <span class=n>Piece</span><span class=p>(</span><span class=mi>1800</span><span class=p>,</span> <span class=mi>1400</span><span class=p>),</span>  <span class=c1># Continued cost reduction</span>
</span><span id=__span-4-17><a href=#__codelineno-4-17 id=__codelineno-4-17 name=__codelineno-4-17></a>                    <span class=n>Piece</span><span class=p>(</span><span class=mi>1400</span><span class=p>,</span> <span class=mi>1200</span><span class=p>),</span>  <span class=c1># Technology maturity</span>
</span><span id=__span-4-18><a href=#__codelineno-4-18 id=__codelineno-4-18 name=__codelineno-4-18></a>                <span class=p>]</span>
</span><span id=__span-4-19><a href=#__codelineno-4-19 id=__codelineno-4-19 name=__codelineno-4-19></a>            <span class=p>),</span>
</span><span id=__span-4-20><a href=#__codelineno-4-20 id=__codelineno-4-20 name=__codelineno-4-20></a>            <span class=s1>'efficiency'</span><span class=p>:</span> <span class=n>Piecewise</span><span class=p>(</span>
</span><span id=__span-4-21><a href=#__codelineno-4-21 id=__codelineno-4-21 name=__codelineno-4-21></a>                <span class=p>[</span>
</span><span id=__span-4-22><a href=#__codelineno-4-22 id=__codelineno-4-22 name=__codelineno-4-22></a>                    <span class=n>Piece</span><span class=p>(</span><span class=mi>65</span><span class=p>,</span> <span class=mi>68</span><span class=p>),</span>  <span class=c1># Improving efficiency</span>
</span><span id=__span-4-23><a href=#__codelineno-4-23 id=__codelineno-4-23 name=__codelineno-4-23></a>                    <span class=n>Piece</span><span class=p>(</span><span class=mi>68</span><span class=p>,</span> <span class=mi>72</span><span class=p>),</span>  <span class=c1># with scale and experience</span>
</span><span id=__span-4-24><a href=#__codelineno-4-24 id=__codelineno-4-24 name=__codelineno-4-24></a>                    <span class=n>Piece</span><span class=p>(</span><span class=mi>72</span><span class=p>,</span> <span class=mi>75</span><span class=p>),</span>  <span class=c1># Best efficiency at scale</span>
</span><span id=__span-4-25><a href=#__codelineno-4-25 id=__codelineno-4-25 name=__codelineno-4-25></a>                <span class=p>]</span>
</span><span id=__span-4-26><a href=#__codelineno-4-26 id=__codelineno-4-26 name=__codelineno-4-26></a>            <span class=p>),</span>
</span><span id=__span-4-27><a href=#__codelineno-4-27 id=__codelineno-4-27 name=__codelineno-4-27></a>        <span class=p>},</span>
</span><span id=__span-4-28><a href=#__codelineno-4-28 id=__codelineno-4-28 name=__codelineno-4-28></a>    <span class=p>),</span>
</span><span id=__span-4-29><a href=#__codelineno-4-29 id=__codelineno-4-29 name=__codelineno-4-29></a><span class=p>)</span>
</span></code></pre></div> <details class=common-use-cases open> <summary>Common Use Cases</summary> <ul> <li>Power generation: Plant sizing, technology selection, retrofit decisions</li> <li>Industrial equipment: Capacity expansion, efficiency upgrades, replacements</li> <li>Infrastructure: Network expansion, facility construction, system upgrades</li> <li>Energy storage: Battery sizing, pumped hydro, compressed air systems</li> <li>Transportation: Fleet expansion, charging infrastructure, modal shifts</li> <li>Buildings: HVAC systems, insulation upgrades, renewable integration</li> </ul> </details> <div class="doc doc-children"> <h4 id=flixopt.interface.InvestParameters-attributes>Attributes<a class=headerlink href=#flixopt.interface.InvestParameters-attributes title="Anchor link to this section">¶</a></h4> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.interface.InvestParameters.prefix> <span class="doc doc-object-name doc-attribute-name">prefix</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.interface.InvestParameters.prefix title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>prefix</span><span class=p>:</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>The prefix used for naming transformed data (e.g., 'Boiler(Q_th)|status_parameters').</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.interface.InvestParameters.flow_system> <span class="doc doc-object-name doc-attribute-name">flow_system</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.interface.InvestParameters.flow_system title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>flow_system</span><span class=p>:</span> <span class=n>FlowSystem</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Access the FlowSystem this interface is linked to.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=../flow_system/#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>The FlowSystem instance this interface belongs to.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#RuntimeError>RuntimeError</a></code> </td> <td> <div class=doc-md-description> <p>If interface has not been linked to a FlowSystem yet.</p> </div> </td> </tr> </tbody> </table> <details class=note open> <summary>Note</summary> <p>For Elements, this is set during add_elements(). For parameter classes, this is set recursively when the parent Element is registered.</p> </details> </div> </div> <h4 id=flixopt.interface.InvestParameters-functions>Functions<a class=headerlink href=#flixopt.interface.InvestParameters-functions title="Anchor link to this section">¶</a></h4> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.InvestParameters.link_to_flow_system> <span class="doc doc-object-name doc-function-name">link_to_flow_system</span> <a class=headerlink href=#flixopt.interface.InvestParameters.link_to_flow_system title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>link_to_flow_system</span><span class=p>(</span><span class=n>flow_system</span><span class=p>,</span> <span class=n>prefix</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>''</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Propagate flow_system reference to nested PiecewiseEffects object if present.</p> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.InvestParameters.format_for_repr> <span class="doc doc-object-name doc-function-name">format_for_repr</span> <a class=headerlink href=#flixopt.interface.InvestParameters.format_for_repr title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>format_for_repr</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Format InvestParameters for display in repr methods.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>Formatted string showing size information</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.InvestParameters.to_dataset> <span class="doc doc-object-name doc-function-name">to_dataset</span> <a class=headerlink href=#flixopt.interface.InvestParameters.to_dataset title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>to_dataset</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>Dataset</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Convert the object to an xarray Dataset representation. All DataArrays become dataset variables, everything else goes to attrs.</p> <p>Its recommended to only call this method on Interfaces with all numeric data stored as xr.DataArrays. Interfaces inside a FlowSystem are automatically converted this form after connecting and transforming the FlowSystem.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>xr.Dataset: Dataset containing all DataArrays with basic objects only in attributes</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails due to naming conflicts or invalid data</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.InvestParameters.to_netcdf> <span class="doc doc-object-name doc-function-name">to_netcdf</span> <a class=headerlink href=#flixopt.interface.InvestParameters.to_netcdf title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>to_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>,</span> <span class=n>compression</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>5</span><span class=p>,</span> <span class=n>overwrite</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Save the object to a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to save the NetCDF file. Parent directories are created if they don't exist.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>compression</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Compression level (0-9)</p> </div> </td> <td> <code>5</code> </td> </tr> <tr class=doc-section-item> <td> <code>overwrite</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, overwrite existing file. If False, raise error if file exists.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#FileExistsError>FileExistsError</a></code> </td> <td> <div class=doc-md-description> <p>If overwrite=False and file already exists.</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.InvestParameters.from_dataset> <span class="doc doc-object-name doc-function-name">from_dataset</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a class=headerlink href=#flixopt.interface.InvestParameters.from_dataset title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>from_dataset</span><span class=p>(</span><span class=n>ds</span><span class=p>:</span> <span class=n>Dataset</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Create an instance from an xarray Dataset.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ds</code> </td> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>Dataset containing the object data</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If dataset format is invalid or class mismatch</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.InvestParameters.from_netcdf> <span class="doc doc-object-name doc-function-name">from_netcdf</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a class=headerlink href=#flixopt.interface.InvestParameters.from_netcdf title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>from_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Load an instance from a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be read</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If file format is invalid</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.InvestParameters.get_structure> <span class="doc doc-object-name doc-function-name">get_structure</span> <a class=headerlink href=#flixopt.interface.InvestParameters.get_structure title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>get_structure</span><span class=p>(</span><span class=n>clean</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>stats</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Get object structure as a dictionary.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>clean</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, remove None and empty dicts and lists.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>stats</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, replace DataArray references with statistics</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a></code> </td> <td> <div class=doc-md-description> <p>Dictionary representation of the object structure</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.InvestParameters.to_json> <span class="doc doc-object-name doc-function-name">to_json</span> <a class=headerlink href=#flixopt.interface.InvestParameters.to_json title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>to_json</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Save the object to a JSON file. This is meant for documentation and comparison, not for reloading.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>The path to the JSON file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.InvestParameters.copy> <span class="doc doc-object-name doc-function-name">copy</span> <a class=headerlink href=#flixopt.interface.InvestParameters.copy title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>copy</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Create a copy of the Interface object.</p> <p>Uses the existing serialization infrastructure to ensure proper copying of all DataArrays and nested objects.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>A new instance of the same class with copied data.</p> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 class="doc doc-heading" id=flixopt.interface.StatusParameters> <span class="doc doc-object-name doc-class-name">StatusParameters</span> <a class=headerlink href=#flixopt.interface.StatusParameters title="Anchor link to this section">¶</a></h3> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>StatusParameters</span><span class=p>(</span><span class=n>effects_per_startup</span><span class=p>:</span> <span class=n>Effect_TPS</span> <span class=o>|</span> <span class=n>Numeric_TPS</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>effects_per_active_hour</span><span class=p>:</span> <span class=n>Effect_TPS</span> <span class=o>|</span> <span class=n>Numeric_TPS</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>active_hours_min</span><span class=p>:</span> <span class=n>Numeric_PS</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>active_hours_max</span><span class=p>:</span> <span class=n>Numeric_PS</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>min_uptime</span><span class=p>:</span> <span class=n>Numeric_TPS</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>max_uptime</span><span class=p>:</span> <span class=n>Numeric_TPS</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>min_downtime</span><span class=p>:</span> <span class=n>Numeric_TPS</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>max_downtime</span><span class=p>:</span> <span class=n>Numeric_TPS</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>startup_limit</span><span class=p>:</span> <span class=n>Numeric_PS</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>force_startup_tracking</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents"> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code></p> <p>Define operational constraints and effects for binary status equipment behavior.</p> <p>This class models equipment that operates in discrete states (active/inactive) rather than continuous operation, capturing realistic operational constraints and associated costs. It handles complex equipment behavior including startup costs, minimum run times, cycling limitations, and maintenance scheduling requirements.</p> <details class=key-modeling-capabilities open> <summary>Key Modeling Capabilities</summary> <p><strong>Startup Costs</strong>: One-time costs for starting equipment (fuel, wear, labor) <strong>Runtime Constraints</strong>: Minimum and maximum continuous operation periods (uptime/downtime) <strong>Cycling Limits</strong>: Maximum number of startups to prevent excessive wear <strong>Operating Hours</strong>: Total active hours limits and requirements over time horizon</p> </details> <details class=typical-equipment-applications open> <summary>Typical Equipment Applications</summary> <ul> <li><strong>Power Plants</strong>: Combined cycle units, steam turbines with startup costs</li> <li><strong>Industrial Processes</strong>: Batch reactors, furnaces with thermal cycling</li> <li><strong>HVAC Systems</strong>: Chillers, boilers with minimum run times</li> <li><strong>Backup Equipment</strong>: Emergency generators, standby systems</li> <li><strong>Process Equipment</strong>: Compressors, pumps with operational constraints</li> </ul> </details> <details class=mathematical-formulation open> <summary>Mathematical Formulation</summary> <p>See <a href=https://flixopt.github.io/flixopt/latest/user-guide/mathematical-notation/features/StatusParameters/ >https://flixopt.github.io/flixopt/latest/user-guide/mathematical-notation/features/StatusParameters/</a></p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>effects_per_startup</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Effect_TPS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.types.Effect_TPS</code>)' href=../types/#flixopt.types.Effect_TPS>Effect_TPS</a> | <a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Numeric_TPS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.types.Numeric_TPS</code>)' href=../types/#flixopt.types.Numeric_TPS>Numeric_TPS</a> | None</code> </td> <td> <div class=doc-md-description> <p>Costs or impacts incurred for each transition from inactive state (status=0) to active state (status=1). Represents startup costs, wear and tear, or other switching impacts. Dictionary mapping effect names to values (e.g., {'cost': 500, 'maintenance_hours': 2}).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>effects_per_active_hour</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Effect_TPS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.types.Effect_TPS</code>)' href=../types/#flixopt.types.Effect_TPS>Effect_TPS</a> | <a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Numeric_TPS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.types.Numeric_TPS</code>)' href=../types/#flixopt.types.Numeric_TPS>Numeric_TPS</a> | None</code> </td> <td> <div class=doc-md-description> <p>Ongoing costs or impacts while equipment operates in the active state. Includes fuel costs, labor, consumables, or emissions. Dictionary mapping effect names to hourly values (e.g., {'fuel_cost': 45}).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>active_hours_min</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Numeric_PS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.types.Numeric_PS</code>)' href=../types/#flixopt.types.Numeric_PS>Numeric_PS</a> | None</code> </td> <td> <div class=doc-md-description> <p>Minimum total active hours across the entire time horizon per period. Ensures equipment meets minimum utilization requirements or contractual obligations (e.g., power purchase agreements, maintenance schedules).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>active_hours_max</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Numeric_PS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.types.Numeric_PS</code>)' href=../types/#flixopt.types.Numeric_PS>Numeric_PS</a> | None</code> </td> <td> <div class=doc-md-description> <p>Maximum total active hours across the entire time horizon per period. Limits equipment usage due to maintenance schedules, fuel availability, environmental permits, or equipment lifetime constraints.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>min_uptime</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Numeric_TPS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.types.Numeric_TPS</code>)' href=../types/#flixopt.types.Numeric_TPS>Numeric_TPS</a> | None</code> </td> <td> <div class=doc-md-description> <p>Minimum continuous operating duration once started (unit commitment term). Models minimum run times due to thermal constraints, process stability, or efficiency considerations. Can be time-varying to reflect different constraints across the planning horizon.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>max_uptime</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Numeric_TPS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.types.Numeric_TPS</code>)' href=../types/#flixopt.types.Numeric_TPS>Numeric_TPS</a> | None</code> </td> <td> <div class=doc-md-description> <p>Maximum continuous operating duration in one campaign (unit commitment term). Models mandatory maintenance intervals, process batch sizes, or equipment thermal limits requiring periodic shutdowns.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>min_downtime</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Numeric_TPS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.types.Numeric_TPS</code>)' href=../types/#flixopt.types.Numeric_TPS>Numeric_TPS</a> | None</code> </td> <td> <div class=doc-md-description> <p>Minimum continuous shutdown duration between operations (unit commitment term). Models cooling periods, maintenance requirements, or process constraints that prevent immediate restart after shutdown.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>max_downtime</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Numeric_TPS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.types.Numeric_TPS</code>)' href=../types/#flixopt.types.Numeric_TPS>Numeric_TPS</a> | None</code> </td> <td> <div class=doc-md-description> <p>Maximum continuous shutdown duration before mandatory restart. Models equipment preservation, process stability, or contractual requirements for minimum activity levels.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>startup_limit</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Numeric_PS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.types.Numeric_PS</code>)' href=../types/#flixopt.types.Numeric_PS>Numeric_PS</a> | None</code> </td> <td> <div class=doc-md-description> <p>Maximum number of startup operations across the time horizon per period.. Limits equipment cycling to reduce wear, maintenance costs, or comply with operational constraints (e.g., grid stability requirements).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>force_startup_tracking</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>When True, creates startup variables even without explicit startup_limit constraint. Useful for tracking or reporting startup events without enforcing limits.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <details class=note open> <summary>Note</summary> <p><strong>Time Series Boundary Handling</strong>: The final time period constraints for min_uptime/max_uptime and min_downtime/max_downtime are not enforced, allowing the optimization to end with ongoing campaigns that may be shorter than the specified minimums or longer than maximums.</p> </details> <p><span class=doc-section-title>Examples:</span></p> <p>Combined cycle power plant with startup costs and minimum run time:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>power_plant_operation</span> <span class=o>=</span> <span class=n>StatusParameters</span><span class=p>(</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a>    <span class=n>effects_per_startup</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a>        <span class=s1>'startup_cost'</span><span class=p>:</span> <span class=mi>25000</span><span class=p>,</span>  <span class=c1># €25,000 per startup</span>
</span><span id=__span-0-4><a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a>        <span class=s1>'startup_fuel'</span><span class=p>:</span> <span class=mi>150</span><span class=p>,</span>  <span class=c1># GJ natural gas for startup</span>
</span><span id=__span-0-5><a href=#__codelineno-0-5 id=__codelineno-0-5 name=__codelineno-0-5></a>        <span class=s1>'startup_time'</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span>  <span class=c1># Hours to reach full output</span>
</span><span id=__span-0-6><a href=#__codelineno-0-6 id=__codelineno-0-6 name=__codelineno-0-6></a>        <span class=s1>'maintenance_impact'</span><span class=p>:</span> <span class=mf>0.1</span><span class=p>,</span>  <span class=c1># Fractional life consumption</span>
</span><span id=__span-0-7><a href=#__codelineno-0-7 id=__codelineno-0-7 name=__codelineno-0-7></a>    <span class=p>},</span>
</span><span id=__span-0-8><a href=#__codelineno-0-8 id=__codelineno-0-8 name=__codelineno-0-8></a>    <span class=n>effects_per_active_hour</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-0-9><a href=#__codelineno-0-9 id=__codelineno-0-9 name=__codelineno-0-9></a>        <span class=s1>'fixed_om'</span><span class=p>:</span> <span class=mi>125</span><span class=p>,</span>  <span class=c1># Fixed O&amp;M costs while active</span>
</span><span id=__span-0-10><a href=#__codelineno-0-10 id=__codelineno-0-10 name=__codelineno-0-10></a>        <span class=s1>'auxiliary_power'</span><span class=p>:</span> <span class=mf>2.5</span><span class=p>,</span>  <span class=c1># MW parasitic loads</span>
</span><span id=__span-0-11><a href=#__codelineno-0-11 id=__codelineno-0-11 name=__codelineno-0-11></a>    <span class=p>},</span>
</span><span id=__span-0-12><a href=#__codelineno-0-12 id=__codelineno-0-12 name=__codelineno-0-12></a>    <span class=n>min_uptime</span><span class=o>=</span><span class=mi>8</span><span class=p>,</span>  <span class=c1># Minimum 8-hour run once started</span>
</span><span id=__span-0-13><a href=#__codelineno-0-13 id=__codelineno-0-13 name=__codelineno-0-13></a>    <span class=n>min_downtime</span><span class=o>=</span><span class=mi>4</span><span class=p>,</span>  <span class=c1># Minimum 4-hour cooling period</span>
</span><span id=__span-0-14><a href=#__codelineno-0-14 id=__codelineno-0-14 name=__codelineno-0-14></a>    <span class=n>active_hours_max</span><span class=o>=</span><span class=mi>6000</span><span class=p>,</span>  <span class=c1># Annual operating limit</span>
</span><span id=__span-0-15><a href=#__codelineno-0-15 id=__codelineno-0-15 name=__codelineno-0-15></a><span class=p>)</span>
</span></code></pre></div> <p>Industrial batch process with cycling limits:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-1-1><a href=#__codelineno-1-1 id=__codelineno-1-1 name=__codelineno-1-1></a><span class=n>batch_reactor</span> <span class=o>=</span> <span class=n>StatusParameters</span><span class=p>(</span>
</span><span id=__span-1-2><a href=#__codelineno-1-2 id=__codelineno-1-2 name=__codelineno-1-2></a>    <span class=n>effects_per_startup</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-1-3><a href=#__codelineno-1-3 id=__codelineno-1-3 name=__codelineno-1-3></a>        <span class=s1>'setup_cost'</span><span class=p>:</span> <span class=mi>1500</span><span class=p>,</span>  <span class=c1># Labor and materials for startup</span>
</span><span id=__span-1-4><a href=#__codelineno-1-4 id=__codelineno-1-4 name=__codelineno-1-4></a>        <span class=s1>'catalyst_consumption'</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span>  <span class=c1># kg catalyst per batch</span>
</span><span id=__span-1-5><a href=#__codelineno-1-5 id=__codelineno-1-5 name=__codelineno-1-5></a>        <span class=s1>'cleaning_chemicals'</span><span class=p>:</span> <span class=mi>200</span><span class=p>,</span>  <span class=c1># L cleaning solution</span>
</span><span id=__span-1-6><a href=#__codelineno-1-6 id=__codelineno-1-6 name=__codelineno-1-6></a>    <span class=p>},</span>
</span><span id=__span-1-7><a href=#__codelineno-1-7 id=__codelineno-1-7 name=__codelineno-1-7></a>    <span class=n>effects_per_active_hour</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-1-8><a href=#__codelineno-1-8 id=__codelineno-1-8 name=__codelineno-1-8></a>        <span class=s1>'steam'</span><span class=p>:</span> <span class=mf>2.5</span><span class=p>,</span>  <span class=c1># t/h process steam</span>
</span><span id=__span-1-9><a href=#__codelineno-1-9 id=__codelineno-1-9 name=__codelineno-1-9></a>        <span class=s1>'electricity'</span><span class=p>:</span> <span class=mi>150</span><span class=p>,</span>  <span class=c1># kWh electrical load</span>
</span><span id=__span-1-10><a href=#__codelineno-1-10 id=__codelineno-1-10 name=__codelineno-1-10></a>        <span class=s1>'cooling_water'</span><span class=p>:</span> <span class=mi>50</span><span class=p>,</span>  <span class=c1># m³/h cooling water</span>
</span><span id=__span-1-11><a href=#__codelineno-1-11 id=__codelineno-1-11 name=__codelineno-1-11></a>    <span class=p>},</span>
</span><span id=__span-1-12><a href=#__codelineno-1-12 id=__codelineno-1-12 name=__codelineno-1-12></a>    <span class=n>min_uptime</span><span class=o>=</span><span class=mi>12</span><span class=p>,</span>  <span class=c1># Minimum batch size (12 hours)</span>
</span><span id=__span-1-13><a href=#__codelineno-1-13 id=__codelineno-1-13 name=__codelineno-1-13></a>    <span class=n>max_uptime</span><span class=o>=</span><span class=mi>24</span><span class=p>,</span>  <span class=c1># Maximum batch size (24 hours)</span>
</span><span id=__span-1-14><a href=#__codelineno-1-14 id=__codelineno-1-14 name=__codelineno-1-14></a>    <span class=n>min_downtime</span><span class=o>=</span><span class=mi>6</span><span class=p>,</span>  <span class=c1># Cleaning and setup time</span>
</span><span id=__span-1-15><a href=#__codelineno-1-15 id=__codelineno-1-15 name=__codelineno-1-15></a>    <span class=n>startup_limit</span><span class=o>=</span><span class=mi>200</span><span class=p>,</span>  <span class=c1># Maximum 200 batches per period</span>
</span><span id=__span-1-16><a href=#__codelineno-1-16 id=__codelineno-1-16 name=__codelineno-1-16></a>    <span class=n>active_hours_max</span><span class=o>=</span><span class=mi>4000</span><span class=p>,</span>  <span class=c1># Maximum production time</span>
</span><span id=__span-1-17><a href=#__codelineno-1-17 id=__codelineno-1-17 name=__codelineno-1-17></a><span class=p>)</span>
</span></code></pre></div> <p>HVAC system with thermostat control and maintenance:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-2-1><a href=#__codelineno-2-1 id=__codelineno-2-1 name=__codelineno-2-1></a><span class=n>hvac_operation</span> <span class=o>=</span> <span class=n>StatusParameters</span><span class=p>(</span>
</span><span id=__span-2-2><a href=#__codelineno-2-2 id=__codelineno-2-2 name=__codelineno-2-2></a>    <span class=n>effects_per_startup</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-2-3><a href=#__codelineno-2-3 id=__codelineno-2-3 name=__codelineno-2-3></a>        <span class=s1>'compressor_wear'</span><span class=p>:</span> <span class=mf>0.5</span><span class=p>,</span>  <span class=c1># Hours of compressor life per start</span>
</span><span id=__span-2-4><a href=#__codelineno-2-4 id=__codelineno-2-4 name=__codelineno-2-4></a>        <span class=s1>'inrush_current'</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>  <span class=c1># kW peak demand on startup</span>
</span><span id=__span-2-5><a href=#__codelineno-2-5 id=__codelineno-2-5 name=__codelineno-2-5></a>    <span class=p>},</span>
</span><span id=__span-2-6><a href=#__codelineno-2-6 id=__codelineno-2-6 name=__codelineno-2-6></a>    <span class=n>effects_per_active_hour</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-2-7><a href=#__codelineno-2-7 id=__codelineno-2-7 name=__codelineno-2-7></a>        <span class=s1>'electricity'</span><span class=p>:</span> <span class=mi>25</span><span class=p>,</span>  <span class=c1># kW electrical consumption</span>
</span><span id=__span-2-8><a href=#__codelineno-2-8 id=__codelineno-2-8 name=__codelineno-2-8></a>        <span class=s1>'maintenance'</span><span class=p>:</span> <span class=mf>0.12</span><span class=p>,</span>  <span class=c1># €/hour maintenance reserve</span>
</span><span id=__span-2-9><a href=#__codelineno-2-9 id=__codelineno-2-9 name=__codelineno-2-9></a>    <span class=p>},</span>
</span><span id=__span-2-10><a href=#__codelineno-2-10 id=__codelineno-2-10 name=__codelineno-2-10></a>    <span class=n>min_uptime</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>  <span class=c1># Minimum 1-hour run to avoid cycling</span>
</span><span id=__span-2-11><a href=#__codelineno-2-11 id=__codelineno-2-11 name=__codelineno-2-11></a>    <span class=n>min_downtime</span><span class=o>=</span><span class=mf>0.5</span><span class=p>,</span>  <span class=c1># 30-minute minimum inactive time</span>
</span><span id=__span-2-12><a href=#__codelineno-2-12 id=__codelineno-2-12 name=__codelineno-2-12></a>    <span class=n>startup_limit</span><span class=o>=</span><span class=mi>2000</span><span class=p>,</span>  <span class=c1># Limit cycling for compressor life</span>
</span><span id=__span-2-13><a href=#__codelineno-2-13 id=__codelineno-2-13 name=__codelineno-2-13></a>    <span class=n>active_hours_min</span><span class=o>=</span><span class=mi>2000</span><span class=p>,</span>  <span class=c1># Minimum operation for humidity control</span>
</span><span id=__span-2-14><a href=#__codelineno-2-14 id=__codelineno-2-14 name=__codelineno-2-14></a>    <span class=n>active_hours_max</span><span class=o>=</span><span class=mi>5000</span><span class=p>,</span>  <span class=c1># Maximum operation for energy budget</span>
</span><span id=__span-2-15><a href=#__codelineno-2-15 id=__codelineno-2-15 name=__codelineno-2-15></a><span class=p>)</span>
</span></code></pre></div> <p>Backup generator with testing and maintenance requirements:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-3-1><a href=#__codelineno-3-1 id=__codelineno-3-1 name=__codelineno-3-1></a><span class=n>backup_generator</span> <span class=o>=</span> <span class=n>StatusParameters</span><span class=p>(</span>
</span><span id=__span-3-2><a href=#__codelineno-3-2 id=__codelineno-3-2 name=__codelineno-3-2></a>    <span class=n>effects_per_startup</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-3-3><a href=#__codelineno-3-3 id=__codelineno-3-3 name=__codelineno-3-3></a>        <span class=s1>'fuel_priming'</span><span class=p>:</span> <span class=mi>50</span><span class=p>,</span>  <span class=c1># L diesel for system priming</span>
</span><span id=__span-3-4><a href=#__codelineno-3-4 id=__codelineno-3-4 name=__codelineno-3-4></a>        <span class=s1>'wear_factor'</span><span class=p>:</span> <span class=mf>1.0</span><span class=p>,</span>  <span class=c1># Start cycles impact on maintenance</span>
</span><span id=__span-3-5><a href=#__codelineno-3-5 id=__codelineno-3-5 name=__codelineno-3-5></a>        <span class=s1>'testing_labor'</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>  <span class=c1># Hours technician time per test</span>
</span><span id=__span-3-6><a href=#__codelineno-3-6 id=__codelineno-3-6 name=__codelineno-3-6></a>    <span class=p>},</span>
</span><span id=__span-3-7><a href=#__codelineno-3-7 id=__codelineno-3-7 name=__codelineno-3-7></a>    <span class=n>effects_per_active_hour</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-3-8><a href=#__codelineno-3-8 id=__codelineno-3-8 name=__codelineno-3-8></a>        <span class=s1>'fuel_consumption'</span><span class=p>:</span> <span class=mi>180</span><span class=p>,</span>  <span class=c1># L/h diesel consumption</span>
</span><span id=__span-3-9><a href=#__codelineno-3-9 id=__codelineno-3-9 name=__codelineno-3-9></a>        <span class=s1>'emissions_permit'</span><span class=p>:</span> <span class=mi>15</span><span class=p>,</span>  <span class=c1># € emissions allowance cost</span>
</span><span id=__span-3-10><a href=#__codelineno-3-10 id=__codelineno-3-10 name=__codelineno-3-10></a>        <span class=s1>'noise_penalty'</span><span class=p>:</span> <span class=mi>25</span><span class=p>,</span>  <span class=c1># € noise compliance cost</span>
</span><span id=__span-3-11><a href=#__codelineno-3-11 id=__codelineno-3-11 name=__codelineno-3-11></a>    <span class=p>},</span>
</span><span id=__span-3-12><a href=#__codelineno-3-12 id=__codelineno-3-12 name=__codelineno-3-12></a>    <span class=n>min_uptime</span><span class=o>=</span><span class=mf>0.5</span><span class=p>,</span>  <span class=c1># Minimum test duration (30 min)</span>
</span><span id=__span-3-13><a href=#__codelineno-3-13 id=__codelineno-3-13 name=__codelineno-3-13></a>    <span class=n>max_downtime</span><span class=o>=</span><span class=mi>720</span><span class=p>,</span>  <span class=c1># Maximum 30 days between tests</span>
</span><span id=__span-3-14><a href=#__codelineno-3-14 id=__codelineno-3-14 name=__codelineno-3-14></a>    <span class=n>startup_limit</span><span class=o>=</span><span class=mi>52</span><span class=p>,</span>  <span class=c1># Weekly testing limit</span>
</span><span id=__span-3-15><a href=#__codelineno-3-15 id=__codelineno-3-15 name=__codelineno-3-15></a>    <span class=n>active_hours_min</span><span class=o>=</span><span class=mi>26</span><span class=p>,</span>  <span class=c1># Minimum annual testing (0.5h × 52)</span>
</span><span id=__span-3-16><a href=#__codelineno-3-16 id=__codelineno-3-16 name=__codelineno-3-16></a>    <span class=n>active_hours_max</span><span class=o>=</span><span class=mi>200</span><span class=p>,</span>  <span class=c1># Maximum runtime (emergencies + tests)</span>
</span><span id=__span-3-17><a href=#__codelineno-3-17 id=__codelineno-3-17 name=__codelineno-3-17></a><span class=p>)</span>
</span></code></pre></div> <p>Peak shaving battery with cycling degradation:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-4-1><a href=#__codelineno-4-1 id=__codelineno-4-1 name=__codelineno-4-1></a><span class=n>battery_cycling</span> <span class=o>=</span> <span class=n>StatusParameters</span><span class=p>(</span>
</span><span id=__span-4-2><a href=#__codelineno-4-2 id=__codelineno-4-2 name=__codelineno-4-2></a>    <span class=n>effects_per_startup</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-4-3><a href=#__codelineno-4-3 id=__codelineno-4-3 name=__codelineno-4-3></a>        <span class=s1>'cycle_degradation'</span><span class=p>:</span> <span class=mf>0.01</span><span class=p>,</span>  <span class=c1># % capacity loss per cycle</span>
</span><span id=__span-4-4><a href=#__codelineno-4-4 id=__codelineno-4-4 name=__codelineno-4-4></a>        <span class=s1>'inverter_startup'</span><span class=p>:</span> <span class=mf>0.5</span><span class=p>,</span>  <span class=c1># kWh losses during startup</span>
</span><span id=__span-4-5><a href=#__codelineno-4-5 id=__codelineno-4-5 name=__codelineno-4-5></a>    <span class=p>},</span>
</span><span id=__span-4-6><a href=#__codelineno-4-6 id=__codelineno-4-6 name=__codelineno-4-6></a>    <span class=n>effects_per_active_hour</span><span class=o>=</span><span class=p>{</span>
</span><span id=__span-4-7><a href=#__codelineno-4-7 id=__codelineno-4-7 name=__codelineno-4-7></a>        <span class=s1>'standby_losses'</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>  <span class=c1># kW standby consumption</span>
</span><span id=__span-4-8><a href=#__codelineno-4-8 id=__codelineno-4-8 name=__codelineno-4-8></a>        <span class=s1>'cooling'</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span>  <span class=c1># kW thermal management</span>
</span><span id=__span-4-9><a href=#__codelineno-4-9 id=__codelineno-4-9 name=__codelineno-4-9></a>        <span class=s1>'inverter_losses'</span><span class=p>:</span> <span class=mi>8</span><span class=p>,</span>  <span class=c1># kW conversion losses</span>
</span><span id=__span-4-10><a href=#__codelineno-4-10 id=__codelineno-4-10 name=__codelineno-4-10></a>    <span class=p>},</span>
</span><span id=__span-4-11><a href=#__codelineno-4-11 id=__codelineno-4-11 name=__codelineno-4-11></a>    <span class=n>min_uptime</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>  <span class=c1># Minimum discharge duration</span>
</span><span id=__span-4-12><a href=#__codelineno-4-12 id=__codelineno-4-12 name=__codelineno-4-12></a>    <span class=n>max_uptime</span><span class=o>=</span><span class=mi>4</span><span class=p>,</span>  <span class=c1># Maximum continuous discharge</span>
</span><span id=__span-4-13><a href=#__codelineno-4-13 id=__codelineno-4-13 name=__codelineno-4-13></a>    <span class=n>min_downtime</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>  <span class=c1># Minimum rest between cycles</span>
</span><span id=__span-4-14><a href=#__codelineno-4-14 id=__codelineno-4-14 name=__codelineno-4-14></a>    <span class=n>startup_limit</span><span class=o>=</span><span class=mi>365</span><span class=p>,</span>  <span class=c1># Daily cycling limit</span>
</span><span id=__span-4-15><a href=#__codelineno-4-15 id=__codelineno-4-15 name=__codelineno-4-15></a>    <span class=n>force_startup_tracking</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>  <span class=c1># Track all cycling events</span>
</span><span id=__span-4-16><a href=#__codelineno-4-16 id=__codelineno-4-16 name=__codelineno-4-16></a><span class=p>)</span>
</span></code></pre></div> <details class=common-use-cases open> <summary>Common Use Cases</summary> <ul> <li>Power generation: Thermal plant cycling, renewable curtailment, grid services</li> <li>Industrial processes: Batch production, maintenance scheduling, equipment rotation</li> <li>Buildings: HVAC control, lighting systems, elevator operations</li> <li>Transportation: Fleet management, charging infrastructure, maintenance windows</li> <li>Storage systems: Battery cycling, pumped hydro, compressed air systems</li> <li>Emergency equipment: Backup generators, safety systems, emergency lighting</li> </ul> </details> <div class="doc doc-children"> <h4 id=flixopt.interface.StatusParameters-attributes>Attributes<a class=headerlink href=#flixopt.interface.StatusParameters-attributes title="Anchor link to this section">¶</a></h4> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.interface.StatusParameters.use_uptime_tracking> <span class="doc doc-object-name doc-attribute-name">use_uptime_tracking</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.interface.StatusParameters.use_uptime_tracking title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>use_uptime_tracking</span><span class=p>:</span> <span class=nb>bool</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Determines whether a Variable for uptime (consecutive active hours) is needed or not</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.interface.StatusParameters.use_downtime_tracking> <span class="doc doc-object-name doc-attribute-name">use_downtime_tracking</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.interface.StatusParameters.use_downtime_tracking title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>use_downtime_tracking</span><span class=p>:</span> <span class=nb>bool</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Determines whether a Variable for downtime (consecutive inactive hours) is needed or not</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.interface.StatusParameters.use_startup_tracking> <span class="doc doc-object-name doc-attribute-name">use_startup_tracking</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.interface.StatusParameters.use_startup_tracking title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>use_startup_tracking</span><span class=p>:</span> <span class=nb>bool</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Determines whether a variable for startup is needed or not</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.interface.StatusParameters.prefix> <span class="doc doc-object-name doc-attribute-name">prefix</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.interface.StatusParameters.prefix title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>prefix</span><span class=p>:</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>The prefix used for naming transformed data (e.g., 'Boiler(Q_th)|status_parameters').</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.interface.StatusParameters.flow_system> <span class="doc doc-object-name doc-attribute-name">flow_system</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.interface.StatusParameters.flow_system title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>flow_system</span><span class=p>:</span> <span class=n>FlowSystem</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Access the FlowSystem this interface is linked to.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=../flow_system/#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>The FlowSystem instance this interface belongs to.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#RuntimeError>RuntimeError</a></code> </td> <td> <div class=doc-md-description> <p>If interface has not been linked to a FlowSystem yet.</p> </div> </td> </tr> </tbody> </table> <details class=note open> <summary>Note</summary> <p>For Elements, this is set during add_elements(). For parameter classes, this is set recursively when the parent Element is registered.</p> </details> </div> </div> <h4 id=flixopt.interface.StatusParameters-functions>Functions<a class=headerlink href=#flixopt.interface.StatusParameters-functions title="Anchor link to this section">¶</a></h4> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.StatusParameters.link_to_flow_system> <span class="doc doc-object-name doc-function-name">link_to_flow_system</span> <a class=headerlink href=#flixopt.interface.StatusParameters.link_to_flow_system title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>link_to_flow_system</span><span class=p>(</span><span class=n>flow_system</span><span class=p>:</span> <span class=n>FlowSystem</span><span class=p>,</span> <span class=n>prefix</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>''</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Link this interface and all nested interfaces to a FlowSystem.</p> <p>This method is called automatically during element registration to enable elements to access FlowSystem properties without passing the reference through every method call. It also sets the prefix used for naming transformed data.</p> <p>Subclasses with nested Interface objects should override this method to propagate the link to their nested interfaces by calling <code>super().link_to_flow_system(flow_system, prefix)</code> first, then linking nested objects with appropriate prefixes.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>flow_system</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=../flow_system/#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>The FlowSystem to link to</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prefix</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>The prefix for naming transformed data (e.g., 'Boiler(Q_th)')</p> </div> </td> <td> <code>''</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <p>Override in a subclass with nested interfaces:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=k>def</span><span class=w> </span><span class=nf>link_to_flow_system</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>flow_system</span><span class=p>,</span> <span class=n>prefix</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>''</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>link_to_flow_system</span><span class=p>(</span><span class=n>flow_system</span><span class=p>,</span> <span class=n>prefix</span><span class=p>)</span>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>nested_interface</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-4><a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a>        <span class=bp>self</span><span class=o>.</span><span class=n>nested_interface</span><span class=o>.</span><span class=n>link_to_flow_system</span><span class=p>(</span><span class=n>flow_system</span><span class=p>,</span> <span class=sa>f</span><span class=s1>'</span><span class=si>{</span><span class=n>prefix</span><span class=si>}</span><span class=s1>|nested'</span> <span class=k>if</span> <span class=n>prefix</span> <span class=k>else</span> <span class=s1>'nested'</span><span class=p>)</span>
</span></code></pre></div> <p>Creating an Interface dynamically during modeling:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-1-1><a href=#__codelineno-1-1 id=__codelineno-1-1 name=__codelineno-1-1></a><span class=c1># In a Model class</span>
</span><span id=__span-1-2><a href=#__codelineno-1-2 id=__codelineno-1-2 name=__codelineno-1-2></a><span class=k>if</span> <span class=n>flow</span><span class=o>.</span><span class=n>status_parameters</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-1-3><a href=#__codelineno-1-3 id=__codelineno-1-3 name=__codelineno-1-3></a>    <span class=n>flow</span><span class=o>.</span><span class=n>status_parameters</span> <span class=o>=</span> <span class=n>StatusParameters</span><span class=p>()</span>
</span><span id=__span-1-4><a href=#__codelineno-1-4 id=__codelineno-1-4 name=__codelineno-1-4></a>    <span class=n>flow</span><span class=o>.</span><span class=n>status_parameters</span><span class=o>.</span><span class=n>link_to_flow_system</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_model</span><span class=o>.</span><span class=n>flow_system</span><span class=p>,</span> <span class=sa>f</span><span class=s1>'</span><span class=si>{</span><span class=n>flow</span><span class=o>.</span><span class=n>label_full</span><span class=si>}</span><span class=s1>'</span><span class=p>)</span>
</span></code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.StatusParameters.to_dataset> <span class="doc doc-object-name doc-function-name">to_dataset</span> <a class=headerlink href=#flixopt.interface.StatusParameters.to_dataset title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>to_dataset</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>Dataset</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Convert the object to an xarray Dataset representation. All DataArrays become dataset variables, everything else goes to attrs.</p> <p>Its recommended to only call this method on Interfaces with all numeric data stored as xr.DataArrays. Interfaces inside a FlowSystem are automatically converted this form after connecting and transforming the FlowSystem.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>xr.Dataset: Dataset containing all DataArrays with basic objects only in attributes</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails due to naming conflicts or invalid data</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.StatusParameters.to_netcdf> <span class="doc doc-object-name doc-function-name">to_netcdf</span> <a class=headerlink href=#flixopt.interface.StatusParameters.to_netcdf title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>to_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>,</span> <span class=n>compression</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>5</span><span class=p>,</span> <span class=n>overwrite</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Save the object to a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to save the NetCDF file. Parent directories are created if they don't exist.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>compression</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>Compression level (0-9)</p> </div> </td> <td> <code>5</code> </td> </tr> <tr class=doc-section-item> <td> <code>overwrite</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, overwrite existing file. If False, raise error if file exists.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#FileExistsError>FileExistsError</a></code> </td> <td> <div class=doc-md-description> <p>If overwrite=False and file already exists.</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If serialization fails</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.StatusParameters.from_dataset> <span class="doc doc-object-name doc-function-name">from_dataset</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a class=headerlink href=#flixopt.interface.StatusParameters.from_dataset title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>from_dataset</span><span class=p>(</span><span class=n>ds</span><span class=p>:</span> <span class=n>Dataset</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Create an instance from an xarray Dataset.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ds</code> </td> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>Dataset containing the object data</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If dataset format is invalid or class mismatch</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.StatusParameters.from_netcdf> <span class="doc doc-object-name doc-function-name">from_netcdf</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a class=headerlink href=#flixopt.interface.StatusParameters.from_netcdf title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>from_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Load an instance from a NetCDF file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>Interface instance</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be read</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#ValueError>ValueError</a></code> </td> <td> <div class=doc-md-description> <p>If file format is invalid</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.StatusParameters.get_structure> <span class="doc doc-object-name doc-function-name">get_structure</span> <a class=headerlink href=#flixopt.interface.StatusParameters.get_structure title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>get_structure</span><span class=p>(</span><span class=n>clean</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>stats</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Get object structure as a dictionary.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>clean</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, remove None and empty dicts and lists.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>stats</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, replace DataArray references with statistics</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a></code> </td> <td> <div class=doc-md-description> <p>Dictionary representation of the object structure</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.StatusParameters.to_json> <span class="doc doc-object-name doc-function-name">to_json</span> <a class=headerlink href=#flixopt.interface.StatusParameters.to_json title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>to_json</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Save the object to a JSON file. This is meant for documentation and comparison, not for reloading.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>The path to the JSON file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#IOError>IOError</a></code> </td> <td> <div class=doc-md-description> <p>If file cannot be written</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.interface.StatusParameters.copy> <span class="doc doc-object-name doc-function-name">copy</span> <a class=headerlink href=#flixopt.interface.StatusParameters.copy title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>copy</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Interface</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Create a copy of the Interface object.</p> <p>Uses the existing serialization infrastructure to ensure proper copying of all DataArrays and nested objects.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code> </td> <td> <div class=doc-md-description> <p>A new instance of the same class with copied data.</p> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <h2 id=flixopt.interface-functions>Functions<a class=headerlink href=#flixopt.interface-functions title="Anchor link to this section">¶</a></h2> </div> </div> </div> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="January 5, 2026 11:38:05 UTC"><span class=timeago datetime=2026-01-05T11:38:05+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="January 5, 2026 11:38:05 UTC">2026-01-05</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Created> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="January 5, 2026 11:38:05 UTC"><span class=timeago datetime=2026-01-05T11:38:05+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="January 5, 2026 11:38:05 UTC">2026-01-05</span> </span> </aside> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> Was this page helpful? </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title="This page was helpful" data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title="This page could be improved" data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> Thanks for your feedback! </div> <div data-md-value=0 hidden> Thanks for your feedback! Help us improve by <a href=https://github.com/flixOpt/flixopt/issues/new target=_blank rel=noopener>opening an issue</a>. </div> </div> </div> </fieldset> </form> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../flow_system/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Flow system"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Flow system </div> </div> </a> <a href=../io/ class="md-footer__link md-footer__link--next" aria-label="Next: Io"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Io </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/flixOpt/flixopt target=_blank rel=noopener title="FlixOpt on GitHub" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://pypi.org/project/flixopt/ target=_blank rel=noopener title="FlixOpt on PyPI" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 444.7a20.4 20.4 0 1 1 0-40.7 20.4 20.4 0 1 1 0 40.7M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.6-183.4a20.4 20.4 0 1 1 0 40.8 20.4 20.4 0 1 1 0-40.8"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"annotate": null, "base": "../..", "features": ["navigation.instant", "navigation.instant.progress", "navigation.instant.prefetch", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.path", "navigation.prune", "navigation.indexes", "navigation.top", "navigation.footer", "toc.follow", "search.suggest", "search.highlight", "search.share", "content.action.edit", "content.action.view", "content.code.copy", "content.code.select", "content.code.annotate", "content.tooltips", "content.tabs.link", "announce.dismiss"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"alias": true, "default": "latest", "provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.79ae519e.min.js></script> <script src=../../js/timeago.min.js></script> <script src=../../js/timeago_mkdocs_material.js></script> <script src=../../javascripts/mathjax.js></script> <script src=../../javascripts/plotly-instant.js></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> </body> </html>