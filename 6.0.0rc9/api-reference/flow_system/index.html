<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Energy and Material Flow Optimization Framework"><link href=https://flixopt.github.io/flixopt/6.0.0rc9/api-reference/flow_system/ rel=canonical><link href=../features/ rel=prev><link href=../interface/ rel=next><link rel=icon href=../../images/flixopt-icon.svg><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>Flow system - flixopt</title><link rel=stylesheet href=../../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ab4e12ef.min.css><style>:root{--md-annotation-icon:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M17%2013h-4v4h-2v-4H7v-2h4V7h2v4h4m-5-9A10%2010%200%200%200%202%2012a10%2010%200%200%200%2010%2010%2010%2010%200%200%200%2010-10A10%2010%200%200%200%2012%202%22/%3E%3C/svg%3E');}</style><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Fira Code"}</style><link rel=stylesheet href=../../css/timeago.css><link rel=stylesheet href=../../assets/_mkdocstrings.css><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",""),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#flixopt.flow_system class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title=flixopt class="md-header__button md-logo" aria-label=flixopt data-md-component=logo> <img src=../../images/flixopt-icon.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> flixopt </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Flow system </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=teal data-md-color-accent=cyan aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=teal data-md-color-accent=cyan aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/flixOpt/flixopt title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> flixOpt/flixopt </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../user-guide/ class=md-tabs__link> User Guide </a> </li> <li class=md-tabs__item> <a href=../../notebooks/ class=md-tabs__link> Examples </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../ class=md-tabs__link> API Reference </a> </li> <li class=md-tabs__item> <a href=../../contribute/ class=md-tabs__link> Contributing </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=flixopt class="md-nav__button md-logo" aria-label=flixopt data-md-component=logo> <img src=../../images/flixopt-icon.svg alt=logo> </a> flixopt </label> <div class=md-nav__source> <a href=https://github.com/flixOpt/flixopt title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> flixOpt/flixopt </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../user-guide/ class=md-nav__link> <span class=md-ellipsis> User Guide </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../notebooks/ class=md-nav__link> <span class=md-ellipsis> Examples </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> API Reference </span> </a> <label class="md-nav__link " for=__nav_4 id=__nav_4_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> API Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../carrier/ class=md-nav__link> <span class=md-ellipsis> Carrier </span> </a> </li> <li class=md-nav__item> <a href=../color_processing/ class=md-nav__link> <span class=md-ellipsis> Color processing </span> </a> </li> <li class=md-nav__item> <a href=../comparison/ class=md-nav__link> <span class=md-ellipsis> Comparison </span> </a> </li> <li class=md-nav__item> <a href=../components/ class=md-nav__link> <span class=md-ellipsis> Components </span> </a> </li> <li class=md-nav__item> <a href=../config/ class=md-nav__link> <span class=md-ellipsis> Config </span> </a> </li> <li class=md-nav__item> <a href=../core/ class=md-nav__link> <span class=md-ellipsis> Core </span> </a> </li> <li class=md-nav__item> <a href=../effects/ class=md-nav__link> <span class=md-ellipsis> Effects </span> </a> </li> <li class=md-nav__item> <a href=../elements/ class=md-nav__link> <span class=md-ellipsis> Elements </span> </a> </li> <li class=md-nav__item> <a href=../features/ class=md-nav__link> <span class=md-ellipsis> Features </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Flow system </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Flow system </span> </a> <nav class="md-nav md-nav--secondary" aria-label="On this page"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> On this page </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#flixopt.flow_system-attributes class=md-nav__link> <span class=md-ellipsis> Attributes </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.flow_system-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#flixopt.flow_system.FlowSystem class=md-nav__link> <span class=md-ellipsis> FlowSystem </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../interface/ class=md-nav__link> <span class=md-ellipsis> Interface </span> </a> </li> <li class=md-nav__item> <a href=../io/ class=md-nav__link> <span class=md-ellipsis> Io </span> </a> </li> <li class=md-nav__item> <a href=../linear_converters/ class=md-nav__link> <span class=md-ellipsis> Linear converters </span> </a> </li> <li class=md-nav__item> <a href=../modeling/ class=md-nav__link> <span class=md-ellipsis> Modeling </span> </a> </li> <li class=md-nav__item> <a href=../network_app/ class=md-nav__link> <span class=md-ellipsis> Network app </span> </a> </li> <li class=md-nav__item> <a href=../optimization/ class=md-nav__link> <span class=md-ellipsis> Optimization </span> </a> </li> <li class=md-nav__item> <a href=../optimize_accessor/ class=md-nav__link> <span class=md-ellipsis> Optimize accessor </span> </a> </li> <li class=md-nav__item> <a href=../plot_result/ class=md-nav__link> <span class=md-ellipsis> Plot result </span> </a> </li> <li class=md-nav__item> <a href=../plotting/ class=md-nav__link> <span class=md-ellipsis> Plotting </span> </a> </li> <li class=md-nav__item> <a href=../results/ class=md-nav__link> <span class=md-ellipsis> Results </span> </a> </li> <li class=md-nav__item> <a href=../solvers/ class=md-nav__link> <span class=md-ellipsis> Solvers </span> </a> </li> <li class=md-nav__item> <a href=../statistics_accessor/ class=md-nav__link> <span class=md-ellipsis> Statistics accessor </span> </a> </li> <li class=md-nav__item> <a href=../stats_accessor/ class=md-nav__link> <span class=md-ellipsis> Stats accessor </span> </a> </li> <li class=md-nav__item> <a href=../structure/ class=md-nav__link> <span class=md-ellipsis> Structure </span> </a> </li> <li class=md-nav__item> <a href=../topology_accessor/ class=md-nav__link> <span class=md-ellipsis> Topology accessor </span> </a> </li> <li class=md-nav__item> <a href=../transform_accessor/ class=md-nav__link> <span class=md-ellipsis> Transform accessor </span> </a> </li> <li class=md-nav__item> <a href=../types/ class=md-nav__link> <span class=md-ellipsis> Types </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_29> <div class="md-nav__link md-nav__container"> <a href=../clustering/ class="md-nav__link "> <span class=md-ellipsis> Clustering </span> </a> <label class="md-nav__link " for=__nav_4_29 id=__nav_4_29_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_29_label aria-expanded=false> <label class=md-nav__title for=__nav_4_29> <span class="md-nav__icon md-icon"></span> Clustering </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../clustering/base/ class=md-nav__link> <span class=md-ellipsis> Base </span> </a> </li> <li class=md-nav__item> <a href=../clustering/intercluster_helpers/ class=md-nav__link> <span class=md-ellipsis> Intercluster helpers </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../contribute/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="On this page"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> On this page </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#flixopt.flow_system-attributes class=md-nav__link> <span class=md-ellipsis> Attributes </span> </a> </li> <li class=md-nav__item> <a href=#flixopt.flow_system-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#flixopt.flow_system.FlowSystem class=md-nav__link> <span class=md-ellipsis> FlowSystem </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/flixOpt/flixopt/edit/main/docs/flixopt/flow_system.py title="Edit this page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg> </a> <a href=https://github.com/flixOpt/flixopt/raw/main/docs/flixopt/flow_system.py title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5"/></svg> </a> <div class="doc doc-object doc-module"> <h1 class="doc doc-heading" id=flixopt.flow_system> <span class="doc doc-object-name doc-module-name">flixopt.flow_system</span> <a class=headerlink href=#flixopt.flow_system title="Anchor link to this section">¶</a></h1> <div class="doc doc-contents first"> <p>This module contains the FlowSystem class, which is used to collect instances of many other classes by the end User.</p> <div class="doc doc-children"> <h2 id=flixopt.flow_system-attributes>Attributes<a class=headerlink href=#flixopt.flow_system-attributes title="Anchor link to this section">¶</a></h2> <h2 id=flixopt.flow_system-classes>Classes<a class=headerlink href=#flixopt.flow_system-classes title="Anchor link to this section">¶</a></h2> <div class="doc doc-object doc-class"> <h3 class="doc doc-heading" id=flixopt.flow_system.FlowSystem> <span class="doc doc-object-name doc-class-name">FlowSystem</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem title="Anchor link to this section">¶</a></h3> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>FlowSystem</span><span class=p>(</span><span class=n>timesteps</span><span class=p>:</span> <span class=n>DatetimeIndex</span> <span class=o>|</span> <span class=n>RangeIndex</span><span class=p>,</span> <span class=n>periods</span><span class=p>:</span> <span class=n>Index</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>scenarios</span><span class=p>:</span> <span class=n>Index</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>clusters</span><span class=p>:</span> <span class=n>Index</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>hours_of_last_timestep</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=nb>float</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>hours_of_previous_timesteps</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=nb>float</span> <span class=o>|</span> <span class=n>ndarray</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>weight_of_last_period</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=nb>float</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>scenario_weights</span><span class=p>:</span> <span class=n>Numeric_S</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>cluster_weight</span><span class=p>:</span> <span class=n>Numeric_TPS</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>scenario_independent_sizes</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>|</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span> <span class=n>scenario_independent_flow_rates</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>|</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>timestep_duration</span><span class=p>:</span> <span class=n>DataArray</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents"> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Interface</span> (<code>flixopt.structure.Interface</code>)' href=../structure/#flixopt.structure.Interface>Interface</a></code>, <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">CompositeContainerMixin</span> (<code>flixopt.structure.CompositeContainerMixin</code>)' href=../structure/#flixopt.structure.CompositeContainerMixin>CompositeContainerMixin</a>[<a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Element</span> (<code>flixopt.structure.Element</code>)' href=../structure/#flixopt.structure.Element>Element</a>]</code></p> <p>A FlowSystem organizes the high level Elements (Components, Buses, Effects &amp; Flows).</p> <p>This is the main container class that users work with to build and manage their energy or material flow system. FlowSystem provides both direct container access (via .components, .buses, .effects, .flows) and a unified dict-like interface for accessing any element by label across all container types.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>timesteps</code> </td> <td> <code><a class="autorefs autorefs-external" title="<code>pandas.DatetimeIndex</code>" href=https://pandas.pydata.org/docs/reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex>DatetimeIndex</a> | <a class="autorefs autorefs-external" title="<code>pandas.RangeIndex</code>" href=https://pandas.pydata.org/docs/reference/api/pandas.RangeIndex.html#pandas.RangeIndex>RangeIndex</a></code> </td> <td> <div class=doc-md-description> <p>The timesteps of the model.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>periods</code> </td> <td> <code><a class="autorefs autorefs-external" title="<code>pandas.Index</code>" href=https://pandas.pydata.org/docs/reference/api/pandas.Index.html#pandas.Index>Index</a> | None</code> </td> <td> <div class=doc-md-description> <p>The periods of the model.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>scenarios</code> </td> <td> <code><a class="autorefs autorefs-external" title="<code>pandas.Index</code>" href=https://pandas.pydata.org/docs/reference/api/pandas.Index.html#pandas.Index>Index</a> | None</code> </td> <td> <div class=doc-md-description> <p>The scenarios of the model.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>hours_of_last_timestep</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#float>float</a> | None</code> </td> <td> <div class=doc-md-description> <p>Duration of the last timestep. If None, computed from the last time interval.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>hours_of_previous_timesteps</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#float>float</a> | <a class="autorefs autorefs-external" title="<code>numpy.ndarray</code>" href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray>ndarray</a> | None</code> </td> <td> <div class=doc-md-description> <p>Duration of previous timesteps. If None, computed from the first time interval. Can be a scalar (all previous timesteps have same duration) or array (different durations). Used to calculate previous values (e.g., uptime and downtime).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>weight_of_last_period</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#float>float</a> | None</code> </td> <td> <div class=doc-md-description> <p>Weight/duration of the last period. If None, computed from the last period interval. Used for calculating sums over periods in multi-period models.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>scenario_weights</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Numeric_S</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.types.Numeric_S</code>)' href=../types/#flixopt.types.Numeric_S>Numeric_S</a> | None</code> </td> <td> <div class=doc-md-description> <p>The weights of each scenario. If None, all scenarios have the same weight (normalized to 1). Period weights are always computed internally from the period index (like timestep_duration for time). The final <code>weights</code> array (accessible via <code>flow_system.model.objective_weights</code>) is computed as period_weights × normalized_scenario_weights, with normalization applied to the scenario weights by default.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>cluster_weight</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">Numeric_TPS</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.types.Numeric_TPS</code>)' href=../types/#flixopt.types.Numeric_TPS>Numeric_TPS</a> | None</code> </td> <td> <div class=doc-md-description> <p>Weight for each cluster. If None (default), all clusters have weight 1.0. Used by cluster() to specify how many original timesteps each cluster represents. Multiply with timestep_duration for proper time aggregation in clustered models.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>scenario_independent_sizes</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>]</code> </td> <td> <div class=doc-md-description> <p>Controls whether investment sizes are equalized across scenarios. - True: All sizes are shared/equalized across scenarios - False: All sizes are optimized separately per scenario - list[str]: Only specified components (by label_full) are equalized across scenarios</p> </div> </td> <td> <code>True</code> </td> </tr> <tr class=doc-section-item> <td> <code>scenario_independent_flow_rates</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>]</code> </td> <td> <div class=doc-md-description> <p>Controls whether flow rates are equalized across scenarios. - True: All flow rates are shared/equalized across scenarios - False: All flow rates are optimized separately per scenario - list[str]: Only specified flows (by label_full) are equalized across scenarios</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <p>Creating a FlowSystem and accessing elements:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=kn>import</span><span class=w> </span><span class=nn>flixopt</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>fx</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=kn>import</span><span class=w> </span><span class=nn>pandas</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>pd</span>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>timesteps</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>date_range</span><span class=p>(</span><span class=s1>'2023-01-01'</span><span class=p>,</span> <span class=n>periods</span><span class=o>=</span><span class=mi>24</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>'h'</span><span class=p>)</span>
</span><span id=__span-0-4><a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span> <span class=o>=</span> <span class=n>fx</span><span class=o>.</span><span class=n>FlowSystem</span><span class=p>(</span><span class=n>timesteps</span><span class=p>)</span>
</span><span id=__span-0-5><a href=#__codelineno-0-5 id=__codelineno-0-5 name=__codelineno-0-5></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-6><a href=#__codelineno-0-6 id=__codelineno-0-6 name=__codelineno-0-6></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Add elements to the system</span>
</span><span id=__span-0-7><a href=#__codelineno-0-7 id=__codelineno-0-7 name=__codelineno-0-7></a><span class=gp>&gt;&gt;&gt; </span><span class=n>boiler</span> <span class=o>=</span> <span class=n>fx</span><span class=o>.</span><span class=n>Component</span><span class=p>(</span><span class=s1>'Boiler'</span><span class=p>,</span> <span class=n>inputs</span><span class=o>=</span><span class=p>[</span><span class=n>heat_flow</span><span class=p>],</span> <span class=n>status_parameters</span><span class=o>=...</span><span class=p>)</span>
</span><span id=__span-0-8><a href=#__codelineno-0-8 id=__codelineno-0-8 name=__codelineno-0-8></a><span class=gp>&gt;&gt;&gt; </span><span class=n>heat_bus</span> <span class=o>=</span> <span class=n>fx</span><span class=o>.</span><span class=n>Bus</span><span class=p>(</span><span class=s1>'Heat'</span><span class=p>,</span> <span class=n>imbalance_penalty_per_flow_hour</span><span class=o>=</span><span class=mf>1e4</span><span class=p>)</span>
</span><span id=__span-0-9><a href=#__codelineno-0-9 id=__codelineno-0-9 name=__codelineno-0-9></a><span class=gp>&gt;&gt;&gt; </span><span class=n>costs</span> <span class=o>=</span> <span class=n>fx</span><span class=o>.</span><span class=n>Effect</span><span class=p>(</span><span class=s1>'costs'</span><span class=p>,</span> <span class=n>is_objective</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>is_standard</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-0-10><a href=#__codelineno-0-10 id=__codelineno-0-10 name=__codelineno-0-10></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>add_elements</span><span class=p>(</span><span class=n>boiler</span><span class=p>,</span> <span class=n>heat_bus</span><span class=p>,</span> <span class=n>costs</span><span class=p>)</span>
</span></code></pre></div> <p>Unified dict-like access (recommended for most cases):</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Access any element by label, regardless of type</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>boiler</span> <span class=o>=</span> <span class=n>flow_system</span><span class=p>[</span><span class=s1>'Boiler'</span><span class=p>]</span>  <span class=c1># Returns Component</span>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>heat_bus</span> <span class=o>=</span> <span class=n>flow_system</span><span class=p>[</span><span class=s1>'Heat'</span><span class=p>]</span>  <span class=c1># Returns Bus</span>
</span><span id=__span-0-4><a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>costs</span> <span class=o>=</span> <span class=n>flow_system</span><span class=p>[</span><span class=s1>'costs'</span><span class=p>]</span>  <span class=c1># Returns Effect</span>
</span><span id=__span-0-5><a href=#__codelineno-0-5 id=__codelineno-0-5 name=__codelineno-0-5></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-6><a href=#__codelineno-0-6 id=__codelineno-0-6 name=__codelineno-0-6></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Check if element exists</span>
</span><span id=__span-0-7><a href=#__codelineno-0-7 id=__codelineno-0-7 name=__codelineno-0-7></a><span class=gp>&gt;&gt;&gt; </span><span class=k>if</span> <span class=s1>'Boiler'</span> <span class=ow>in</span> <span class=n>flow_system</span><span class=p>:</span>
</span><span id=__span-0-8><a href=#__codelineno-0-8 id=__codelineno-0-8 name=__codelineno-0-8></a><span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=s1>'Boiler found in system'</span><span class=p>)</span>
</span><span id=__span-0-9><a href=#__codelineno-0-9 id=__codelineno-0-9 name=__codelineno-0-9></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-10><a href=#__codelineno-0-10 id=__codelineno-0-10 name=__codelineno-0-10></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Iterate over all elements</span>
</span><span id=__span-0-11><a href=#__codelineno-0-11 id=__codelineno-0-11 name=__codelineno-0-11></a><span class=gp>&gt;&gt;&gt; </span><span class=k>for</span> <span class=n>label</span> <span class=ow>in</span> <span class=n>flow_system</span><span class=o>.</span><span class=n>keys</span><span class=p>():</span>
</span><span id=__span-0-12><a href=#__codelineno-0-12 id=__codelineno-0-12 name=__codelineno-0-12></a><span class=gp>... </span>    <span class=n>element</span> <span class=o>=</span> <span class=n>flow_system</span><span class=p>[</span><span class=n>label</span><span class=p>]</span>
</span><span id=__span-0-13><a href=#__codelineno-0-13 id=__codelineno-0-13 name=__codelineno-0-13></a><span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>'</span><span class=si>{</span><span class=n>label</span><span class=si>}</span><span class=s1>: </span><span class=si>{</span><span class=nb>type</span><span class=p>(</span><span class=n>element</span><span class=p>)</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s1>'</span><span class=p>)</span>
</span><span id=__span-0-14><a href=#__codelineno-0-14 id=__codelineno-0-14 name=__codelineno-0-14></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-15><a href=#__codelineno-0-15 id=__codelineno-0-15 name=__codelineno-0-15></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Get all element labels and objects</span>
</span><span id=__span-0-16><a href=#__codelineno-0-16 id=__codelineno-0-16 name=__codelineno-0-16></a><span class=gp>&gt;&gt;&gt; </span><span class=n>all_labels</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>flow_system</span><span class=o>.</span><span class=n>keys</span><span class=p>())</span>
</span><span id=__span-0-17><a href=#__codelineno-0-17 id=__codelineno-0-17 name=__codelineno-0-17></a><span class=gp>&gt;&gt;&gt; </span><span class=n>all_elements</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>flow_system</span><span class=o>.</span><span class=n>values</span><span class=p>())</span>
</span><span id=__span-0-18><a href=#__codelineno-0-18 id=__codelineno-0-18 name=__codelineno-0-18></a><span class=gp>&gt;&gt;&gt; </span><span class=k>for</span> <span class=n>label</span><span class=p>,</span> <span class=n>element</span> <span class=ow>in</span> <span class=n>flow_system</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-0-19><a href=#__codelineno-0-19 id=__codelineno-0-19 name=__codelineno-0-19></a><span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>'</span><span class=si>{</span><span class=n>label</span><span class=si>}</span><span class=s1>: </span><span class=si>{</span><span class=n>element</span><span class=si>}</span><span class=s1>'</span><span class=p>)</span>
</span></code></pre></div> <p>Direct container access for type-specific operations:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Access specific container when you need type filtering</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=k>for</span> <span class=n>component</span> <span class=ow>in</span> <span class=n>flow_system</span><span class=o>.</span><span class=n>components</span><span class=o>.</span><span class=n>values</span><span class=p>():</span>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a><span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>'</span><span class=si>{</span><span class=n>component</span><span class=o>.</span><span class=n>label</span><span class=si>}</span><span class=s1>: </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>component</span><span class=o>.</span><span class=n>inputs</span><span class=p>)</span><span class=si>}</span><span class=s1> inputs'</span><span class=p>)</span>
</span><span id=__span-0-4><a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-5><a href=#__codelineno-0-5 id=__codelineno-0-5 name=__codelineno-0-5></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Access buses directly</span>
</span><span id=__span-0-6><a href=#__codelineno-0-6 id=__codelineno-0-6 name=__codelineno-0-6></a><span class=gp>&gt;&gt;&gt; </span><span class=k>for</span> <span class=n>bus</span> <span class=ow>in</span> <span class=n>flow_system</span><span class=o>.</span><span class=n>buses</span><span class=o>.</span><span class=n>values</span><span class=p>():</span>
</span><span id=__span-0-7><a href=#__codelineno-0-7 id=__codelineno-0-7 name=__codelineno-0-7></a><span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>'</span><span class=si>{</span><span class=n>bus</span><span class=o>.</span><span class=n>label</span><span class=si>}</span><span class=s1>'</span><span class=p>)</span>
</span><span id=__span-0-8><a href=#__codelineno-0-8 id=__codelineno-0-8 name=__codelineno-0-8></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-9><a href=#__codelineno-0-9 id=__codelineno-0-9 name=__codelineno-0-9></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Flows are automatically collected from all components</span>
</span></code></pre></div> <p>Power user pattern - Efficient chaining without conversion overhead:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Instead of chaining (causes multiple conversions):</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>result</span> <span class=o>=</span> <span class=n>flow_system</span><span class=o>.</span><span class=n>sel</span><span class=p>(</span><span class=n>time</span><span class=o>=</span><span class=s1>'2020-01'</span><span class=p>)</span><span class=o>.</span><span class=n>resample</span><span class=p>(</span><span class=s1>'2h'</span><span class=p>)</span>  <span class=c1># Slow</span>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-4><a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Use dataset methods directly (single conversion):</span>
</span><span id=__span-0-5><a href=#__codelineno-0-5 id=__codelineno-0-5 name=__codelineno-0-5></a><span class=gp>&gt;&gt;&gt; </span><span class=n>ds</span> <span class=o>=</span> <span class=n>flow_system</span><span class=o>.</span><span class=n>to_dataset</span><span class=p>()</span>
</span><span id=__span-0-6><a href=#__codelineno-0-6 id=__codelineno-0-6 name=__codelineno-0-6></a><span class=gp>&gt;&gt;&gt; </span><span class=n>ds</span> <span class=o>=</span> <span class=n>FlowSystem</span><span class=o>.</span><span class=n>_dataset_sel</span><span class=p>(</span><span class=n>ds</span><span class=p>,</span> <span class=n>time</span><span class=o>=</span><span class=s1>'2020-01'</span><span class=p>)</span>
</span><span id=__span-0-7><a href=#__codelineno-0-7 id=__codelineno-0-7 name=__codelineno-0-7></a><span class=gp>&gt;&gt;&gt; </span><span class=n>ds</span> <span class=o>=</span> <span class=n>flow_system</span><span class=o>.</span><span class=n>_dataset_resample</span><span class=p>(</span><span class=n>ds</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>'2h'</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>'mean'</span><span class=p>)</span>
</span><span id=__span-0-8><a href=#__codelineno-0-8 id=__codelineno-0-8 name=__codelineno-0-8></a><span class=gp>&gt;&gt;&gt; </span><span class=n>result</span> <span class=o>=</span> <span class=n>FlowSystem</span><span class=o>.</span><span class=n>from_dataset</span><span class=p>(</span><span class=n>ds</span><span class=p>)</span>  <span class=c1># Fast!</span>
</span><span id=__span-0-9><a href=#__codelineno-0-9 id=__codelineno-0-9 name=__codelineno-0-9></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-10><a href=#__codelineno-0-10 id=__codelineno-0-10 name=__codelineno-0-10></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Available dataset methods:</span>
</span><span id=__span-0-11><a href=#__codelineno-0-11 id=__codelineno-0-11 name=__codelineno-0-11></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># - FlowSystem._dataset_sel(dataset, time=..., period=..., scenario=...)</span>
</span><span id=__span-0-12><a href=#__codelineno-0-12 id=__codelineno-0-12 name=__codelineno-0-12></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># - FlowSystem._dataset_isel(dataset, time=..., period=..., scenario=...)</span>
</span><span id=__span-0-13><a href=#__codelineno-0-13 id=__codelineno-0-13 name=__codelineno-0-13></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># - flow_system._dataset_resample(dataset, freq=..., method=..., **kwargs)</span>
</span><span id=__span-0-14><a href=#__codelineno-0-14 id=__codelineno-0-14 name=__codelineno-0-14></a><span class=gp>&gt;&gt;&gt; </span><span class=k>for</span> <span class=n>flow</span> <span class=ow>in</span> <span class=n>flow_system</span><span class=o>.</span><span class=n>flows</span><span class=o>.</span><span class=n>values</span><span class=p>():</span>
</span><span id=__span-0-15><a href=#__codelineno-0-15 id=__codelineno-0-15 name=__codelineno-0-15></a><span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>'</span><span class=si>{</span><span class=n>flow</span><span class=o>.</span><span class=n>label_full</span><span class=si>}</span><span class=s1>: </span><span class=si>{</span><span class=n>flow</span><span class=o>.</span><span class=n>size</span><span class=si>}</span><span class=s1>'</span><span class=p>)</span>
</span><span id=__span-0-16><a href=#__codelineno-0-16 id=__codelineno-0-16 name=__codelineno-0-16></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-17><a href=#__codelineno-0-17 id=__codelineno-0-17 name=__codelineno-0-17></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Access effects</span>
</span><span id=__span-0-18><a href=#__codelineno-0-18 id=__codelineno-0-18 name=__codelineno-0-18></a><span class=gp>&gt;&gt;&gt; </span><span class=k>for</span> <span class=n>effect</span> <span class=ow>in</span> <span class=n>flow_system</span><span class=o>.</span><span class=n>effects</span><span class=o>.</span><span class=n>values</span><span class=p>():</span>
</span><span id=__span-0-19><a href=#__codelineno-0-19 id=__codelineno-0-19 name=__codelineno-0-19></a><span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>'</span><span class=si>{</span><span class=n>effect</span><span class=o>.</span><span class=n>label</span><span class=si>}</span><span class=s1>'</span><span class=p>)</span>
</span></code></pre></div> <details class=notes open> <summary>Notes</summary> <ul> <li>The dict-like interface (<code>flow_system['element']</code>) searches across all containers (components, buses, effects, flows) to find the element with the matching label.</li> <li>Element labels must be unique across all container types. Attempting to add elements with duplicate labels will raise an error, ensuring each label maps to exactly one element.</li> <li>Direct container access (<code>.components</code>, <code>.buses</code>, <code>.effects</code>, <code>.flows</code>) is useful when you need type-specific filtering or operations.</li> <li>The <code>.flows</code> container is automatically populated from all component inputs and outputs.</li> <li>Creates an empty registry for components and buses, an empty EffectCollection, and a placeholder for a SystemModel.</li> <li>The instance starts disconnected (self._connected_and_transformed == False) and will be connected_and_transformed automatically when trying to optimize.</li> </ul> </details> <div class="doc doc-children"> <h4 id=flixopt.flow_system.FlowSystem-attributes>Attributes<a class=headerlink href=#flixopt.flow_system.FlowSystem-attributes title="Anchor link to this section">¶</a></h4> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.carriers> <span class="doc doc-object-name doc-attribute-name">carriers</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.carriers title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>carriers</span><span class=p>:</span> <span class=n>CarrierContainer</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Carriers registered on this FlowSystem.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.flow_carriers> <span class="doc doc-object-name doc-attribute-name">flow_carriers</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.flow_carriers title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>flow_carriers</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>str</span><span class=p>]</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Cached mapping of flow labels to carrier names.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>]</code> </td> <td> <div class=doc-md-description> <p>Dict mapping flow label to carrier name (lowercase).</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>]</code> </td> <td> <div class=doc-md-description> <p>Flows without a carrier are not included.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#RuntimeError>RuntimeError</a></code> </td> <td> <div class=doc-md-description> <p>If FlowSystem is not connected_and_transformed.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.solution> <span class="doc doc-object-name doc-attribute-name">solution</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> <small class="doc doc-label doc-label-writable"><code>writable</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.solution title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>solution</span><span class=p>:</span> <span class=n>Dataset</span> <span class=o>|</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Access the optimization solution as an xarray Dataset.</p> <p>The solution is indexed by <code>timesteps_extra</code> (the original timesteps plus one additional timestep at the end). Variables that do not have data for the extra timestep (most variables except storage charge states) will contain NaN values at the final timestep.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.Dataset>Dataset</span> | None</code> </td> <td> <div class=doc-md-description> <p>xr.Dataset: The solution dataset with all optimization variable results, or None if the model hasn't been solved yet.</p> </div> </td> </tr> </tbody> </table> <details class=example open> <summary>Example</summary> <blockquote> <blockquote> <blockquote> <p>flow_system.optimize(solver) flow_system.solution.isel(time=slice(None, -1)) # Exclude trailing NaN (and final charge states)</p> </blockquote> </blockquote> </blockquote> </details> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.variable_categories> <span class="doc doc-object-name doc-attribute-name">variable_categories</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.variable_categories title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>variable_categories</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>VariableCategory</span><span class=p>]</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Variable categories for filtering and segment expansion.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">VariableCategory</span> (<code>flixopt.structure.VariableCategory</code>)' href=../structure/#flixopt.structure.VariableCategory>VariableCategory</a>]</code> </td> <td> <div class=doc-md-description> <p>Dict mapping variable names to their VariableCategory.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.is_locked> <span class="doc doc-object-name doc-attribute-name">is_locked</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.is_locked title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>is_locked</span><span class=p>:</span> <span class=nb>bool</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Check if the FlowSystem is locked (has a solution).</p> <p>A locked FlowSystem cannot be modified. Use <code>reset()</code> to unlock it.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.optimize> <span class="doc doc-object-name doc-attribute-name">optimize</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.optimize title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>optimize</span><span class=p>:</span> <span class=n>OptimizeAccessor</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Access optimization methods for this FlowSystem.</p> <p>This property returns an OptimizeAccessor that can be called directly for standard optimization, or used to access specialized optimization modes.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">OptimizeAccessor</span> (<code>flixopt.optimize_accessor.OptimizeAccessor</code>)' href=../optimize_accessor/#flixopt.optimize_accessor.OptimizeAccessor>OptimizeAccessor</a></code> </td> <td> <div class=doc-md-description> <p>An OptimizeAccessor instance.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <p>Standard optimization (call directly):</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>optimize</span><span class=p>(</span><span class=n>HighsSolver</span><span class=p>())</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=nb>print</span><span class=p>(</span><span class=n>flow_system</span><span class=o>.</span><span class=n>solution</span><span class=p>[</span><span class=s1>'Boiler(Q_th)|flow_rate'</span><span class=p>])</span>
</span></code></pre></div> <p>Access element solutions directly:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>optimize</span><span class=p>(</span><span class=n>solver</span><span class=p>)</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>boiler</span> <span class=o>=</span> <span class=n>flow_system</span><span class=o>.</span><span class=n>components</span><span class=p>[</span><span class=s1>'Boiler'</span><span class=p>]</span>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=nb>print</span><span class=p>(</span><span class=n>boiler</span><span class=o>.</span><span class=n>solution</span><span class=p>)</span>
</span></code></pre></div> <p>Future specialized modes:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>optimize</span><span class=o>.</span><span class=n>clustered</span><span class=p>(</span><span class=n>solver</span><span class=p>,</span> <span class=n>aggregation</span><span class=o>=</span><span class=n>params</span><span class=p>)</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>optimize</span><span class=o>.</span><span class=n>mga</span><span class=p>(</span><span class=n>solver</span><span class=p>,</span> <span class=n>alternatives</span><span class=o>=</span><span class=mi>5</span><span class=p>)</span>
</span></code></pre></div> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.transform> <span class="doc doc-object-name doc-attribute-name">transform</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.transform title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>transform</span><span class=p>:</span> <span class=n>TransformAccessor</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Access transformation methods for this FlowSystem.</p> <p>This property returns a TransformAccessor that provides methods to create transformed versions of this FlowSystem (e.g., clustered for time aggregation).</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">TransformAccessor</span> (<code>flixopt.transform_accessor.TransformAccessor</code>)' href=../transform_accessor/#flixopt.transform_accessor.TransformAccessor>TransformAccessor</a></code> </td> <td> <div class=doc-md-description> <p>A TransformAccessor instance.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <p>Clustered optimization:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>params</span> <span class=o>=</span> <span class=n>ClusteringParameters</span><span class=p>(</span><span class=n>hours_per_period</span><span class=o>=</span><span class=mi>24</span><span class=p>,</span> <span class=n>nr_of_periods</span><span class=o>=</span><span class=mi>8</span><span class=p>)</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>clustered_fs</span> <span class=o>=</span> <span class=n>flow_system</span><span class=o>.</span><span class=n>transform</span><span class=o>.</span><span class=n>cluster</span><span class=p>(</span><span class=n>params</span><span class=p>)</span>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>clustered_fs</span><span class=o>.</span><span class=n>optimize</span><span class=p>(</span><span class=n>solver</span><span class=p>)</span>
</span><span id=__span-0-4><a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a><span class=gp>&gt;&gt;&gt; </span><span class=nb>print</span><span class=p>(</span><span class=n>clustered_fs</span><span class=o>.</span><span class=n>solution</span><span class=p>)</span>
</span></code></pre></div> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.statistics> <span class="doc doc-object-name doc-attribute-name">statistics</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.statistics title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>statistics</span><span class=p>:</span> <span class=n>StatisticsAccessor</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Access statistics and plotting methods for optimization results.</p> <p>This property returns a StatisticsAccessor that provides methods to analyze and visualize optimization results stored in this FlowSystem's solution.</p> <details class=note open> <summary>Note</summary> <p>The FlowSystem must have a solution (from optimize() or solve()) before most statistics methods can be used.</p> </details> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">StatisticsAccessor</span> (<code>flixopt.statistics_accessor.StatisticsAccessor</code>)' href=../statistics_accessor/#flixopt.statistics_accessor.StatisticsAccessor>StatisticsAccessor</a></code> </td> <td> <div class=doc-md-description> <p>A cached StatisticsAccessor instance.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <p>After optimization:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>optimize</span><span class=p>(</span><span class=n>solver</span><span class=p>)</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>statistics</span><span class=o>.</span><span class=n>plot</span><span class=o>.</span><span class=n>balance</span><span class=p>(</span><span class=s1>'ElectricityBus'</span><span class=p>)</span>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>statistics</span><span class=o>.</span><span class=n>plot</span><span class=o>.</span><span class=n>heatmap</span><span class=p>(</span><span class=s1>'Boiler|on'</span><span class=p>)</span>
</span><span id=__span-0-4><a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>ds</span> <span class=o>=</span> <span class=n>flow_system</span><span class=o>.</span><span class=n>statistics</span><span class=o>.</span><span class=n>flow_rates</span>  <span class=c1># Get data for analysis</span>
</span></code></pre></div> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.topology> <span class="doc doc-object-name doc-attribute-name">topology</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.topology title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>topology</span><span class=p>:</span> <span class=n>TopologyAccessor</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Access network topology inspection and visualization methods.</p> <p>This property returns a cached TopologyAccessor that provides methods to inspect the network structure and visualize it. The accessor is invalidated when the FlowSystem structure changes (via reset() or invalidate()).</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">TopologyAccessor</span> (<code>flixopt.topology_accessor.TopologyAccessor</code>)' href=../topology_accessor/#flixopt.topology_accessor.TopologyAccessor>TopologyAccessor</a></code> </td> <td> <div class=doc-md-description> <p>A cached TopologyAccessor instance.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <p>Visualize the network:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>topology</span><span class=o>.</span><span class=n>plot</span><span class=p>()</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>topology</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>path</span><span class=o>=</span><span class=s1>'my_network.html'</span><span class=p>,</span> <span class=n>show</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></code></pre></div> <p>Interactive visualization:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>topology</span><span class=o>.</span><span class=n>start_app</span><span class=p>()</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># ... interact with the visualization ...</span>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>topology</span><span class=o>.</span><span class=n>stop_app</span><span class=p>()</span>
</span></code></pre></div> <p>Get network structure info:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>nodes</span><span class=p>,</span> <span class=n>edges</span> <span class=o>=</span> <span class=n>flow_system</span><span class=o>.</span><span class=n>topology</span><span class=o>.</span><span class=n>infos</span><span class=p>()</span>
</span></code></pre></div> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.storages> <span class="doc doc-object-name doc-attribute-name">storages</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.storages title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>storages</span><span class=p>:</span> <span class=n>ElementContainer</span><span class=p>[</span><span class=n>Storage</span><span class=p>]</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>All storage components as an ElementContainer.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">ElementContainer</span> (<code>flixopt.structure.ElementContainer</code>)' href=../structure/#flixopt.structure.ElementContainer>ElementContainer</a>[<a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Storage</span> (<code>flixopt.components.Storage</code>)' href=../components/#flixopt.components.Storage>Storage</a>]</code> </td> <td> <div class=doc-md-description> <p>ElementContainer containing all Storage components in the FlowSystem,</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">ElementContainer</span> (<code>flixopt.structure.ElementContainer</code>)' href=../structure/#flixopt.structure.ElementContainer>ElementContainer</a>[<a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Storage</span> (<code>flixopt.components.Storage</code>)' href=../components/#flixopt.components.Storage>Storage</a>]</code> </td> <td> <div class=doc-md-description> <p>sorted by label for reproducibility.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.dims> <span class="doc doc-object-name doc-attribute-name">dims</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.dims title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>dims</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Active dimension names.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>]</code> </td> <td> <div class=doc-md-description> <p>List of active dimension names in order.</p> </div> </td> </tr> </tbody> </table> <details class=example open> <summary>Example</summary> <blockquote> <blockquote> <blockquote> <p>fs.dims ['time'] # simple case fs_clustered.dims ['cluster', 'time', 'period', 'scenario'] # full case</p> </blockquote> </blockquote> </blockquote> </details> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.indexes> <span class="doc doc-object-name doc-attribute-name">indexes</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.indexes title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>indexes</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Index</span><span class=p>]</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Indexes for active dimensions.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-external" title="<code>pandas.Index</code>" href=https://pandas.pydata.org/docs/reference/api/pandas.Index.html#pandas.Index>Index</a>]</code> </td> <td> <div class=doc-md-description> <p>Dict mapping dimension names to pandas Index objects.</p> </div> </td> </tr> </tbody> </table> <details class=example open> <summary>Example</summary> <blockquote> <blockquote> <blockquote> <p>fs.indexes['time'] DatetimeIndex(['2024-01-01', ...], dtype='datetime64[ns]', name='time')</p> </blockquote> </blockquote> </blockquote> </details> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.temporal_dims> <span class="doc doc-object-name doc-attribute-name">temporal_dims</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.temporal_dims title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>temporal_dims</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Temporal dimensions for summing over time.</p> <p>Returns ['time', 'cluster'] for clustered systems, ['time'] otherwise.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.temporal_weight> <span class="doc doc-object-name doc-attribute-name">temporal_weight</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.temporal_weight title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>temporal_weight</span><span class=p>:</span> <span class=n>DataArray</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Combined temporal weight (timestep_duration × cluster_weight).</p> <p>Use for converting rates to totals before summing. Note: cluster_weight is used even without a clusters dimension.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.coords> <span class="doc doc-object-name doc-attribute-name">coords</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.coords title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>coords</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=n>FlowSystemDimensions</span><span class=p>,</span> <span class=n>Index</span><span class=p>]</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Active coordinates for variable creation.</p> <p>.. deprecated:: Use :attr:<code>indexes</code> instead.</p> <p>Returns a dict of dimension names to coordinate arrays. When clustered, includes 'cluster' dimension before 'time'.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">FlowSystemDimensions</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.FlowSystemDimensions</code>)' href=../core/#flixopt.core.FlowSystemDimensions>FlowSystemDimensions</a>, <a class="autorefs autorefs-external" title="<code>pandas.Index</code>" href=https://pandas.pydata.org/docs/reference/api/pandas.Index.html#pandas.Index>Index</a>]</code> </td> <td> <div class=doc-md-description> <p>Dict mapping dimension names to coordinate arrays.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.is_segmented> <span class="doc doc-object-name doc-attribute-name">is_segmented</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.is_segmented title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>is_segmented</span><span class=p>:</span> <span class=nb>bool</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Check if this FlowSystem uses segmented time (RangeIndex instead of DatetimeIndex).</p> <p>Segmented systems have variable timestep durations stored in timestep_duration, and use a RangeIndex for time coordinates instead of DatetimeIndex.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.n_timesteps> <span class="doc doc-object-name doc-attribute-name">n_timesteps</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.n_timesteps title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>n_timesteps</span><span class=p>:</span> <span class=nb>int</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Number of timesteps (within each cluster if clustered).</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.scenario_weights> <span class="doc doc-object-name doc-attribute-name">scenario_weights</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> <small class="doc doc-label doc-label-writable"><code>writable</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.scenario_weights title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>scenario_weights</span><span class=p>:</span> <span class=n>DataArray</span> <span class=o>|</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Weights for each scenario.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.DataArray>DataArray</span> | None</code> </td> <td> <div class=doc-md-description> <p>xr.DataArray: Scenario weights with 'scenario' dimension</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.weights> <span class="doc doc-object-name doc-attribute-name">weights</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.weights title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>weights</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>DataArray</span><span class=p>]</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Weights for active dimensions (unit weights if not explicitly set).</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <span title=xarray.DataArray>DataArray</span>]</code> </td> <td> <div class=doc-md-description> <p>Dict mapping dimension names to weight DataArrays.</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>, <span title=xarray.DataArray>DataArray</span>]</code> </td> <td> <div class=doc-md-description> <p>Keys match :attr:<code>dims</code> and :attr:<code>indexes</code>.</p> </div> </td> </tr> </tbody> </table> <details class=example open> <summary>Example</summary> <blockquote> <blockquote> <blockquote> <p>fs.weights['time'] # timestep durations fs.weights['cluster'] # cluster weights (unit if not set)</p> </blockquote> </blockquote> </blockquote> </details> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.is_clustered> <span class="doc doc-object-name doc-attribute-name">is_clustered</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.is_clustered title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>is_clustered</span><span class=p>:</span> <span class=nb>bool</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Check if this FlowSystem uses time series clustering.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>True if the FlowSystem was created with transform.cluster(),</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>False otherwise.</p> </div> </td> </tr> </tbody> </table> <details class=example open> <summary>Example</summary> <blockquote> <blockquote> <blockquote> <p>fs_clustered = flow_system.transform.cluster(n_clusters=8, cluster_duration='1D') fs_clustered.is_clustered True flow_system.is_clustered False</p> </blockquote> </blockquote> </blockquote> </details> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.scenario_independent_sizes> <span class="doc doc-object-name doc-attribute-name">scenario_independent_sizes</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> <small class="doc doc-label doc-label-writable"><code>writable</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.scenario_independent_sizes title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>scenario_independent_sizes</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>|</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Controls whether investment sizes are equalized across scenarios.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>]</code> </td> <td> <div class=doc-md-description> <p>bool or list[str]: Configuration for scenario-independent sizing</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.scenario_independent_flow_rates> <span class="doc doc-object-name doc-attribute-name">scenario_independent_flow_rates</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> <small class="doc doc-label doc-label-writable"><code>writable</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.scenario_independent_flow_rates title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>scenario_independent_flow_rates</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>|</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Controls whether flow rates are equalized across scenarios.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>]</code> </td> <td> <div class=doc-md-description> <p>bool or list[str]: Configuration for scenario-independent flow rates</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.prefix> <span class="doc doc-object-name doc-attribute-name">prefix</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.prefix title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>prefix</span><span class=p>:</span> <span class=nb>str</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>The prefix used for naming transformed data (e.g., 'Boiler(Q_th)|status_parameters').</p> </div> </div> <div class="doc doc-object doc-attribute"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.flow_system> <span class="doc doc-object-name doc-attribute-name">flow_system</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.flow_system title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>flow_system</span><span class=p>:</span> <span class=n>FlowSystem</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Access the FlowSystem this interface is linked to.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>The FlowSystem instance this interface belongs to.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#RuntimeError>RuntimeError</a></code> </td> <td> <div class=doc-md-description> <p>If interface has not been linked to a FlowSystem yet.</p> </div> </td> </tr> </tbody> </table> <details class=note open> <summary>Note</summary> <p>For Elements, this is set during add_elements(). For parameter classes, this is set recursively when the parent Element is registered.</p> </details> </div> </div> <h4 id=flixopt.flow_system.FlowSystem-functions>Functions<a class=headerlink href=#flixopt.flow_system.FlowSystem-functions title="Anchor link to this section">¶</a></h4> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.calculate_timestep_duration> <span class="doc doc-object-name doc-function-name">calculate_timestep_duration</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.calculate_timestep_duration title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>calculate_timestep_duration</span><span class=p>(</span><span class=n>timesteps_extra</span><span class=p>:</span> <span class=n>DatetimeIndex</span> <span class=o>|</span> <span class=n>RangeIndex</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>DataArray</span> <span class=o>|</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Calculate duration of each timestep in hours as a 1D DataArray.</p> <p>For RangeIndex (segmented systems), returns None since duration cannot be computed from the index. Use timestep_duration parameter instead.</p> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.calculate_weight_per_period> <span class="doc doc-object-name doc-function-name">calculate_weight_per_period</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.calculate_weight_per_period title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>calculate_weight_per_period</span><span class=p>(</span><span class=n>periods_extra</span><span class=p>:</span> <span class=n>Index</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>DataArray</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Calculate weight of each period from period index differences.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>periods_extra</code> </td> <td> <code><a class="autorefs autorefs-external" title="<code>pandas.Index</code>" href=https://pandas.pydata.org/docs/reference/api/pandas.Index.html#pandas.Index>Index</a></code> </td> <td> <div class=doc-md-description> <p>Period index with an extra period at the end</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.DataArray>DataArray</span></code> </td> <td> <div class=doc-md-description> <p>DataArray with weights for each period (1D, 'period' dimension)</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.to_dataset> <span class="doc doc-object-name doc-function-name">to_dataset</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.to_dataset title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>to_dataset</span><span class=p>(</span><span class=n>include_solution</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span> <span class=n>include_original_data</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>Dataset</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Convert the FlowSystem to an xarray Dataset. Ensures FlowSystem is connected before serialization.</p> <p>Data is stored in minimal form (scalars stay scalar, 1D arrays stay 1D) without broadcasting to full model dimensions. This provides significant memory savings for multi-period and multi-scenario models.</p> <p>If a solution is present and <code>include_solution=True</code>, it will be included in the dataset with variable names prefixed by 'solution|' to avoid conflicts with FlowSystem configuration variables. Solution time coordinates are renamed to 'solution_time' to preserve them independently of the FlowSystem's time coordinates.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>include_solution</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>Whether to include the optimization solution in the dataset. Defaults to True. Set to False to get only the FlowSystem structure without solution data (useful for copying or saving templates).</p> </div> </td> <td> <code>True</code> </td> </tr> <tr class=doc-section-item> <td> <code>include_original_data</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>Whether to include clustering.original_data in the dataset. Defaults to True. Set to False for smaller files (~38% reduction) when clustering.plot.compare() isn't needed after loading. The core workflow (optimize → expand) works without original_data.</p> </div> </td> <td> <code>True</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>xr.Dataset: Dataset containing all DataArrays with structure in attributes</p> </div> </td> </tr> </tbody> </table> <details class=see-also open> <summary>See Also</summary> <p>from_dataset: Create FlowSystem from dataset to_netcdf: Save to NetCDF file</p> </details> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.from_dataset> <span class="doc doc-object-name doc-function-name">from_dataset</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.from_dataset title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>from_dataset</span><span class=p>(</span><span class=n>ds</span><span class=p>:</span> <span class=n>Dataset</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>FlowSystem</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Create a FlowSystem from an xarray Dataset.</p> <p>If the dataset contains solution data (variables prefixed with 'solution|'), the solution will be restored to the FlowSystem. Solution time coordinates are renamed back from 'solution_time' to 'time'.</p> <p>Supports clustered datasets with (cluster, time) dimensions. When detected, creates a synthetic DatetimeIndex for compatibility and stores the clustered data structure for later use.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ds</code> </td> <td> <code><span title=xarray.Dataset>Dataset</span></code> </td> <td> <div class=doc-md-description> <p>Dataset containing the FlowSystem data</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>FlowSystem instance</p> </div> </td> </tr> </tbody> </table> <details class=see-also open> <summary>See Also</summary> <p>to_dataset: Convert FlowSystem to dataset from_netcdf: Load from NetCDF file</p> </details> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.to_netcdf> <span class="doc doc-object-name doc-function-name">to_netcdf</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.to_netcdf title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>to_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>,</span> <span class=n>compression</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>5</span><span class=p>,</span> <span class=n>overwrite</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>include_original_data</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Save the FlowSystem to a NetCDF file. Ensures FlowSystem is connected before saving.</p> <p>The FlowSystem's name is automatically set from the filename (without extension) when saving.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>The path to the netCDF file. Parent directories are created if they don't exist.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>compression</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a></code> </td> <td> <div class=doc-md-description> <p>The compression level to use when saving the file (0-9).</p> </div> </td> <td> <code>5</code> </td> </tr> <tr class=doc-section-item> <td> <code>overwrite</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, overwrite existing file. If False, raise error if file exists.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>include_original_data</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>Whether to include clustering.original_data in the file. Defaults to True. Set to False for smaller files (~38% reduction) when clustering.plot.compare() isn't needed after loading.</p> </div> </td> <td> <code>True</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#FileExistsError>FileExistsError</a></code> </td> <td> <div class=doc-md-description> <p>If overwrite=False and file already exists.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.from_netcdf> <span class="doc doc-object-name doc-function-name">from_netcdf</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.from_netcdf title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>from_netcdf</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>FlowSystem</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Load a FlowSystem from a NetCDF file.</p> <p>The FlowSystem's name is automatically derived from the filename (without extension), overriding any name that may have been stored.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to the NetCDF file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>FlowSystem instance with name set from filename</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.from_old_results> <span class="doc doc-object-name doc-function-name">from_old_results</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.from_old_results title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>from_old_results</span><span class=p>(</span><span class=n>folder</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>FlowSystem</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Load a FlowSystem from old-format Results files (pre-v5 API).</p> <p>This method loads results saved with the deprecated Results API (which used multiple files: <code>*--flow_system.nc4</code>, <code>*--solution.nc4</code>) and converts them to a FlowSystem with the solution attached.</p> <p>The method performs the following:</p> <ul> <li>Loads the old multi-file format</li> <li>Renames deprecated parameters in the FlowSystem structure (e.g., <code>on_off_parameters</code> → <code>status_parameters</code>)</li> <li>Attaches the solution data to the FlowSystem</li> </ul> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>folder</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Directory containing the saved result files</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>name</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>Base name of the saved files (without extensions)</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>FlowSystem instance with solution attached</p> </div> </td> </tr> </tbody> </table> <details class=warning open> <summary>Warning</summary> <p>This is a best-effort migration for accessing old results:</p> <ul> <li><strong>Solution variable names are NOT renamed</strong> - only basic variables work (flow rates, sizes, charge states, effect totals)</li> <li>Advanced variable access may require using the original names</li> <li>Summary metadata (solver info, timing) is not loaded</li> </ul> <p>For full compatibility, re-run optimizations with the new API.</p> </details> <p><span class=doc-section-title>Examples:</span></p> <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=c1># Load old results</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=n>fs</span> <span class=o>=</span> <span class=n>FlowSystem</span><span class=o>.</span><span class=n>from_old_results</span><span class=p>(</span><span class=s1>'results_folder'</span><span class=p>,</span> <span class=s1>'my_optimization'</span><span class=p>)</span>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a>
</span><span id=__span-0-4><a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a><span class=c1># Access basic solution data</span>
</span><span id=__span-0-5><a href=#__codelineno-0-5 id=__codelineno-0-5 name=__codelineno-0-5></a><span class=n>fs</span><span class=o>.</span><span class=n>solution</span><span class=p>[</span><span class=s1>'Boiler(Q_th)|flow_rate'</span><span class=p>]</span><span class=o>.</span><span class=n>plot</span><span class=p>()</span>
</span><span id=__span-0-6><a href=#__codelineno-0-6 id=__codelineno-0-6 name=__codelineno-0-6></a>
</span><span id=__span-0-7><a href=#__codelineno-0-7 id=__codelineno-0-7 name=__codelineno-0-7></a><span class=c1># Save in new single-file format</span>
</span><span id=__span-0-8><a href=#__codelineno-0-8 id=__codelineno-0-8 name=__codelineno-0-8></a><span class=n>fs</span><span class=o>.</span><span class=n>to_netcdf</span><span class=p>(</span><span class=s1>'my_optimization.nc'</span><span class=p>)</span>
</span></code></pre></div> <details class=deprecated open> <summary>Deprecated</summary> <p>This method will be removed in v6.</p> </details> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.from_old_dataset> <span class="doc doc-object-name doc-function-name">from_old_dataset</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.from_old_dataset title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>from_old_dataset</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>FlowSystem</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Load a FlowSystem from an old-format dataset file (pre-v5 API).</p> <p>This method loads a FlowSystem saved with older versions of flixopt (the <code>*--flow_system.nc4</code> file) and converts parameter names to the current API. Unlike :meth:<code>from_old_results</code>, this does not require a solution file and returns a FlowSystem without solution data.</p> <p>The method performs the following:</p> <ul> <li>Loads the old netCDF format</li> <li>Renames deprecated parameters in the FlowSystem structure (e.g., <code>on_off_parameters</code> → <code>status_parameters</code>)</li> </ul> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>Path to the old-format FlowSystem file (typically <code>*--flow_system.nc4</code>)</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>FlowSystem instance without solution</p> </div> </td> </tr> </tbody> </table> <details class=warning open> <summary>Warning</summary> <p>This is a best-effort migration for loading old FlowSystem definitions. For full compatibility, consider re-saving with the new API after loading.</p> </details> <p><span class=doc-section-title>Examples:</span></p> <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=c1># Load old FlowSystem file</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=n>fs</span> <span class=o>=</span> <span class=n>FlowSystem</span><span class=o>.</span><span class=n>from_old_dataset</span><span class=p>(</span><span class=s1>'results/my_run--flow_system.nc4'</span><span class=p>)</span>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a>
</span><span id=__span-0-4><a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a><span class=c1># Modify and optimize with current API</span>
</span><span id=__span-0-5><a href=#__codelineno-0-5 id=__codelineno-0-5 name=__codelineno-0-5></a><span class=n>fs</span><span class=o>.</span><span class=n>optimize</span><span class=p>(</span><span class=n>solver</span><span class=p>)</span>
</span><span id=__span-0-6><a href=#__codelineno-0-6 id=__codelineno-0-6 name=__codelineno-0-6></a>
</span><span id=__span-0-7><a href=#__codelineno-0-7 id=__codelineno-0-7 name=__codelineno-0-7></a><span class=c1># Save in new single-file format</span>
</span><span id=__span-0-8><a href=#__codelineno-0-8 id=__codelineno-0-8 name=__codelineno-0-8></a><span class=n>fs</span><span class=o>.</span><span class=n>to_netcdf</span><span class=p>(</span><span class=s1>'my_run.nc'</span><span class=p>)</span>
</span></code></pre></div> <details class=deprecated open> <summary>Deprecated</summary> <p>This method will be removed in v6.</p> </details> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.copy> <span class="doc doc-object-name doc-function-name">copy</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.copy title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>copy</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>FlowSystem</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Create a copy of the FlowSystem without optimization state.</p> <p>Creates a new FlowSystem with copies of all elements, but without: - The solution dataset - The optimization model - Element submodels and variable/constraint names</p> <p>This is useful for creating variations of a FlowSystem for different optimization scenarios without affecting the original.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>A new FlowSystem instance that can be modified and optimized independently.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>original</span> <span class=o>=</span> <span class=n>FlowSystem</span><span class=p>(</span><span class=n>timesteps</span><span class=p>)</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>original</span><span class=o>.</span><span class=n>add_elements</span><span class=p>(</span><span class=n>boiler</span><span class=p>,</span> <span class=n>bus</span><span class=p>)</span>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>original</span><span class=o>.</span><span class=n>optimize</span><span class=p>(</span><span class=n>solver</span><span class=p>)</span>  <span class=c1># Original now has solution</span>
</span><span id=__span-0-4><a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a><span class=gp>&gt;&gt;&gt;</span>
</span><span id=__span-0-5><a href=#__codelineno-0-5 id=__codelineno-0-5 name=__codelineno-0-5></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Create a copy to try different parameters</span>
</span><span id=__span-0-6><a href=#__codelineno-0-6 id=__codelineno-0-6 name=__codelineno-0-6></a><span class=gp>&gt;&gt;&gt; </span><span class=n>variant</span> <span class=o>=</span> <span class=n>original</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>  <span class=c1># No solution, can be modified</span>
</span><span id=__span-0-7><a href=#__codelineno-0-7 id=__codelineno-0-7 name=__codelineno-0-7></a><span class=gp>&gt;&gt;&gt; </span><span class=n>variant</span><span class=o>.</span><span class=n>add_elements</span><span class=p>(</span><span class=n>new_component</span><span class=p>)</span>
</span><span id=__span-0-8><a href=#__codelineno-0-8 id=__codelineno-0-8 name=__codelineno-0-8></a><span class=gp>&gt;&gt;&gt; </span><span class=n>variant</span><span class=o>.</span><span class=n>optimize</span><span class=p>(</span><span class=n>solver</span><span class=p>)</span>
</span></code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.get_structure> <span class="doc doc-object-name doc-function-name">get_structure</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.get_structure title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>get_structure</span><span class=p>(</span><span class=n>clean</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>stats</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Get FlowSystem structure. Ensures FlowSystem is connected before getting structure.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>clean</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, remove None and empty dicts and lists.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>stats</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, replace DataArray references with statistics</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.to_json> <span class="doc doc-object-name doc-function-name">to_json</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.to_json title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>to_json</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span><span class=p>)</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Save the flow system to a JSON file. Ensures FlowSystem is connected before saving.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>path</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" title="<code>pathlib.Path</code>" href=https://docs.python.org/3/library/pathlib.html#pathlib.Path>Path</a></code> </td> <td> <div class=doc-md-description> <p>The path to the JSON file.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.fit_to_model_coords> <span class="doc doc-object-name doc-function-name">fit_to_model_coords</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.fit_to_model_coords title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>fit_to_model_coords</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>NumericOrBool</span> <span class=o>|</span> <span class=kc>None</span><span class=p>,</span> <span class=n>dims</span><span class=p>:</span> <span class=n>Collection</span><span class=p>[</span><span class=n>FlowSystemDimensions</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>DataArray</span> <span class=o>|</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Fit data to model coordinate system (currently time, but extensible).</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>name</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>Name of the data</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>data</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">NumericOrBool</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.types.NumericOrBool</code>)' href=../types/#flixopt.types.NumericOrBool>NumericOrBool</a> | None</code> </td> <td> <div class=doc-md-description> <p>Data to fit to model coordinates (accepts any dimensionality including scalars)</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>dims</code> </td> <td> <code><a class="autorefs autorefs-external" title="<code>collections.abc.Collection</code>" href=https://docs.python.org/3/library/collections.abc.html#collections.abc.Collection>Collection</a>[<a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-attribute-name">FlowSystemDimensions</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span> (<code>flixopt.core.FlowSystemDimensions</code>)' href=../core/#flixopt.core.FlowSystemDimensions>FlowSystemDimensions</a>] | None</code> </td> <td> <div class=doc-md-description> <p>Collection of dimension names to use for fitting. If None, all dimensions are used.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.DataArray>DataArray</span> | None</code> </td> <td> <div class=doc-md-description> <p>xr.DataArray aligned to model coordinate system. If data is None, returns None.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.fit_effects_to_model_coords> <span class="doc doc-object-name doc-function-name">fit_effects_to_model_coords</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.fit_effects_to_model_coords title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>fit_effects_to_model_coords</span><span class=p>(</span><span class=n>label_prefix</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span><span class=p>,</span> <span class=n>effect_values</span><span class=p>:</span> <span class=n>Effect_TPS</span> <span class=o>|</span> <span class=n>Numeric_TPS</span> <span class=o>|</span> <span class=kc>None</span><span class=p>,</span> <span class=n>label_suffix</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>dims</span><span class=p>:</span> <span class=n>Collection</span><span class=p>[</span><span class=n>FlowSystemDimensions</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>delimiter</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>'|'</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Effect_TPS</span> <span class=o>|</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Transform EffectValues from the user to Internal Datatypes aligned with model coordinates.</p> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.connect_and_transform> <span class="doc doc-object-name doc-function-name">connect_and_transform</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.connect_and_transform title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>connect_and_transform</span><span class=p>()</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Connect the network and transform all element data to model coordinates.</p> <p>This method performs the following steps:</p> <ol> <li>Connects flows to buses (establishing the network topology)</li> <li>Registers any missing carriers from CONFIG defaults</li> <li>Assigns colors to elements without explicit colors</li> <li>Transforms all element data to xarray DataArrays aligned with FlowSystem coordinates (time, period, scenario)</li> <li>Validates system integrity</li> </ol> <p>This is called automatically by :meth:<code>build_model</code> and :meth:<code>optimize</code>.</p> <details class=warning open> <summary>Warning</summary> <p>After this method runs, element attributes (e.g., <code>flow.size</code>, <code>flow.relative_minimum</code>) contain transformed xarray DataArrays, not the original input values. If you modify element attributes after transformation, call :meth:<code>invalidate</code> to ensure the changes take effect on the next optimization.</p> </details> <details class=note open> <summary>Note</summary> <p>This method is idempotent within a single model lifecycle - calling it multiple times has no effect once <code>connected_and_transformed</code> is True. Use :meth:<code>invalidate</code> to reset this flag.</p> </details> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.add_elements> <span class="doc doc-object-name doc-function-name">add_elements</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.add_elements title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>add_elements</span><span class=p>(</span><span class=o>*</span><span class=n>elements</span><span class=p>:</span> <span class=n>Element</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Add Components(Storages, Boilers, Heatpumps, ...), Buses or Effects to the FlowSystem</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>*elements</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Element</span> (<code>flixopt.structure.Element</code>)' href=../structure/#flixopt.structure.Element>Element</a></code> </td> <td> <div class=doc-md-description> <p>childs of Element like Boiler, HeatPump, Bus,... modeling Elements</p> </div> </td> <td> <code>()</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#RuntimeError>RuntimeError</a></code> </td> <td> <div class=doc-md-description> <p>If the FlowSystem is locked (has a solution). Call <code>reset()</code> to unlock it first.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.add_carriers> <span class="doc doc-object-name doc-function-name">add_carriers</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.add_carriers title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>add_carriers</span><span class=p>(</span><span class=o>*</span><span class=n>carriers</span><span class=p>:</span> <span class=n>Carrier</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Register a custom carrier for this FlowSystem.</p> <p>Custom carriers registered on the FlowSystem take precedence over CONFIG.Carriers defaults when resolving colors and units for buses.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>carriers</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Carrier</span> (<code>flixopt.carrier.Carrier</code>)' href=../carrier/#flixopt.carrier.Carrier>Carrier</a></code> </td> <td> <div class=doc-md-description> <p>Carrier objects defining the carrier properties.</p> </div> </td> <td> <code>()</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#RuntimeError>RuntimeError</a></code> </td> <td> <div class=doc-md-description> <p>If the FlowSystem is locked (has a solution). Call <code>reset()</code> to unlock it first.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=kn>import</span><span class=w> </span><span class=nn>flixopt</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>fx</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a><span class=n>fs</span> <span class=o>=</span> <span class=n>fx</span><span class=o>.</span><span class=n>FlowSystem</span><span class=p>(</span><span class=n>timesteps</span><span class=p>)</span>
</span><span id=__span-0-4><a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a>
</span><span id=__span-0-5><a href=#__codelineno-0-5 id=__codelineno-0-5 name=__codelineno-0-5></a><span class=c1># Define and register custom carriers</span>
</span><span id=__span-0-6><a href=#__codelineno-0-6 id=__codelineno-0-6 name=__codelineno-0-6></a><span class=n>biogas</span> <span class=o>=</span> <span class=n>fx</span><span class=o>.</span><span class=n>Carrier</span><span class=p>(</span><span class=s1>'biogas'</span><span class=p>,</span> <span class=s1>'#228B22'</span><span class=p>,</span> <span class=s1>'kW'</span><span class=p>,</span> <span class=s1>'Biogas fuel'</span><span class=p>)</span>
</span><span id=__span-0-7><a href=#__codelineno-0-7 id=__codelineno-0-7 name=__codelineno-0-7></a><span class=n>fs</span><span class=o>.</span><span class=n>add_carriers</span><span class=p>(</span><span class=n>biogas</span><span class=p>)</span>
</span><span id=__span-0-8><a href=#__codelineno-0-8 id=__codelineno-0-8 name=__codelineno-0-8></a>
</span><span id=__span-0-9><a href=#__codelineno-0-9 id=__codelineno-0-9 name=__codelineno-0-9></a><span class=c1># Now buses can reference this carrier by name</span>
</span><span id=__span-0-10><a href=#__codelineno-0-10 id=__codelineno-0-10 name=__codelineno-0-10></a><span class=n>bus</span> <span class=o>=</span> <span class=n>fx</span><span class=o>.</span><span class=n>Bus</span><span class=p>(</span><span class=s1>'BioGasNetwork'</span><span class=p>,</span> <span class=n>carrier</span><span class=o>=</span><span class=s1>'biogas'</span><span class=p>)</span>
</span><span id=__span-0-11><a href=#__codelineno-0-11 id=__codelineno-0-11 name=__codelineno-0-11></a><span class=n>fs</span><span class=o>.</span><span class=n>add_elements</span><span class=p>(</span><span class=n>bus</span><span class=p>)</span>
</span><span id=__span-0-12><a href=#__codelineno-0-12 id=__codelineno-0-12 name=__codelineno-0-12></a>
</span><span id=__span-0-13><a href=#__codelineno-0-13 id=__codelineno-0-13 name=__codelineno-0-13></a><span class=c1># The carrier color will be used in plots automatically</span>
</span></code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.get_carrier> <span class="doc doc-object-name doc-function-name">get_carrier</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.get_carrier title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>get_carrier</span><span class=p>(</span><span class=n>label</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Carrier</span> <span class=o>|</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Get the carrier for a bus or flow.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>label</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>Bus label (e.g., 'Fernwärme') or flow label (e.g., 'Boiler(Q_th)').</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">Carrier</span> (<code>flixopt.carrier.Carrier</code>)' href=../carrier/#flixopt.carrier.Carrier>Carrier</a> | None</code> </td> <td> <div class=doc-md-description> <p>Carrier or None if not found.</p> </div> </td> </tr> </tbody> </table> <details class=note open> <summary>Note</summary> <p>To access a carrier directly by name, use <code>flow_system.carriers['electricity']</code>.</p> </details> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#RuntimeError>RuntimeError</a></code> </td> <td> <div class=doc-md-description> <p>If FlowSystem is not connected_and_transformed.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.create_model> <span class="doc doc-object-name doc-function-name">create_model</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.create_model title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>create_model</span><span class=p>(</span><span class=n>normalize_weights</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>FlowSystemModel</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Create a linopy model from the FlowSystem.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>normalize_weights</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a> | None</code> </td> <td> <div class=doc-md-description> <p>Deprecated. Scenario weights are now always normalized in FlowSystem.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.build_model> <span class="doc doc-object-name doc-function-name">build_model</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.build_model title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>build_model</span><span class=p>(</span><span class=n>normalize_weights</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>FlowSystem</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Build the optimization model for this FlowSystem.</p> <p>This method prepares the FlowSystem for optimization by: 1. Connecting and transforming all elements (if not already done) 2. Creating the FlowSystemModel with all variables and constraints 3. Adding clustering constraints (if this is a clustered FlowSystem) 4. Adding typical periods modeling (if this is a reduced FlowSystem)</p> <p>After calling this method, <code>self.model</code> will be available for inspection before solving.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>normalize_weights</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a> | None</code> </td> <td> <div class=doc-md-description> <p>Deprecated. Scenario weights are now always normalized in FlowSystem.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>Self, for method chaining.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>build_model</span><span class=p>()</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=nb>print</span><span class=p>(</span><span class=n>flow_system</span><span class=o>.</span><span class=n>model</span><span class=o>.</span><span class=n>variables</span><span class=p>)</span>  <span class=c1># Inspect variables before solving</span>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>solve</span><span class=p>(</span><span class=n>solver</span><span class=p>)</span>
</span></code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.solve> <span class="doc doc-object-name doc-function-name">solve</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.solve title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>solve</span><span class=p>(</span><span class=n>solver</span><span class=p>:</span> <span class=n>_Solver</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>FlowSystem</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Solve the optimization model and populate the solution.</p> <p>This method solves the previously built model using the specified solver. After solving, <code>self.solution</code> will contain the optimization results, and each element's <code>.solution</code> property will provide access to its specific variables.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>solver</code> </td> <td> <code><span title=flixopt.solvers._Solver>_Solver</span></code> </td> <td> <div class=doc-md-description> <p>The solver to use (e.g., HighsSolver, GurobiSolver).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>Self, for method chaining.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#RuntimeError>RuntimeError</a></code> </td> <td> <div class=doc-md-description> <p>If the model has not been built yet (call build_model first).</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#RuntimeError>RuntimeError</a></code> </td> <td> <div class=doc-md-description> <p>If the model is infeasible.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>build_model</span><span class=p>()</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>solve</span><span class=p>(</span><span class=n>HighsSolver</span><span class=p>())</span>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=nb>print</span><span class=p>(</span><span class=n>flow_system</span><span class=o>.</span><span class=n>solution</span><span class=p>)</span>
</span></code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.get_variables_by_category> <span class="doc doc-object-name doc-function-name">get_variables_by_category</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.get_variables_by_category title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>get_variables_by_category</span><span class=p>(</span><span class=o>*</span><span class=n>categories</span><span class=p>:</span> <span class=n>VariableCategory</span><span class=p>,</span> <span class=n>from_solution</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Get variable names matching any of the specified categories.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>*categories</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">VariableCategory</span> (<code>flixopt.structure.VariableCategory</code>)' href=../structure/#flixopt.structure.VariableCategory>VariableCategory</a></code> </td> <td> <div class=doc-md-description> <p>One or more VariableCategory values to filter by.</p> </div> </td> <td> <code>()</code> </td> </tr> <tr class=doc-section-item> <td> <code>from_solution</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#bool>bool</a></code> </td> <td> <div class=doc-md-description> <p>If True, only return variables present in solution. If False, return all registered variables matching categories.</p> </div> </td> <td> <code>True</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>]</code> </td> <td> <div class=doc-md-description> <p>List of variable names matching any of the specified categories.</p> </div> </td> </tr> </tbody> </table> <details class=example open> <summary>Example</summary> <blockquote> <blockquote> <blockquote> <p>fs.get_variables_by_category(VariableCategory.FLOW_RATE) ['Boiler(Q_th)|flow_rate', 'CHP(Q_th)|flow_rate', ...] fs.get_variables_by_category(VariableCategory.SIZE, VariableCategory.INVESTED) ['Boiler(Q_th)|size', 'Boiler(Q_th)|invested', ...]</p> </blockquote> </blockquote> </blockquote> </details> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.reset> <span class="doc doc-object-name doc-function-name">reset</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.reset title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>reset</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>FlowSystem</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Clear optimization state to allow modifications.</p> <p>This method unlocks the FlowSystem by clearing: - The solution dataset - The optimization model - All element submodels and variable/constraint names - The connected_and_transformed flag</p> <p>After calling reset(), the FlowSystem can be modified again (e.g., adding elements or carriers).</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>Self, for method chaining.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>optimize</span><span class=p>(</span><span class=n>solver</span><span class=p>)</span>  <span class=c1># FlowSystem is now locked</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>add_elements</span><span class=p>(</span><span class=n>new_bus</span><span class=p>)</span>  <span class=c1># Raises RuntimeError</span>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>reset</span><span class=p>()</span>  <span class=c1># Unlock the FlowSystem</span>
</span><span id=__span-0-4><a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>add_elements</span><span class=p>(</span><span class=n>new_bus</span><span class=p>)</span>  <span class=c1># Now works</span>
</span></code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.invalidate> <span class="doc doc-object-name doc-function-name">invalidate</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.invalidate title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>invalidate</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>FlowSystem</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Invalidate the model to allow re-transformation after modifying elements.</p> <p>Call this after modifying existing element attributes (e.g., <code>flow.size</code>, <code>flow.relative_minimum</code>) to ensure changes take effect on the next optimization. The next call to :meth:<code>optimize</code> or :meth:<code>build_model</code> will re-run :meth:<code>connect_and_transform</code>.</p> <details class=note open> <summary>Note</summary> <p>Adding new elements via :meth:<code>add_elements</code> automatically invalidates the model. This method is only needed when modifying attributes of elements that are already part of the FlowSystem.</p> </details> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>Self, for method chaining.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#RuntimeError>RuntimeError</a></code> </td> <td> <div class=doc-md-description> <p>If the FlowSystem has a solution. Call :meth:<code>reset</code> first to clear the solution.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <p>Modify a flow's size and re-optimize:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>optimize</span><span class=p>(</span><span class=n>solver</span><span class=p>)</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>reset</span><span class=p>()</span>  <span class=c1># Clear solution first</span>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>components</span><span class=p>[</span><span class=s1>'Boiler'</span><span class=p>]</span><span class=o>.</span><span class=n>inputs</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>size</span> <span class=o>=</span> <span class=mi>200</span>
</span><span id=__span-0-4><a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>invalidate</span><span class=p>()</span>
</span><span id=__span-0-5><a href=#__codelineno-0-5 id=__codelineno-0-5 name=__codelineno-0-5></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>optimize</span><span class=p>(</span><span class=n>solver</span><span class=p>)</span>  <span class=c1># Re-runs connect_and_transform</span>
</span></code></pre></div> <p>Modify before first optimization:</p> <div class="language-pycon highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>connect_and_transform</span><span class=p>()</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a><span class=gp>&gt;&gt;&gt; </span><span class=c1># Oops, need to change something</span>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>components</span><span class=p>[</span><span class=s1>'Boiler'</span><span class=p>]</span><span class=o>.</span><span class=n>inputs</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>size</span> <span class=o>=</span> <span class=mi>200</span>
</span><span id=__span-0-4><a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>invalidate</span><span class=p>()</span>
</span><span id=__span-0-5><a href=#__codelineno-0-5 id=__codelineno-0-5 name=__codelineno-0-5></a><span class=gp>&gt;&gt;&gt; </span><span class=n>flow_system</span><span class=o>.</span><span class=n>optimize</span><span class=p>(</span><span class=n>solver</span><span class=p>)</span>  <span class=c1># Changes take effect</span>
</span></code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.plot_network> <span class="doc doc-object-name doc-function-name">plot_network</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.plot_network title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>plot_network</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>|</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Path</span> <span class=o>=</span> <span class=s1>'flow_system.html'</span><span class=p>,</span> <span class=n>controls</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>|</span> <span class=nb>list</span><span class=p>[</span><span class=n>Literal</span><span class=p>[</span><span class=s1>'nodes'</span><span class=p>,</span> <span class=s1>'edges'</span><span class=p>,</span> <span class=s1>'layout'</span><span class=p>,</span> <span class=s1>'interaction'</span><span class=p>,</span> <span class=s1>'manipulation'</span><span class=p>,</span> <span class=s1>'physics'</span><span class=p>,</span> <span class=s1>'selection'</span><span class=p>,</span> <span class=s1>'renderer'</span><span class=p>]]</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span> <span class=n>show</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>pyvis</span><span class=o>.</span><span class=n>network</span><span class=o>.</span><span class=n>Network</span> <span class=o>|</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Deprecated: Use <code>flow_system.topology.plot()</code> instead.</p> <p>Visualizes the network structure of a FlowSystem using PyVis.</p> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.start_network_app> <span class="doc doc-object-name doc-function-name">start_network_app</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.start_network_app title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>start_network_app</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Deprecated: Use <code>flow_system.topology.start_app()</code> instead.</p> <p>Visualizes the network structure using Dash and Cytoscape.</p> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.stop_network_app> <span class="doc doc-object-name doc-function-name">stop_network_app</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.stop_network_app title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>stop_network_app</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Deprecated: Use <code>flow_system.topology.stop_app()</code> instead.</p> <p>Stop the network visualization server.</p> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.network_infos> <span class="doc doc-object-name doc-function-name">network_infos</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.network_infos title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>network_infos</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>str</span><span class=p>]],</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>str</span><span class=p>]]]</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Deprecated: Use <code>flow_system.topology.infos()</code> instead.</p> <p>Get network topology information as dictionaries.</p> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.sum_temporal> <span class="doc doc-object-name doc-function-name">sum_temporal</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.sum_temporal title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>sum_temporal</span><span class=p>(</span><span class=n>data</span><span class=p>:</span> <span class=n>DataArray</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>xr</span><span class=o>.</span><span class=n>DataArray</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Sum data over temporal dimensions with full temporal weighting.</p> <p>Applies both timestep_duration and cluster_weight, then sums over temporal dimensions. Use this to convert rates to totals (e.g., flow_rate → total_energy).</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>data</code> </td> <td> <code><span title=xarray.DataArray>DataArray</span></code> </td> <td> <div class=doc-md-description> <p>Data with time dimension (and optionally cluster). Typically a rate (e.g., flow_rate in MW, status as 0/1).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=xarray.DataArray>DataArray</span></code> </td> <td> <div class=doc-md-description> <p>Data summed over temporal dims with full temporal weighting applied.</p> </div> </td> </tr> </tbody> </table> <details class=example open> <summary>Example</summary> <blockquote> <blockquote> <blockquote> <p>total_energy = fs.sum_temporal(flow_rate) # MW → MWh total active_hours = fs.sum_temporal(status) # count → hours</p> </blockquote> </blockquote> </blockquote> </details> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.sel> <span class="doc doc-object-name doc-function-name">sel</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.sel title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>sel</span><span class=p>(</span><span class=n>time</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=nb>slice</span> <span class=o>|</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>|</span> <span class=n>Timestamp</span> <span class=o>|</span> <span class=n>DatetimeIndex</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>period</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=nb>slice</span> <span class=o>|</span> <span class=nb>list</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>|</span> <span class=n>Index</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>scenario</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=nb>slice</span> <span class=o>|</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>|</span> <span class=n>Index</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>FlowSystem</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Select a subset of the flowsystem by label.</p> <p>.. deprecated:: Use <code>flow_system.transform.sel()</code> instead. Will be removed in v6.0.0.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>time</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#slice>slice</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>] | <a class="autorefs autorefs-external" title="<code>pandas.Timestamp</code>" href=https://pandas.pydata.org/docs/reference/api/pandas.Timestamp.html#pandas.Timestamp>Timestamp</a> | <a class="autorefs autorefs-external" title="<code>pandas.DatetimeIndex</code>" href=https://pandas.pydata.org/docs/reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex>DatetimeIndex</a> | None</code> </td> <td> <div class=doc-md-description> <p>Time selection (e.g., slice('2023-01-01', '2023-12-31'), '2023-06-15')</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#slice>slice</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a>] | <a class="autorefs autorefs-external" title="<code>pandas.Index</code>" href=https://pandas.pydata.org/docs/reference/api/pandas.Index.html#pandas.Index>Index</a> | None</code> </td> <td> <div class=doc-md-description> <p>Period selection (e.g., slice(2023, 2024), or list of periods)</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>scenario</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#slice>slice</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a>] | <a class="autorefs autorefs-external" title="<code>pandas.Index</code>" href=https://pandas.pydata.org/docs/reference/api/pandas.Index.html#pandas.Index>Index</a> | None</code> </td> <td> <div class=doc-md-description> <p>Scenario selection (e.g., 'scenario1', or list of scenarios)</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>FlowSystem</code></td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>New FlowSystem with selected data (no solution).</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.isel> <span class="doc doc-object-name doc-function-name">isel</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.isel title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>isel</span><span class=p>(</span><span class=n>time</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=nb>slice</span> <span class=o>|</span> <span class=nb>list</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>period</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=nb>slice</span> <span class=o>|</span> <span class=nb>list</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>scenario</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=nb>slice</span> <span class=o>|</span> <span class=nb>list</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>FlowSystem</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Select a subset of the flowsystem by integer indices.</p> <p>.. deprecated:: Use <code>flow_system.transform.isel()</code> instead. Will be removed in v6.0.0.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>time</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#slice>slice</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a>] | None</code> </td> <td> <div class=doc-md-description> <p>Time selection by integer index (e.g., slice(0, 100), 50, or [0, 5, 10])</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#slice>slice</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a>] | None</code> </td> <td> <div class=doc-md-description> <p>Period selection by integer index</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>scenario</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#slice>slice</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a>] | None</code> </td> <td> <div class=doc-md-description> <p>Scenario selection by integer index</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>FlowSystem</code></td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>New FlowSystem with selected data (no solution).</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.resample> <span class="doc doc-object-name doc-function-name">resample</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.resample title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>resample</span><span class=p>(</span><span class=n>time</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>method</span><span class=p>:</span> <span class=n>Literal</span><span class=p>[</span><span class=s1>'mean'</span><span class=p>,</span> <span class=s1>'sum'</span><span class=p>,</span> <span class=s1>'max'</span><span class=p>,</span> <span class=s1>'min'</span><span class=p>,</span> <span class=s1>'first'</span><span class=p>,</span> <span class=s1>'last'</span><span class=p>,</span> <span class=s1>'std'</span><span class=p>,</span> <span class=s1>'var'</span><span class=p>,</span> <span class=s1>'median'</span><span class=p>,</span> <span class=s1>'count'</span><span class=p>]</span> <span class=o>=</span> <span class=s1>'mean'</span><span class=p>,</span> <span class=n>hours_of_last_timestep</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=nb>float</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>hours_of_previous_timesteps</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=nb>float</span> <span class=o>|</span> <span class=n>ndarray</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>FlowSystem</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Create a resampled FlowSystem by resampling data along the time dimension.</p> <p>.. deprecated:: Use <code>flow_system.transform.resample()</code> instead. Will be removed in v6.0.0.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>time</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>Resampling frequency (e.g., '3h', '2D', '1M')</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>method</code> </td> <td> <code><a class="autorefs autorefs-external" title="<code>typing.Literal</code>" href=https://docs.python.org/3/library/typing.html#typing.Literal>Literal</a>['mean', 'sum', 'max', 'min', 'first', 'last', 'std', 'var', 'median', 'count']</code> </td> <td> <div class=doc-md-description> <p>Resampling method. Recommended: 'mean', 'first', 'last', 'max', 'min'</p> </div> </td> <td> <code>'mean'</code> </td> </tr> <tr class=doc-section-item> <td> <code>hours_of_last_timestep</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#float>float</a> | None</code> </td> <td> <div class=doc-md-description> <p>Duration of the last timestep after resampling.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>hours_of_previous_timesteps</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#int>int</a> | <a class="autorefs autorefs-external" href=https://docs.python.org/3/library/functions.html#float>float</a> | <a class="autorefs autorefs-external" title="<code>numpy.ndarray</code>" href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray>ndarray</a> | None</code> </td> <td> <div class=doc-md-description> <p>Duration of previous timesteps after resampling.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>**kwargs</code> </td> <td> <code><a class="autorefs autorefs-external" title="<code>typing.Any</code>" href=https://docs.python.org/3/library/typing.html#typing.Any>Any</a></code> </td> <td> <div class=doc-md-description> <p>Additional arguments passed to xarray.resample()</p> </div> </td> <td> <code>{}</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>FlowSystem</code></td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>New resampled FlowSystem (no solution).</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.keys> <span class="doc doc-object-name doc-function-name">keys</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.keys title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>keys</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Return all element labels across all containers.</p> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.values> <span class="doc doc-object-name doc-function-name">values</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.values title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>values</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>[</span><span class=n>T_element</span><span class=p>]</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Return all element objects across all containers.</p> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.items> <span class="doc doc-object-name doc-function-name">items</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.items title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>items</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>[</span><span class=nb>tuple</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>T_element</span><span class=p>]]</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Return (label, element) pairs for all elements.</p> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.transform_data> <span class="doc doc-object-name doc-function-name">transform_data</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.transform_data title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>transform_data</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Transform the data of the interface to match the FlowSystem's dimensions.</p> <p>Uses <code>self._prefix</code> (set during <code>link_to_flow_system()</code>) to name transformed data.</p> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/exceptions.html#NotImplementedError>NotImplementedError</a></code> </td> <td> <div class=doc-md-description> <p>Must be implemented by subclasses</p> </div> </td> </tr> </tbody> </table> <details class=note open> <summary>Note</summary> <p>The FlowSystem reference is available via self._flow_system (for Interface objects) or self.flow_system property (for Element objects). Elements must be registered to a FlowSystem before calling this method.</p> </details> </div> </div> <div class="doc doc-object doc-function"> <h5 class="doc doc-heading" id=flixopt.flow_system.FlowSystem.link_to_flow_system> <span class="doc doc-object-name doc-function-name">link_to_flow_system</span> <a class=headerlink href=#flixopt.flow_system.FlowSystem.link_to_flow_system title="Anchor link to this section">¶</a></h5> <div class="language-python doc-signature highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nf>link_to_flow_system</span><span class=p>(</span><span class=n>flow_system</span><span class=p>:</span> <span class=n>FlowSystem</span><span class=p>,</span> <span class=n>prefix</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>''</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div> <div class="doc doc-contents"> <p>Link this interface and all nested interfaces to a FlowSystem.</p> <p>This method is called automatically during element registration to enable elements to access FlowSystem properties without passing the reference through every method call. It also sets the prefix used for naming transformed data.</p> <p>Subclasses with nested Interface objects should override this method to propagate the link to their nested interfaces by calling <code>super().link_to_flow_system(flow_system, prefix)</code> first, then linking nested objects with appropriate prefixes.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>flow_system</code> </td> <td> <code><a class="autorefs autorefs-internal" title='<span class="doc doc-object-name doc-class-name">FlowSystem</span> (<code>flixopt.flow_system.FlowSystem</code>)' href=#flixopt.flow_system.FlowSystem>FlowSystem</a></code> </td> <td> <div class=doc-md-description> <p>The FlowSystem to link to</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prefix</code> </td> <td> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3/library/stdtypes.html#str>str</a></code> </td> <td> <div class=doc-md-description> <p>The prefix for naming transformed data (e.g., 'Boiler(Q_th)')</p> </div> </td> <td> <code>''</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <p>Override in a subclass with nested interfaces:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=k>def</span><span class=w> </span><span class=nf>link_to_flow_system</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>flow_system</span><span class=p>,</span> <span class=n>prefix</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>''</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>link_to_flow_system</span><span class=p>(</span><span class=n>flow_system</span><span class=p>,</span> <span class=n>prefix</span><span class=p>)</span>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>nested_interface</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-4><a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a>        <span class=bp>self</span><span class=o>.</span><span class=n>nested_interface</span><span class=o>.</span><span class=n>link_to_flow_system</span><span class=p>(</span><span class=n>flow_system</span><span class=p>,</span> <span class=sa>f</span><span class=s1>'</span><span class=si>{</span><span class=n>prefix</span><span class=si>}</span><span class=s1>|nested'</span> <span class=k>if</span> <span class=n>prefix</span> <span class=k>else</span> <span class=s1>'nested'</span><span class=p>)</span>
</span></code></pre></div> <p>Creating an Interface dynamically during modeling:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-1-1><a href=#__codelineno-1-1 id=__codelineno-1-1 name=__codelineno-1-1></a><span class=c1># In a Model class</span>
</span><span id=__span-1-2><a href=#__codelineno-1-2 id=__codelineno-1-2 name=__codelineno-1-2></a><span class=k>if</span> <span class=n>flow</span><span class=o>.</span><span class=n>status_parameters</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-1-3><a href=#__codelineno-1-3 id=__codelineno-1-3 name=__codelineno-1-3></a>    <span class=n>flow</span><span class=o>.</span><span class=n>status_parameters</span> <span class=o>=</span> <span class=n>StatusParameters</span><span class=p>()</span>
</span><span id=__span-1-4><a href=#__codelineno-1-4 id=__codelineno-1-4 name=__codelineno-1-4></a>    <span class=n>flow</span><span class=o>.</span><span class=n>status_parameters</span><span class=o>.</span><span class=n>link_to_flow_system</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_model</span><span class=o>.</span><span class=n>flow_system</span><span class=p>,</span> <span class=sa>f</span><span class=s1>'</span><span class=si>{</span><span class=n>flow</span><span class=o>.</span><span class=n>label_full</span><span class=si>}</span><span class=s1>'</span><span class=p>)</span>
</span></code></pre></div> </div> </div> </div> </div> </div> </div> </div> </div> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="January 24, 2026 17:08:03 UTC"><span class=timeago datetime=2026-01-24T17:08:03+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="January 24, 2026 17:08:03 UTC">2026-01-24</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Created> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="January 24, 2026 17:08:03 UTC"><span class=timeago datetime=2026-01-24T17:08:03+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="January 24, 2026 17:08:03 UTC">2026-01-24</span> </span> </aside> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> Was this page helpful? </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title="This page was helpful" data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title="This page could be improved" data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> Thanks for your feedback! </div> <div data-md-value=0 hidden> Thanks for your feedback! Help us improve by <a href=https://github.com/flixOpt/flixopt/issues/new target=_blank rel=noopener>opening an issue</a>. </div> </div> </div> </fieldset> </form> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../features/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Features"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Features </div> </div> </a> <a href=../interface/ class="md-footer__link md-footer__link--next" aria-label="Next: Interface"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Interface </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/flixOpt/flixopt target=_blank rel=noopener title="FlixOpt on GitHub" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://pypi.org/project/flixopt/ target=_blank rel=noopener title="FlixOpt on PyPI" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 444.7a20.4 20.4 0 1 1 0-40.7 20.4 20.4 0 1 1 0 40.7M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.6-183.4a20.4 20.4 0 1 1 0 40.8 20.4 20.4 0 1 1 0-40.8"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"annotate": null, "base": "../..", "features": ["navigation.instant", "navigation.instant.progress", "navigation.instant.prefetch", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.path", "navigation.prune", "navigation.indexes", "navigation.top", "navigation.footer", "toc.follow", "search.suggest", "search.highlight", "search.share", "content.action.edit", "content.action.view", "content.code.copy", "content.code.select", "content.code.annotate", "content.tooltips", "content.tabs.link", "announce.dismiss"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"alias": true, "default": "latest", "provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.79ae519e.min.js></script> <script src=../../js/timeago.min.js></script> <script src=../../js/timeago_mkdocs_material.js></script> <script src=../../javascripts/mathjax.js></script> <script src=../../javascripts/plotly-instant.js></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> </body> </html>